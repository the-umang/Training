(window.webpackJsonp=window.webpackJsonp||[]).push([[329],{1000:function(e,t,n){"use strict";n.r(t),n.d(t,"OrganizationDelete",function(){return b});var o=n(365),i=n(377),a=n(412),r=n(431),s=n(0),l=n(637),c=n(367),d=n(452),u=n(14),m=n(385),h=n(408),p=n(446);class b extends o.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={verify:""},this.fetchOrganizationPlanInfo=()=>{Object(u.isSonarCloud)()&&Object(d.e)(this.props.organization.key).then(e=>{this.mounted&&this.setState({hasPaidPlan:"inactive"!==e.subscription.status})},()=>{this.mounted&&this.setState({hasPaidPlan:!1})})},this.handleInput=e=>{this.setState({verify:e.currentTarget.value})},this.isVerified=()=>this.state.verify.toLowerCase()===this.props.organization.name.toLowerCase(),this.onDelete=()=>{const e=this.props.organization;return this.props.deleteOrganization(e.key).then(()=>{this.state.hasPaidPlan?this.props.router.replace({pathname:"/feedback/downgrade",state:{confirmationMessage:Object(s.m)("organization.deleted_x",e.name),organization:e,title:Object(s.l)("billing.downgrade.reason.title_deleted")}}):(Object(p.a)(Object(s.l)("organization.deleted")),this.props.router.replace("/"))})}}componentDidMount(){this.mounted=!0,this.fetchOrganizationPlanInfo()}componentWillUnmount(){this.mounted=!1}render(){const e=this.state.hasPaidPlan;return o.createElement("div",{className:"boxed-group boxed-group-inner"},o.createElement("h2",{className:"boxed-title"},Object(s.l)("organization.delete")),o.createElement("p",{className:"big-spacer-bottom width-50"},o.createElement(r.a,{message:Object(s.l)("organization.delete.description")})),o.createElement(a.a,{confirmButtonText:Object(s.l)("delete"),confirmDisable:!this.isVerified(),isDestructive:!0,modalBody:o.createElement("div",null,e&&o.createElement(m.a,{variant:"warning"},Object(s.l)("organization.delete.sonarcloud.paid_plan_info")),o.createElement("p",null,Object(s.l)("organization.delete.question")),o.createElement("div",{className:"spacer-top"},o.createElement("label",{htmlFor:"downgrade-organization-name"},Object(s.l)("billing.downgrade.modal.type_to_proceed")),o.createElement("div",{className:"little-spacer-top"},o.createElement("input",{autoFocus:!0,className:"input-super-large",id:"downgrade-organization-name",onChange:this.handleInput,type:"text",value:this.state.verify})))),modalHeader:Object(s.m)("organization.delete_x",this.props.organization.name),onConfirm:this.onDelete},e=>{let t=e.onClick;return o.createElement(c.a,{className:"js-custom-measure-delete button-red",onClick:t},Object(s.l)("delete"))}))}}const f={deleteOrganization:l.a};t.default=Object(h.a)(Object(i.connect)(null,f)(b))},378:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(365),i=n(405),a=n(366);function r(e){return o.createElement(i,Object.assign({className:a("modal",{"modal-small":"small"===e.size,"modal-medium":"medium"===e.size,"modal-large":"large"===e.size}),isOpen:!0,overlayClassName:a("modal-overlay",{"modal-no-backdrop":e.noBackdrop})},e))}i.setAppElement("#content")},387:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(365),i=n(378),a=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n};class r extends o.Component{constructor(){super(...arguments),this.mounted=!1,this.state={submitting:!1},this.stopSubmitting=()=>{this.mounted&&this.setState({submitting:!1})},this.handleCloseClick=e=>{e&&(e.preventDefault(),e.currentTarget.blur()),this.props.onClose()},this.handleFormSubmit=e=>{e.preventDefault(),this.submit()},this.handleSubmitClick=e=>{e&&(e.preventDefault(),e.currentTarget.blur()),this.submit()},this.submit=()=>{const e=this.props.onSubmit();e&&(this.setState({submitting:!0}),e.then(this.stopSubmitting,this.stopSubmitting))}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props,t=e.children,n=e.header,r=e.onClose,s=(e.onSubmit,a(e,["children","header","onClose","onSubmit"]));return o.createElement(i.a,Object.assign({contentLabel:n,onRequestClose:r},s),t({onCloseClick:this.handleCloseClick,onFormSubmit:this.handleFormSubmit,onSubmitClick:this.handleSubmitClick,submitting:this.state.submitting}))}}},396:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n(365),i=n(387),a=n(375),r=n(367),s=n(0);class l extends o.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.handleSubmit=()=>{const e=this.props.onConfirm(this.props.confirmData);return e?e.then(this.props.onClose,()=>{}):void this.props.onClose()},this.renderModalContent=e=>{let t=e.onCloseClick,n=e.onFormSubmit,i=e.submitting;const l=this.props,c=l.children,d=l.confirmButtonText,u=l.confirmDisable,m=l.header,h=l.headerDescription,p=l.isDestructive,b=l.cancelButtonText,f=void 0===b?Object(s.l)("cancel"):b;return o.createElement("form",{onSubmit:n},o.createElement("header",{className:"modal-head"},o.createElement("h2",null,m),h),o.createElement("div",{className:"modal-body"},c),o.createElement("footer",{className:"modal-foot"},o.createElement(a.a,{className:"spacer-right",loading:i}),o.createElement(r.i,{autoFocus:!0,className:p?"button-red":void 0,disabled:i||u},d),o.createElement(r.h,{disabled:i,onClick:t},f)))}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props,t={header:e.header,onClose:e.onClose,noBackdrop:e.noBackdrop,size:e.size};return o.createElement(i.a,Object.assign({onSubmit:this.handleSubmit},t),this.renderModalContent)}}},412:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(365),i=n(396),a=n(413),r=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n};class s extends o.PureComponent{constructor(){super(...arguments),this.renderConfirmModal=e=>{let t=e.onClose;const n=this.props,a=(n.children,n.modalBody),s=n.modalHeader,l=n.modalHeaderDescription,c=r(n,["children","modalBody","modalHeader","modalHeaderDescription"]);return o.createElement(i.a,Object.assign({header:s,headerDescription:l,onClose:t},c),a)}}render(){return o.createElement(a.a,{modal:this.renderConfirmModal},this.props.children)}}},413:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(365);class i extends o.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={modal:!1},this.handleButtonClick=()=>{this.setState({modal:!0})},this.handleFormSubmit=e=>{e&&e.preventDefault(),this.setState({modal:!0})},this.handleCloseModal=()=>{this.mounted&&this.setState({modal:!1})}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){return o.createElement(o.Fragment,null,this.props.children({onClick:this.handleButtonClick,onFormSubmit:this.handleFormSubmit}),this.state.modal&&this.props.modal({onClose:this.handleCloseModal}))}}},446:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n(428),i=n(422);function a(e){Object(o.default)().dispatch(i.b(e))}},505:function(e,t,n){var o;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),a={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(o=function(){return a}.call(t,n,t,e))||(e.exports=o)}()},637:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var o=n(452),i=n(561),a=n(422),r=n(0);function s(e,t){return n=>o.l(e,t).then(()=>{n(i.h(e,t)),n(Object(a.b)(Object(r.l)("organization.updated")))})}function l(e){return t=>o.c(e).then(()=>{t(i.c(e))})}}}]);
//# sourceMappingURL=329.m.ac4b8675.chunk.js.map