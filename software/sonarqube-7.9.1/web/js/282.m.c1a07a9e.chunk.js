(window.webpackJsonp=window.webpackJsonp||[]).push([[282],{1273:function(e,t,a){"use strict";a.r(t),t.default="Quality Profiles are collections of Rules to apply during an analysis.\n\n---\n\nSee also: [Quality Profiles](/instance-administration/quality-profiles/)\n"},1274:function(e,t,a){"use strict";a.r(t),t.default='Rule Templates allow users to easily define their own rules. They are like cookie cutters from which you can stamp out new, "custom rules". The rules created from a template are listed on its rule detail page.\n'},1275:function(e,t,a){var s=a(67),r=a(1276),n=a(15),i=a(6);e.exports=function(e,t){return(i(e)?s:r)(e,n(t,3))}},1276:function(e,t,a){var s=a(629);e.exports=function(e,t){var a=[];return s(e,function(e,s,r){t(e,s,r)&&a.push(e)}),a}},1277:function(e,t,a){"use strict";a.r(t),t.default='Only custom rules may be deleted. When a custom rule is deleted, it is not removed from the SonarQube instance. Instead its status is set to "REMOVED", allowing relevant issues to continue to be displayed properly.\n'},1672:function(e,t,a){"use strict";a.r(t);var s=a(473),r=a.n(s),n=a(365),i=a(381),l=a(377),o=a(371),c=a(527),u=a(780),p=a(378),h=a(386),d=a(385),m=a(367),g=a(410),f=a(0),v=a(376);class b extends n.PureComponent{constructor(e){var t;super(e),t=this,this.mounted=!1,this.handleProfileSelect=e=>{const t=e.map(e=>e.value);this.setState({selectedProfiles:t})},this.getAvailableQualityProfiles=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props,a=e.query,s=e.referencedProfiles,r=Object.values(s);return a.languages.length>0&&(r=r.filter(e=>a.languages.includes(e.language))),r.filter(e=>e.actions&&e.actions.edit).filter(e=>!e.isBuiltIn)},this.processResponse=(e,t)=>{if(this.mounted){const a={failed:t.failed||0,profile:e,succeeded:t.succeeded||0};this.setState(e=>({results:[...e.results,a]}))}},this.sendRequests=()=>{let e=Promise.resolve();const t=Object(u.f)(this.props.query);delete t.profile;const a="activate"===this.props.action?g.e:g.f,s=this.props.profile?[this.props.profile.key]:this.state.selectedProfiles;for(const r of s)e=e.then(()=>a(Object.assign({},t,{organization:this.props.organization,targetKey:r})).then(e=>this.processResponse(r,e)));return e},this.handleFormSubmit=e=>{e.preventDefault(),this.setState({submitting:!0}),this.sendRequests().then(()=>{this.mounted&&this.setState({finished:!0,submitting:!1})},()=>{this.mounted&&this.setState({submitting:!1})})},this.renderResult=e=>{const t=e.profile,a=this.props.referencedProfiles[t];if(!a)return null;const s=this.props.languages,r=s[a.language]?s[a.language].name:a.language;return n.createElement(d.a,{key:e.profile,variant:0===e.failed?"success":"warning"},e.failed?Object(f.m)("coding_rules.bulk_change.warning",a.name,r,e.succeeded,e.failed):Object(f.m)("coding_rules.bulk_change.success",a.name,r,e.succeeded))},this.renderProfileSelect=()=>{const e=this.getAvailableQualityProfiles().map(e=>({label:"".concat(e.name," - ").concat(e.languageName),value:e.key}));return n.createElement(h.c,{multi:!0,onChange:this.handleProfileSelect,options:e,value:this.state.selectedProfiles})};const a=[],s=this.getAvailableQualityProfiles(e);1===s.length&&a.push(s[0].key),this.state={finished:!1,results:[],selectedProfiles:a,submitting:!1}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props,t=e.action,a=e.profile,s=e.total,r="activate"===t?"".concat(Object(f.l)("coding_rules.activate_in_quality_profile")," (").concat(Object(v.formatMeasure)(s,"INT")," ").concat(Object(f.l)("coding_rules._rules"),")"):"".concat(Object(f.l)("coding_rules.deactivate_in_quality_profile")," (").concat(Object(v.formatMeasure)(s,"INT")," ").concat(Object(f.l)("coding_rules._rules"),")");return n.createElement(p.a,{contentLabel:r,onRequestClose:this.props.onClose,size:"small"},n.createElement("form",{onSubmit:this.handleFormSubmit},n.createElement("header",{className:"modal-head"},n.createElement("h2",null,r)),n.createElement("div",{className:"modal-body"},this.state.results.map(this.renderResult),!this.state.finished&&!this.state.submitting&&n.createElement("div",{className:"modal-field"},n.createElement("h3",null,n.createElement("label",{htmlFor:"coding-rules-bulk-change-profile"},"activate"===t?Object(f.l)("coding_rules.activate_in"):Object(f.l)("coding_rules.deactivate_in"))),a?n.createElement("span",null,a.name," — ",Object(f.l)("are_you_sure")):this.renderProfileSelect())),n.createElement("footer",{className:"modal-foot"},this.state.submitting&&n.createElement("i",{className:"spinner spacer-right"}),!this.state.finished&&n.createElement(m.i,{disabled:this.state.submitting,id:"coding-rules-submit-bulk-change"},Object(f.l)("apply")),n.createElement(m.h,{onClick:this.props.onClose},this.state.finished?Object(f.l)("close"):Object(f.l)("cancel")))))}}var y=a(388);class E extends n.PureComponent{constructor(){super(...arguments),this.state={modal:!1},this.getSelectedProfile=()=>{const e=this.props.query.profile;return e&&this.props.referencedProfiles[e]||void 0},this.closeModal=()=>this.setState({action:void 0,modal:!1,profile:void 0}),this.handleActivateClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.setState({action:"activate",modal:!0,profile:void 0})},this.handleActivateInProfileClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.setState({action:"activate",modal:!0,profile:this.getSelectedProfile()})},this.handleDeactivateClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.setState({action:"deactivate",modal:!0,profile:void 0})},this.handleDeactivateInProfileClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.setState({action:"deactivate",modal:!0,profile:this.getSelectedProfile()})}}render(){if(!Object.values(this.props.referencedProfiles).some(e=>Boolean(e.actions&&e.actions.edit)))return null;const e=this.props.query.activation,t=this.getSelectedProfile(),a=Boolean(t&&!t.isBuiltIn&&t.actions&&t.actions.edit),s=a&&!1===e,r=a&&!0===e;return n.createElement(n.Fragment,null,n.createElement(y.b,{className:"pull-left",overlay:n.createElement("ul",{className:"menu"},n.createElement("li",null,n.createElement("a",{href:"#",onClick:this.handleActivateClick},Object(f.l)("coding_rules.activate_in"),"…")),s&&t&&n.createElement("li",null,n.createElement("a",{href:"#",onClick:this.handleActivateInProfileClick},Object(f.l)("coding_rules.activate_in")," ",n.createElement("strong",null,t.name))),n.createElement("li",null,n.createElement("a",{href:"#",onClick:this.handleDeactivateClick},Object(f.l)("coding_rules.deactivate_in"),"…")),r&&t&&n.createElement("li",null,n.createElement("a",{href:"#",onClick:this.handleDeactivateInProfileClick},Object(f.l)("coding_rules.deactivate_in")," ",n.createElement("strong",null,t.name))))},n.createElement(m.a,{className:"js-bulk-change"},Object(f.l)("bulk_change"))),this.state.modal&&this.state.action&&n.createElement(b,{action:this.state.action,languages:this.props.languages,onClose:this.closeModal,organization:this.props.organization,profile:this.state.profile,query:this.props.query,referencedProfiles:this.props.referencedProfiles,total:this.props.total}))}}var O=a(382),C=a.n(O),S=a(417),j=a.n(S),k=a(592),N=a.n(k),x=a(366),T=a(470),_=a(482),w=a(484),R=a(497),P=a(374);class F extends n.PureComponent{constructor(){super(...arguments),this.handleItemClick=(e,t)=>{const a=this.props.values;let s;if(this.props.singleSelection){s=e===(a.length?a[0]:void 0)?void 0:e}else s=t?N()(a.includes(e)?j()(a,e):[...a,e]):a.includes(e)&&a.length<2?[]:[e];this.props.onChange({[this.props.property]:s})},this.handleHeaderClick=()=>this.props.onToggle(this.props.property),this.handleClear=()=>this.props.onChange({[this.props.property]:[]}),this.getStat=e=>this.props.stats&&this.props.stats[e],this.renderItem=e=>{const t=this.props.values.includes(e),a=this.getStat(e),s=this.props,r=s.renderName,i=void 0===r?D:r,l=s.renderTextName,o=void 0===l?D:l;return n.createElement(w.a,{active:t,disabled:0===a&&!t,halfWidth:this.props.halfWidth,key:e,name:i(e),onClick:this.handleItemClick,stat:a&&Object(v.formatMeasure)(a,"SHORT_INT"),tooltip:o(e),value:e})}}render(){const e=this.props,t=e.disabled,a=e.renderTextName,s=void 0===a?D:a,r=e.stats,i=this.props.values.map(s),l=this.props.options||r&&C()(Object.keys(r),e=>-r[e],e=>s(e).toLowerCase());return n.createElement(T.a,{className:x({"search-navigator-facet-box-forbidden":t}),property:this.props.property},n.createElement(_.a,{name:n.createElement(P.a,{overlay:t?this.props.disabledHelper:void 0},n.createElement("span",null,Object(f.l)("coding_rules.facet",this.props.property))),onClear:this.handleClear,onClick:t?void 0:this.handleHeaderClick,open:this.props.open&&!t,values:i},this.props.children),this.props.open&&void 0!==l&&n.createElement(R.a,null,l.map(this.renderItem)),this.props.open&&void 0!==this.props.renderFooter&&this.props.renderFooter())}}function D(e){return e}var q=a(432),z=a(489);class I extends n.PureComponent{constructor(){super(...arguments),this.renderName=e=>n.createElement(q.a,{severity:e}),this.renderTextName=e=>Object(f.l)("severity",e)}render(){return n.createElement(F,Object.assign({},this.props,{disabled:this.props.disabled,disabledHelper:Object(f.l)("coding_rules.filters.active_severity.inactive"),halfWidth:!0,options:z.e,property:"activationSeverities",renderName:this.renderName,renderTextName:this.renderTextName}))}}var L=a(359),M=a(626),A=a(401);var H=Object(L.injectIntl)(class extends n.PureComponent{constructor(){super(...arguments),this.handleHeaderClick=()=>{this.props.onToggle("availableSince")},this.handleClear=()=>{this.props.onChange({availableSince:void 0})},this.handlePeriodChange=e=>{this.props.onChange({availableSince:e})},this.getValues=()=>this.props.value?[this.props.intl.formatDate(this.props.value,A.b)]:void 0}render(){return n.createElement(T.a,{property:"availableSince"},n.createElement(_.a,{name:Object(f.l)("coding_rules.facet.available_since"),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:this.getValues()}),this.props.open&&n.createElement(M.a,{name:"available-since",onChange:this.handlePeriodChange,placeholder:Object(f.l)("date"),value:this.props.value}))}});class B extends n.PureComponent{constructor(){super(...arguments),this.renderName=e=>n.createElement(q.a,{severity:e}),this.renderTextName=e=>Object(f.l)("severity",e)}render(){return n.createElement(F,Object.assign({},this.props,{halfWidth:!0,options:z.e,property:"severities",renderName:this.renderName,renderTextName:this.renderTextName}))}}var U=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&(a[s[r]]=e[s[r]])}return a};class W extends n.PureComponent{constructor(){super(...arguments),this.renderName=e=>Object(f.l)("coding_rules.filters.inheritance",e.toLowerCase())}render(){const e=this.props,t=e.value,a=U(e,["value"]);return n.createElement(F,Object.assign({},a,{disabled:this.props.disabled,disabledHelper:Object(f.l)("coding_rules.filters.inheritance.inactive"),options:["NONE","INHERITED","OVERRIDES"],property:"inheritance",renderName:this.renderName,renderTextName:this.renderName,singleSelection:!0,values:t?[t]:[]}))}}var K=a(544),V=a.n(K),J=a(379),Q=a(512),Y=a(520);var X=Object(l.connect)(e=>({installedLanguages:Object.values(Object(J.getLanguages)(e))}))(class extends n.PureComponent{constructor(){super(...arguments),this.getLanguageName=e=>{const t=this.props.installedLanguages.find(t=>t.key===e);return t?t.name:e},this.handleSearch=e=>{const t=this.getAllPossibleOptions().filter(t=>t.name.toLowerCase().includes(e.toLowerCase())),a={pageIndex:1,pageSize:t.length,total:t.length};return Promise.resolve({paging:a,results:t})},this.getAllPossibleOptions=()=>{const e=this.props,t=e.installedLanguages,a=e.stats,s=void 0===a?{}:a;return V()([...t,...Object.keys(s).map(e=>({key:e,name:e}))],e=>e.key)},this.renderSearchResult=(e,t)=>{let a=e.name;return Object(Y.a)(a,t)}}render(){return n.createElement(Q.a,{disabled:this.props.disabled,disabledHelper:Object(f.l)("coding_rules.filters.language.inactive"),facetHeader:Object(f.l)("coding_rules.facet.languages"),fetching:!1,getFacetItemText:this.getLanguageName,getSearchResultKey:e=>e.key,getSearchResultText:e=>e.name,minSearchLength:1,onChange:this.props.onChange,onSearch:this.handleSearch,onToggle:this.props.onToggle,open:this.props.open,property:"languages",renderFacetItem:this.getLanguageName,renderSearchResult:this.renderSearchResult,searchPlaceholder:Object(f.l)("search.search_for_languages"),stats:this.props.stats,values:this.props.values})}}),Z=a(395);class G extends n.PureComponent{constructor(){super(...arguments),this.handleItemClick=e=>{const t=this.props.value===e?"":e;this.props.onChange({activation:void 0===this.props.activation||this.props.activation,compareToProfile:void 0,profile:t})},this.handleHeaderClick=()=>this.props.onToggle("profile"),this.handleClear=()=>this.props.onChange({activation:void 0,activationSeverities:[],compareToProfile:void 0,inheritance:void 0,profile:void 0}),this.handleActiveClick=e=>{this.stopPropagation(e),this.props.onChange({activation:!0,compareToProfile:void 0})},this.handleInactiveClick=e=>{this.stopPropagation(e),this.props.onChange({activation:!1,compareToProfile:void 0})},this.stopPropagation=e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.blur()},this.getTextValue=()=>{const e=this.props,t=e.referencedProfiles,a=e.value;if(a){const e=t[a];return[e&&"".concat(e.name," ").concat(e.languageName)||a]}return[]},this.getTooltip=e=>{const t="".concat(e.name," ").concat(e.languageName);return e.isBuiltIn?"".concat(t," (").concat(Object(f.l)("quality_profiles.built_in"),")"):t},this.renderName=e=>n.createElement(n.Fragment,null,e.name,n.createElement("span",{className:"note little-spacer-left"},e.languageName,e.isBuiltIn&&" (".concat(Object(f.l)("quality_profiles.built_in"),")"))),this.renderActivation=e=>{const t=e.key===this.props.compareToProfile,a=!!t||this.props.activation;return n.createElement(n.Fragment,null,n.createElement("span",{"aria-checked":a,className:x("js-active","facet-toggle","facet-toggle-green",{"facet-toggle-active":a}),onClick:t?this.stopPropagation:this.handleActiveClick,role:"radio",tabIndex:-1},"active"),n.createElement("span",{"aria-checked":!a,className:x("js-inactive","facet-toggle","facet-toggle-red",{"facet-toggle-active":!a}),onClick:t?this.stopPropagation:this.handleInactiveClick,role:"radio",tabIndex:-1},"inactive"))},this.renderItem=e=>{const t=[this.props.value,this.props.compareToProfile].includes(e.key);return n.createElement(w.a,{active:t,className:this.props.compareToProfile===e.key?"compare":void 0,key:e.key,name:this.renderName(e),onClick:this.handleItemClick,stat:this.renderActivation(e),tooltip:this.getTooltip(e),value:e.key})}}render(){const e=this.props,t=e.languages,s=e.referencedProfiles;let r=Object.values(s);return t.length>0&&(r=r.filter(e=>t.includes(e.language))),r=C()(r,e=>e.name.toLowerCase(),e=>e.languageName),n.createElement(T.a,{property:"profile"},n.createElement(_.a,{name:Object(f.l)("coding_rules.facet.qprofile"),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:this.getTextValue()},n.createElement(Z.a,{className:"spacer-left",doc:Promise.resolve().then(a.bind(null,1273))})),this.props.open&&n.createElement(R.a,null,r.map(this.renderItem)))}}var $=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&(a[s[r]]=e[s[r]])}return a};var ee=Object(l.connect)(e=>({referencedLanguages:Object(J.getLanguages)(e)}))(class extends n.PureComponent{constructor(){super(...arguments),this.getLanguageName=e=>{const t=this.props.referencedLanguages[e];return t&&t.name||e},this.renderName=e=>{const t=this.props.referencedRepositories[e];return t?n.createElement(n.Fragment,null,t.name,n.createElement("span",{className:"note little-spacer-left"},this.getLanguageName(t.language))):e},this.renderTextName=e=>{const t=this.props.referencedRepositories[e];return t&&t.name||e}}render(){const e=this.props,t=(e.referencedLanguages,e.referencedRepositories,$(e,["referencedLanguages","referencedRepositories"]));return n.createElement(F,Object.assign({},t,{property:"repositories",renderName:this.renderName,renderTextName:this.renderTextName}))}});class te extends n.PureComponent{constructor(){super(...arguments),this.renderName=e=>Object(f.l)("rules.status",e.toLowerCase())}render(){return n.createElement(F,Object.assign({},this.props,{options:z.c,property:"statuses",renderName:this.renderName,renderTextName:this.renderName}))}}var ae=a(441),se=a.n(ae),re=a(434),ne=a(373),ie=a(468);class le extends n.PureComponent{constructor(){super(...arguments),this.handleSearch=e=>Object(re.d)({organization:this.props.organization,ps:50,q:e}).then(e=>({paging:{pageIndex:1,pageSize:e.length,total:e.length},results:e})),this.handleSelect=e=>{this.props.onChange({tags:se()([...this.props.values,e.value])})},this.getTagName=e=>e,this.renderTag=e=>n.createElement(n.Fragment,null,n.createElement(ie.a,{className:"little-spacer-right",fill:ne.gray60}),e),this.renderSearchResult=(e,t)=>n.createElement(n.Fragment,null,n.createElement(ie.a,{className:"little-spacer-right",fill:ne.gray60}),Object(Y.a)(e,t))}render(){return n.createElement(Q.a,{facetHeader:Object(f.l)("coding_rules.facet.tags"),fetching:!1,getFacetItemText:this.getTagName,getSearchResultKey:e=>e,getSearchResultText:e=>e,onChange:this.props.onChange,onSearch:this.handleSearch,onToggle:this.props.onToggle,open:this.props.open,property:"tags",renderFacetItem:this.renderTag,renderSearchResult:this.renderSearchResult,searchPlaceholder:Object(f.l)("search.search_for_tags"),stats:this.props.stats,values:this.props.values})}}var oe=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&(a[s[r]]=e[s[r]])}return a};class ce extends n.PureComponent{constructor(){super(...arguments),this.handleChange=e=>{const t=Array.isArray(e.template)||void 0===e.template?void 0:"true"===e.template;this.props.onChange(Object.assign({},e,{template:t}))},this.renderName=e=>"true"===e?Object(f.l)("coding_rules.filters.template.is_template"):Object(f.l)("coding_rules.filters.template.is_not_template")}render(){const e=this.props,t=(e.onChange,e.value),s=oe(e,["onChange","value"]);return n.createElement(F,Object.assign({},s,{onChange:this.handleChange,options:["true","false"],property:"template",renderName:this.renderName,renderTextName:this.renderName,singleSelection:!0,values:void 0!==t?[String(t)]:[]}),n.createElement(Z.a,{className:"spacer-left",doc:Promise.resolve().then(a.bind(null,1274))}))}}var ue=a(429);class pe extends n.PureComponent{constructor(){super(...arguments),this.renderName=e=>n.createElement(n.Fragment,null,n.createElement(ue.a,{className:"little-spacer-right",query:e}),Object(f.l)("issue.type",e)),this.renderTextName=e=>Object(f.l)("issue.type",e)}render(){return n.createElement(F,Object.assign({},this.props,{options:["BUG","VULNERABILITY","CODE_SMELL","SECURITY_HOTSPOT"],property:"types",renderName:this.renderName,renderTextName:this.renderTextName}))}}var he=a(823);function de(e){const t=!e.hideProfileFacet&&void 0!==e.query.profile,a=void 0!==e.query.compareToProfile||void 0===e.selectedProfile||!e.selectedProfile.isInherited,s=void 0!==e.query.compareToProfile||void 0===e.selectedProfile||!e.query.activation;return n.createElement(n.Fragment,null,n.createElement(X,{disabled:t,onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.languages,stats:e.facets&&e.facets.languages,values:e.query.languages}),n.createElement(pe,{onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.types,stats:e.facets&&e.facets.types,values:e.query.types}),n.createElement(le,{onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.tags,organization:e.organization,stats:e.facets&&e.facets.tags,values:e.query.tags}),n.createElement(ee,{onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.repositories,referencedRepositories:e.referencedRepositories,stats:e.facets&&e.facets.repositories,values:e.query.repositories}),n.createElement(B,{onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.severities,stats:e.facets&&e.facets.severities,values:e.query.severities}),n.createElement(te,{onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.statuses,stats:e.facets&&e.facets.statuses,values:e.query.statuses}),n.createElement(he.a,{cwe:e.query.cwe,cweOpen:!!e.openFacets.cwe,cweStats:e.facets&&e.facets.cwe,fetchingCwe:!1,fetchingOwaspTop10:!1,fetchingSansTop25:!1,fetchingSonarSourceSecurity:!1,onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.standards,owaspTop10:e.query.owaspTop10,owaspTop10Open:!!e.openFacets.owaspTop10,owaspTop10Stats:e.facets&&e.facets.owaspTop10,query:e.query,sansTop25:e.query.sansTop25,sansTop25Open:!!e.openFacets.sansTop25,sansTop25Stats:e.facets&&e.facets.sansTop25,sonarsourceSecurity:e.query.sonarsourceSecurity,sonarsourceSecurityOpen:!!e.openFacets.sonarsourceSecurity,sonarsourceSecurityStats:e.facets&&e.facets.sonarsourceSecurity}),n.createElement(H,{onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.availableSince,value:e.query.availableSince}),!e.organizationsEnabled&&n.createElement(ce,{onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.template,value:e.query.template}),!e.hideProfileFacet&&n.createElement(n.Fragment,null,n.createElement(G,{activation:e.query.activation,compareToProfile:e.query.compareToProfile,languages:e.query.languages,onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.profile,referencedProfiles:e.referencedProfiles,value:e.query.profile}),n.createElement(W,{disabled:a,onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.inheritance,value:e.query.inheritance}),n.createElement(I,{disabled:s,onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.activationSeverities,stats:e.facets&&e.facets.activationSeverities,values:e.query.activationSeverities})))}var me=a(375),ge=a(824),fe=a(640);function ve(e){return n.createElement("div",{className:"pull-right"},n.createElement(be,null),n.createElement(me.a,{loading:e.loading},n.createElement(fe.a,{onClick:e.onReload})),e.paging&&n.createElement(ge.a,{className:"spacer-left flash flash-heavy",current:e.selectedIndex,label:Object(f.l)("coding_rules._rules"),total:e.paging.total}))}function be(){return n.createElement("span",{className:"note big-spacer-right"},n.createElement("span",{className:"big-spacer-right"},n.createElement("span",{className:"shortcut-button little-spacer-right"},"↑"),n.createElement("span",{className:"shortcut-button little-spacer-right"},"↓"),Object(f.l)("coding_rules.to_select_rules")),n.createElement("span",null,n.createElement("span",{className:"shortcut-button little-spacer-right"},"←"),n.createElement("span",{className:"shortcut-button little-spacer-right"},"→"),Object(f.l)("issues.to_navigate")))}var ye=a(615),Ee=a(825),Oe=a(495),Ce=a(634);class Se extends n.PureComponent{constructor(e){super(e),this.mounted=!1,this.prepareRequest=()=>{const e=this.props,t=e.customRule,a=e.organization,s=e.templateRule,r=Object.keys(this.state.params).map(e=>"".concat(e,"=").concat(Object(Oe.a)(this.state.params[e]))).join(";"),n={markdown_description:this.state.description,name:this.state.name,organization:a,params:r,severity:this.state.severity,status:this.state.status};return t?Object(re.h)(Object.assign({},n,{key:t.key})):Object(re.a)(Object.assign({},n,{custom_key:this.state.key,prevent_reactivation:!this.state.reactivating,template_key:s.key,type:this.state.type}))},this.handleFormSubmit=e=>{e.preventDefault(),this.setState({submitting:!0}),this.prepareRequest().then(e=>{this.mounted&&(this.setState({submitting:!1}),this.props.onDone(e))},e=>{this.mounted&&this.setState({reactivating:409===e.status,submitting:!1})})},this.handleNameChange=e=>{const t=e.currentTarget.value;this.setState(e=>({name:t,key:e.keyModifiedByUser?e.key:Object(Ce.b)(t).replace(/[^A-Za-z0-9]/g,"_")}))},this.handleKeyChange=e=>this.setState({key:e.currentTarget.value,keyModifiedByUser:!0}),this.handleDescriptionChange=e=>this.setState({description:e.currentTarget.value}),this.handleTypeChange=e=>{let t=e.value;return this.setState({type:t})},this.handleSeverityChange=e=>{let t=e.value;return this.setState({severity:t})},this.handleStatusChange=e=>{let t=e.value;return this.setState({status:t})},this.handleParameterChange=e=>{const t=e.currentTarget,a=t.name,s=t.value;this.setState(e=>({params:Object.assign({},e.params,{[a]:s})}))},this.renderNameField=()=>n.createElement("div",{className:"modal-field"},n.createElement("label",{htmlFor:"coding-rules-custom-rule-creation-name"},Object(f.l)("name")," ",n.createElement("em",{className:"mandatory"},"*")),n.createElement("input",{autoFocus:!0,disabled:this.state.submitting,id:"coding-rules-custom-rule-creation-name",onChange:this.handleNameChange,required:!0,type:"text",value:this.state.name})),this.renderKeyField=()=>n.createElement("div",{className:"modal-field"},n.createElement("label",{htmlFor:"coding-rules-custom-rule-creation-key"},Object(f.l)("key")," ",!this.props.customRule&&n.createElement("em",{className:"mandatory"},"*")),this.props.customRule?n.createElement("span",{className:"coding-rules-detail-custom-rule-key",title:this.props.customRule.key},this.props.customRule.key):n.createElement("input",{disabled:this.state.submitting,id:"coding-rules-custom-rule-creation-key",onChange:this.handleKeyChange,required:!0,type:"text",value:this.state.key})),this.renderDescriptionField=()=>n.createElement("div",{className:"modal-field"},n.createElement("label",{htmlFor:"coding-rules-custom-rule-creation-html-description"},Object(f.l)("description")," ",n.createElement("em",{className:"mandatory"},"*")),n.createElement("textarea",{disabled:this.state.submitting,id:"coding-rules-custom-rule-creation-html-description",onChange:this.handleDescriptionChange,required:!0,rows:5,value:this.state.description}),n.createElement(ye.a,{className:"modal-field-descriptor text-right"})),this.renderTypeOption=e=>{let t=e.value;return n.createElement(Ee.a,{type:t})},this.renderTypeField=()=>n.createElement("div",{className:"modal-field flex-1 spacer-right"},n.createElement("label",{htmlFor:"coding-rules-custom-rule-type"},Object(f.l)("type")),n.createElement(h.c,{clearable:!1,disabled:this.state.submitting,id:"coding-rules-custom-rule-type",onChange:this.handleTypeChange,optionRenderer:this.renderTypeOption,options:z.d.map(e=>({label:Object(f.l)("issue.type",e),value:e})),searchable:!1,value:this.state.type,valueRenderer:this.renderTypeOption})),this.renderSeverityOption=e=>{let t=e.value;return n.createElement(q.a,{severity:t})},this.renderSeverityField=()=>n.createElement("div",{className:"modal-field flex-1 spacer-right"},n.createElement("label",{htmlFor:"coding-rules-custom-rule-severity"},Object(f.l)("severity")),n.createElement(h.c,{clearable:!1,disabled:this.state.submitting,id:"coding-rules-custom-rule-severity",onChange:this.handleSeverityChange,optionRenderer:this.renderSeverityOption,options:z.e.map(e=>({label:Object(f.l)("severity",e),value:e})),searchable:!1,value:this.state.severity,valueRenderer:this.renderSeverityOption})),this.renderStatusField=()=>n.createElement("div",{className:"modal-field flex-1"},n.createElement("label",{htmlFor:"coding-rules-custom-rule-status"},Object(f.l)("coding_rules.filters.status")),n.createElement(h.c,{clearable:!1,disabled:this.state.submitting,id:"coding-rules-custom-rule-status",onChange:this.handleStatusChange,options:z.c.map(e=>({label:Object(f.l)("rules.status",e),value:e})),searchable:!1,value:this.state.status})),this.renderParameterField=e=>n.createElement("div",{className:"modal-field",key:e.key},n.createElement("label",{className:"capitalize",htmlFor:e.key},e.key),"TEXT"===e.type?n.createElement("textarea",{disabled:this.state.submitting,id:e.key,name:e.key,onChange:this.handleParameterChange,placeholder:e.defaultValue,rows:3,value:this.state.params[e.key]||""}):n.createElement("input",{disabled:this.state.submitting,id:e.key,name:e.key,onChange:this.handleParameterChange,placeholder:e.defaultValue,type:"text",value:this.state.params[e.key]||""}),n.createElement("div",{className:"modal-field-description",dangerouslySetInnerHTML:{__html:e.htmlDesc||""}}));const t={};if(e.customRule&&e.customRule.params)for(const a of e.customRule.params)t[a.key]=a.defaultValue||"";this.state={description:e.customRule&&e.customRule.mdDesc||"",key:"",keyModifiedByUser:!1,name:e.customRule&&e.customRule.name||"",params:t,reactivating:!1,severity:e.customRule&&e.customRule.severity||e.templateRule.severity,status:e.customRule&&e.customRule.status||e.templateRule.status,submitting:!1,type:e.customRule&&e.customRule.type||e.templateRule.type}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props,t=e.customRule,a=e.templateRule,s=this.state,r=s.reactivating,i=s.submitting,l=a.params,o=void 0===l?[]:l,c=t?Object(f.l)("coding_rules.update_custom_rule"):Object(f.l)("coding_rules.create_custom_rule");let u=this.props.customRule?Object(f.l)("save"):Object(f.l)("create");return this.state.reactivating&&(u=Object(f.l)("coding_rules.reactivate")),n.createElement(p.a,{contentLabel:c,onRequestClose:this.props.onClose},n.createElement("form",{onSubmit:this.handleFormSubmit},n.createElement("div",{className:"modal-head"},n.createElement("h2",null,c)),n.createElement("div",{className:"modal-body modal-container"},r&&n.createElement(d.a,{variant:"warning"},Object(f.l)("coding_rules.reactivate.help")),this.renderNameField(),this.renderKeyField(),n.createElement("div",{className:"display-flex-space-between"},!t&&this.renderTypeField(),this.renderSeverityField(),this.renderStatusField()),this.renderDescriptionField(),o.map(this.renderParameterField)),n.createElement("div",{className:"modal-foot"},i&&n.createElement("i",{className:"spinner spacer-right"}),n.createElement(m.i,{disabled:this.state.submitting},u),n.createElement(m.h,{disabled:i,id:"coding-rules-custom-rule-creation-cancel",onClick:this.props.onClose},Object(f.l)("cancel")))))}}class je extends n.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={modal:!1},this.handleClick=()=>{this.setState({modal:!0})},this.handleModalClose=()=>{this.mounted&&this.setState({modal:!1})},this.handleDone=e=>{this.handleModalClose(),this.props.onDone(e)}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){return n.createElement(n.Fragment,null,this.props.children({onClick:this.handleClick}),this.state.modal&&n.createElement(Se,{customRule:this.props.customRule,onClose:this.handleModalClose,onDone:this.handleDone,organization:this.props.organization,templateRule:this.props.templateRule}))}}var ke=a(412),Ne=a(372);class xe extends n.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!1},this.fetchRules=()=>{this.setState({loading:!0}),Object(re.f)({f:"name,severity,params",organization:this.props.organization,template_key:this.props.ruleDetails.key}).then(e=>{let t=e.rules;this.mounted&&this.setState({rules:t,loading:!1})},()=>{this.mounted&&this.setState({loading:!1})})},this.handleRuleCreate=e=>{this.mounted&&this.setState(t=>{let a=t.rules;return{rules:[...void 0===a?[]:a,e]}})},this.handleRuleDelete=e=>Object(re.b)({key:e,organization:this.props.organization}).then(()=>{this.mounted&&this.setState(t=>{let a=t.rules;return{rules:(void 0===a?[]:a).filter(t=>t.key!==e)}})}),this.renderRule=e=>n.createElement("tr",{"data-rule":e.key,key:e.key},n.createElement("td",{className:"coding-rules-detail-list-name"},n.createElement(o.Link,{to:Object(Ne.B)(e.key,this.props.organization)},e.name)),n.createElement("td",{className:"coding-rules-detail-list-severity"},n.createElement(q.a,{className:"display-flex-center",severity:e.severity})),n.createElement("td",{className:"coding-rules-detail-list-parameters"},e.params&&e.params.filter(e=>e.defaultValue).map(e=>n.createElement("div",{className:"coding-rules-detail-list-parameter",key:e.key},n.createElement("span",{className:"key"},e.key),n.createElement("span",{className:"sep"},": "),n.createElement("span",{className:"value",title:e.defaultValue},e.defaultValue)))),this.props.canChange&&n.createElement("td",{className:"coding-rules-detail-list-actions"},n.createElement(ke.a,{confirmButtonText:Object(f.l)("delete"),confirmData:e.key,isDestructive:!0,modalBody:Object(f.m)("coding_rules.delete.custom.confirm",e.name),modalHeader:Object(f.l)("coding_rules.delete_rule"),onConfirm:this.handleRuleDelete},e=>{let t=e.onClick;return n.createElement(m.a,{className:"button-red js-delete-custom-rule",onClick:t},Object(f.l)("delete"))})))}componentDidMount(){this.mounted=!0,this.fetchRules()}componentDidUpdate(e){e.ruleDetails.key!==this.props.ruleDetails.key&&this.fetchRules()}componentWillUnmount(){this.mounted=!1}render(){const e=this.state,t=e.loading,a=e.rules,s=void 0===a?[]:a;return n.createElement("div",{className:"js-rule-custom-rules coding-rule-section"},n.createElement("div",{className:"coding-rules-detail-custom-rules-section"},n.createElement("div",{className:"coding-rule-section-separator"}),n.createElement("h3",{className:"coding-rules-detail-title"},Object(f.l)("coding_rules.custom_rules")),this.props.canChange&&n.createElement(je,{onDone:this.handleRuleCreate,organization:this.props.organization,templateRule:this.props.ruleDetails},e=>{let t=e.onClick;return n.createElement(m.a,{className:"js-create-custom-rule spacer-left",onClick:t},Object(f.l)("coding_rules.create"))}),n.createElement(me.a,{className:"spacer-left",loading:t},s.length>0&&n.createElement("table",{className:"coding-rules-detail-list",id:"coding-rules-detail-custom-rules"},n.createElement("tbody",null,C()(s,e=>e.name).map(this.renderRule))))))}}var Te=a(905),_e=a(418),we=a(506);var Re=Object(we.a)(class extends n.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!0},this.getBaseIssuesQuery=()=>({resolved:"false",rules:this.props.ruleDetails.key,types:"SECURITY_HOTSPOT"===this.props.ruleDetails.type?["VULNERABILITY","SECURITY_HOTSPOT"].join():void 0}),this.fetchIssues=()=>{this.setState({loading:!0}),Object(_e.e)(Object.assign({},this.getBaseIssuesQuery(),{organization:this.props.organization}),"projects").then(e=>{let t=e.facet,a=e.response;if(this.mounted){const e=a.components,s=void 0===e?[]:e,r=a.paging,n=[];for(const e of t){const t=s.find(t=>t.key===e.val);t&&n.push({count:e.count,key:t.key,name:t.name})}this.setState({projects:n,loading:!1,total:r.total})}},()=>{this.mounted&&this.setState({loading:!1})})},this.renderTotal=()=>{const e=this.state.total;if(void 0===e)return null;const t=Object(Ne.m)(this.getBaseIssuesQuery(),this.props.organization),a=n.createElement("span",{className:"little-spacer-left"},"(",n.createElement(o.Link,{to:t},e),")");return this.props.appState.branchesEnabled?n.createElement(P.a,{overlay:Object(f.l)("coding_rules.issues.only_main_branches")},a):a},this.renderProject=e=>{const t=Object(Ne.m)(Object.assign({},this.getBaseIssuesQuery(),{projects:e.key}),this.props.organization);return n.createElement("tr",{key:e.key},n.createElement("td",{className:"coding-rules-detail-list-name"},e.name),n.createElement("td",{className:"coding-rules-detail-list-parameters"},n.createElement(o.Link,{to:t},Object(v.formatMeasure)(e.count,"INT"))))}}componentDidMount(){this.mounted=!0,this.fetchIssues()}componentDidUpdate(e){e.ruleDetails!==this.props.ruleDetails&&this.fetchIssues()}componentWillUnmount(){this.mounted=!1}render(){const e=this.state,t=e.loading,a=e.projects,s=void 0===a?[]:a;return n.createElement("div",{className:"js-rule-issues coding-rule-section"},n.createElement("div",{className:"coding-rule-section-separator"}),n.createElement(me.a,{loading:t},n.createElement("h3",{className:"coding-rules-detail-title"},Object(f.l)("coding_rules.issues"),this.renderTotal()),s.length>0&&n.createElement("table",{className:"coding-rules-detail-list coding-rules-most-violated-projects"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{className:"coding-rules-detail-list-name",colSpan:2},Object(f.l)("coding_rules.most_violating_projects"))),s.map(this.renderProject)))))}}),Pe=a(902);class Fe extends n.PureComponent{constructor(){super(...arguments),this.renderParameter=e=>n.createElement("tr",{className:"coding-rules-detail-parameter",key:e.key},n.createElement("td",{className:"coding-rules-detail-parameter-name"},e.key),n.createElement("td",{className:"coding-rules-detail-parameter-description"},n.createElement("p",{dangerouslySetInnerHTML:{__html:e.htmlDesc||""}}),void 0!==e.defaultValue&&n.createElement("div",{className:"note spacer-top"},Object(f.l)("coding_rules.parameters.default_value"),n.createElement("br",null),n.createElement("span",{className:"coding-rules-detail-parameter-value"},e.defaultValue))))}render(){return n.createElement("div",{className:"js-rule-parameters"},n.createElement("h3",{className:"coding-rules-detail-title"},Object(f.l)("coding_rules.parameters")),n.createElement("table",{className:"coding-rules-detail-parameters"},n.createElement("tbody",null,this.props.params.map(this.renderParameter))))}}var De=a(1275),qe=a.n(De),ze=a(971);class Ie extends n.PureComponent{constructor(){super(...arguments),this.state={modal:!1},this.handleButtonClick=()=>{this.setState({modal:!0})},this.handleCloseModal=()=>{this.setState({modal:!1})}}render(){return n.createElement(n.Fragment,null,n.createElement(m.a,{className:this.props.className,id:"coding-rules-quality-profile-activate",onClick:this.handleButtonClick},this.props.buttonText),this.state.modal&&n.createElement(ze.default,{activation:this.props.activation,modalHeader:this.props.modalHeader,onClose:this.handleCloseModal,onDone:this.props.onDone,organization:this.props.organization,profiles:this.props.profiles,rule:this.props.rule}))}}var Le=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&(a[s[r]]=e[s[r]])}return a};function Me(e){var t=e.className,a=e.inheritance,s=Le(e,["className","inheritance"]);const r="OVERRIDES"===a?ne.red:ne.baseFontColor;return n.createElement("svg",Object.assign({className:t,height:16,version:"1.1",viewBox:"0 0 16 16",width:16,xmlSpace:"preserve",xmlnsXlink:"http://www.w3.org/1999/xlink"},s),n.createElement("path",{d:"M6.25 12.5a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm0-9a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm5 1a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm.75 0a1.5 1.5 0 0 1-.75 1.297c-.023 2.82-2.023 3.445-3.352 3.867-1.242.39-1.648.578-1.648 1.336v.203A1.5 1.5 0 1 1 4 12.5a1.5 1.5 0 0 1 .75-1.297V4.797A1.5 1.5 0 1 1 7 3.5a1.5 1.5 0 0 1-.75 1.297V8.68c.398-.196.82-.328 1.203-.446 1.453-.46 2.281-.804 2.297-2.437A1.5 1.5 0 1 1 12 4.5z",style:{fill:r,fillRule:"nonzero"}}))}var Ae=a(641),He=a(431);class Be extends n.PureComponent{constructor(){super(...arguments),this.handleActivate=()=>this.props.onActivate(),this.handleDeactivate=e=>{e&&Object(g.k)({key:e,organization:this.props.organization,rule:this.props.ruleDetails.key}).then(this.props.onDeactivate,()=>{})},this.handleRevert=e=>{e&&Object(g.a)({key:e,organization:this.props.organization,rule:this.props.ruleDetails.key,reset:!0}).then(this.props.onActivate,()=>{})},this.renderInheritedProfile=(e,t)=>{if(!t.parentName)return null;const a=Object(Ne.z)(t.parentName,t.language,this.props.organization);return n.createElement("div",{className:"coding-rules-detail-quality-profile-inheritance"},("OVERRIDES"===e.inherit||"INHERITED"===e.inherit)&&n.createElement(n.Fragment,null,n.createElement(Me,{className:"text-middle",inheritance:e.inherit}),n.createElement(o.Link,{className:"link-base-color little-spacer-left text-middle",to:a},t.parentName)))},this.renderSeverity=(e,t)=>n.createElement("td",{className:"coding-rules-detail-quality-profile-severity"},n.createElement(P.a,{overlay:Object(f.l)("coding_rules.activation_severity")},n.createElement("span",null,n.createElement(q.a,{className:"display-inline-flex-center",severity:e.severity}))),void 0!==t&&e.severity!==t.severity&&n.createElement("div",{className:"coding-rules-detail-quality-profile-inheritance"},Object(f.l)("coding_rules.original")," ",Object(f.l)("severity",t.severity))),this.renderParameter=(e,t)=>{const a=t&&t.params.find(t=>t.key===e.key),s=a&&a.value;return n.createElement("div",{className:"coding-rules-detail-quality-profile-parameter",key:e.key},n.createElement("span",{className:"key"},e.key),n.createElement("span",{className:"sep"},": "),n.createElement("span",{className:"value",title:e.value},e.value),t&&e.value!==s&&n.createElement("div",{className:"coding-rules-detail-quality-profile-inheritance"},Object(f.l)("coding_rules.original")," ",n.createElement("span",{className:"value"},s)))},this.renderParameters=(e,t)=>n.createElement("td",{className:"coding-rules-detail-quality-profile-parameters"},e.params.map(e=>this.renderParameter(e,t))),this.renderActions=(e,t)=>{const a=t.actions&&t.actions.edit&&!t.isBuiltIn,s=this.props.ruleDetails,r="NONE"!==e.inherit&&t.parentKey;return n.createElement("td",{className:"coding-rules-detail-quality-profile-actions"},a&&n.createElement(n.Fragment,null,!s.isTemplate&&n.createElement(Ie,{activation:e,buttonText:Object(f.l)("change_verb"),className:"coding-rules-detail-quality-profile-change",modalHeader:Object(f.l)("coding_rules.change_details"),onDone:this.handleActivate,organization:this.props.organization,profiles:[t],rule:s}),r?"OVERRIDES"===e.inherit&&t.parentName&&n.createElement(ke.a,{confirmButtonText:Object(f.l)("yes"),confirmData:t.key,modalBody:Object(f.m)("coding_rules.revert_to_parent_definition.confirm",t.parentName),modalHeader:Object(f.l)("coding_rules.revert_to_parent_definition"),onConfirm:this.handleRevert},e=>{let t=e.onClick;return n.createElement(m.a,{className:"coding-rules-detail-quality-profile-revert button-red spacer-left",onClick:t},Object(f.l)("coding_rules.revert_to_parent_definition"))}):n.createElement(ke.a,{confirmButtonText:Object(f.l)("yes"),confirmData:t.key,modalBody:Object(f.l)("coding_rules.deactivate.confirm"),modalHeader:Object(f.l)("coding_rules.deactivate"),onConfirm:this.handleDeactivate},e=>{let t=e.onClick;return n.createElement(m.a,{className:"coding-rules-detail-quality-profile-deactivate button-red spacer-left",onClick:t},Object(f.l)("coding_rules.deactivate"))})))},this.renderActivation=e=>{const t=this.props,a=t.activations,s=void 0===a?[]:a,r=t.ruleDetails,i=this.props.referencedProfiles[e.qProfile];if(!i)return null;const l=s.find(e=>e.qProfile===i.parentKey);return n.createElement("tr",{"data-profile":i.key,key:i.key},n.createElement("td",{className:"coding-rules-detail-quality-profile-name"},n.createElement(o.Link,{to:Object(Ne.z)(i.name,i.language,this.props.organization)},i.name),i.isBuiltIn&&n.createElement(Ae.a,{className:"spacer-left"}),this.renderInheritedProfile(e,i)),this.renderSeverity(e,l),!r.templateKey&&this.renderParameters(e,l),this.renderActions(e,i))}}render(){const e=this.props,t=e.activations,a=void 0===t?[]:t,s=e.referencedProfiles,r=e.ruleDetails,i=Object.values(s).some(e=>Boolean(e.actions&&e.actions.edit&&e.language===r.lang));return n.createElement("div",{className:"js-rule-profiles coding-rule-section"},n.createElement("div",{className:"coding-rules-detail-quality-profiles-section"},n.createElement("div",{className:"coding-rule-section-separator"}),n.createElement("h3",{className:"coding-rules-detail-title"},n.createElement(He.a,{message:Object(f.l)("coding_rules.quality_profiles")})),i&&n.createElement(Ie,{buttonText:Object(f.l)("coding_rules.activate"),className:"coding-rules-quality-profile-activate spacer-left",modalHeader:Object(f.l)("coding_rules.activate_in_quality_profile"),onDone:this.handleActivate,organization:this.props.organization,profiles:qe()(this.props.referencedProfiles,e=>!a.find(t=>t.qProfile===e.key)),rule:r}),a.length>0&&n.createElement("table",{className:"coding-rules-detail-quality-profiles width-100",id:"coding-rules-detail-quality-profiles"},n.createElement("tbody",null,a.map(this.renderActivation)))))}}class Ue extends n.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!0},this.fetchRuleDetails=()=>Object(re.c)({actives:!0,key:this.props.ruleKey,organization:this.props.organization}).then(e=>{let t=e.actives,a=e.rule;this.mounted&&this.setState({actives:t,loading:!1,ruleDetails:a})},()=>{this.mounted&&this.setState({loading:!1})}),this.handleRuleChange=e=>{this.mounted&&this.setState({ruleDetails:e})},this.handleTagsChange=e=>{const t=this.state.ruleDetails&&this.state.ruleDetails.tags;this.setState(t=>t.ruleDetails?{ruleDetails:Object.assign({},t.ruleDetails,{tags:e})}:null),Object(re.h)({key:this.props.ruleKey,organization:this.props.organization,tags:e.join()}).catch(()=>{this.mounted&&this.setState(e=>e.ruleDetails?{ruleDetails:Object.assign({},e.ruleDetails,{tags:t})}:null)})},this.handleActivate=()=>this.fetchRuleDetails().then(()=>{const e=this.props,t=e.ruleKey,a=e.selectedProfile;if(a&&this.state.actives){const e=this.state.actives.find(e=>e.qProfile===a.key);e&&this.props.onActivate(a.key,t,e)}}),this.handleDeactivate=()=>this.fetchRuleDetails().then(()=>{const e=this.props,t=e.ruleKey,a=e.selectedProfile;a&&this.state.actives&&(this.state.actives.find(e=>e.qProfile===a.key)||this.props.onDeactivate(a.key,t))}),this.handleDelete=()=>Object(re.b)({key:this.props.ruleKey,organization:this.props.organization}).then(()=>this.props.onDelete(this.props.ruleKey))}componentDidMount(){this.mounted=!0,this.setState({loading:!0}),this.fetchRuleDetails()}componentDidUpdate(e){e.ruleKey!==this.props.ruleKey&&(this.setState({loading:!0}),this.fetchRuleDetails())}componentWillUnmount(){this.mounted=!1}render(){const e=this.state.ruleDetails;if(!e)return n.createElement("div",{className:"coding-rule-details"});const t=this.props,s=t.allowCustomRules,r=t.canWrite,i=t.hideQualityProfiles,l=t.organization,o=t.referencedProfiles,c=e.params,u=void 0===c?[]:c,p=!!e.templateKey,h=r&&!!this.props.allowCustomRules&&p;return n.createElement("div",{className:"coding-rule-details"},n.createElement(me.a,{loading:this.state.loading},n.createElement(Pe.a,{canWrite:r,onFilterChange:this.props.onFilterChange,onTagsChange:this.handleTagsChange,organization:l,referencedRepositories:this.props.referencedRepositories,ruleDetails:e}),n.createElement(Te.a,{canWrite:r,onChange:this.handleRuleChange,organization:l,ruleDetails:e}),u.length>0&&n.createElement(Fe,{params:u}),h&&n.createElement("div",{className:"coding-rules-detail-description display-flex-center"},n.createElement(je,{customRule:e,onDone:this.handleRuleChange,organization:l,templateRule:e},e=>{let t=e.onClick;return n.createElement(m.a,{className:"js-edit-custom",id:"coding-rules-detail-custom-rule-change",onClick:t},Object(f.l)("edit"))}),n.createElement(ke.a,{confirmButtonText:Object(f.l)("delete"),isDestructive:!0,modalBody:Object(f.m)("coding_rules.delete.custom.confirm",e.name),modalHeader:Object(f.l)("coding_rules.delete_rule"),onConfirm:this.handleDelete},e=>{let t=e.onClick;return n.createElement(n.Fragment,null,n.createElement(m.a,{className:"button-red spacer-left js-delete",id:"coding-rules-detail-rule-delete",onClick:t},Object(f.l)("delete")),n.createElement(Z.a,{className:"spacer-left",doc:Promise.resolve().then(a.bind(null,1277))}))})),e.isTemplate&&n.createElement(xe,{canChange:s&&r,organization:l,ruleDetails:e}),!e.isTemplate&&!i&&n.createElement(Be,{activations:this.state.actives,canWrite:r,onActivate:this.handleActivate,onDeactivate:this.handleDeactivate,organization:l,referencedProfiles:o,ruleDetails:e}),!e.isTemplate&&n.createElement(Re,{organization:l,ruleDetails:e})))}}var We=a(729),Ke=a(532),Ve=a(533);class Je extends n.PureComponent{constructor(){super(...arguments),this.handleDeactivate=()=>{if(this.props.selectedProfile){const e={key:this.props.selectedProfile.key,organization:this.props.organization,rule:this.props.rule.key};Object(g.k)(e).then(()=>this.props.onDeactivate(e.key,e.rule),()=>{})}},this.handleActivate=e=>(this.props.selectedProfile&&this.props.onActivate(this.props.selectedProfile.key,this.props.rule.key,{severity:e,inherit:"NONE"}),Promise.resolve()),this.handleNameClick=e=>{const t=0===e.button;!!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&t&&(e.preventDefault(),this.props.onOpen(this.props.rule.key))},this.renderActivation=()=>{const e=this.props,t=e.activation,a=e.selectedProfile;return t?n.createElement("td",{className:"coding-rule-table-meta-cell coding-rule-activation"},n.createElement(Ke.a,{severity:t.severity}),a&&a.parentName&&n.createElement(n.Fragment,null,"OVERRIDES"===t.inherit&&n.createElement(P.a,{overlay:Object(f.m)("coding_rules.overrides",a.name,a.parentName)},n.createElement(Me,{className:"little-spacer-left",inheritance:t.inherit})),"INHERITED"===t.inherit&&n.createElement(P.a,{overlay:Object(f.m)("coding_rules.inherits",a.name,a.parentName)},n.createElement(Me,{className:"little-spacer-left",inheritance:t.inherit})))):null},this.renderActions=()=>{const e=this.props,t=e.activation,a=e.rule,s=e.selectedProfile;return s?!(s.actions&&s.actions.edit)||s.isBuiltIn?null:n.createElement("td",{className:"coding-rule-table-meta-cell coding-rule-activation-actions"},t?this.renderDeactivateButton(t.inherit):!a.isTemplate&&n.createElement(Ie,{buttonText:Object(f.l)("coding_rules.activate"),className:"coding-rules-detail-quality-profile-activate",modalHeader:Object(f.l)("coding_rules.activate_in_quality_profile"),onDone:this.handleActivate,organization:this.props.organization,profiles:[s],rule:a})):null},this.renderDeactivateButton=e=>"NONE"===e?n.createElement(ke.a,{confirmButtonText:Object(f.l)("yes"),modalBody:Object(f.l)("coding_rules.deactivate.confirm"),modalHeader:Object(f.l)("coding_rules.deactivate"),onConfirm:this.handleDeactivate},e=>{let t=e.onClick;return n.createElement(m.a,{className:"coding-rules-detail-quality-profile-deactivate button-red",onClick:t},Object(f.l)("coding_rules.deactivate"))}):n.createElement(P.a,{overlay:Object(f.l)("coding_rules.can_not_deactivate")},n.createElement(m.a,{className:"coding-rules-detail-quality-profile-deactivate button-red disabled"},Object(f.l)("coding_rules.deactivate")))}render(){const e=this.props,t=e.rule,a=e.selected,s=[...t.tags||[],...t.sysTags||[]];return n.createElement("div",{className:x("coding-rule",{selected:a}),"data-rule":t.key},n.createElement("table",{className:"coding-rule-table"},n.createElement("tbody",null,n.createElement("tr",null,this.renderActivation(),n.createElement("td",null,n.createElement("div",{className:"coding-rule-title"},n.createElement(o.Link,{className:"link-no-underline",onClick:this.handleNameClick,to:Object(Ne.B)(t.key,this.props.organization)},t.name),t.isTemplate&&n.createElement(P.a,{overlay:Object(f.l)("coding_rules.rule_template.title")},n.createElement("span",{className:"outline-badge spacer-left"},Object(f.l)("coding_rules.rule_template"))))),n.createElement("td",{className:"coding-rule-table-meta-cell"},n.createElement("div",{className:"display-flex-center coding-rule-meta"},"READY"!==t.status&&n.createElement("span",{className:"spacer-left badge badge-normal-size badge-tiny-height badge-danger-light"},Object(f.l)("rules.status",t.status)),n.createElement("span",{className:"spacer-left note"},t.langName),n.createElement(P.a,{overlay:Object(f.l)("coding_rules.type.tooltip",t.type)},n.createElement("span",{className:"display-inline-flex-center spacer-left note"},n.createElement(ue.a,{className:"little-spacer-right",query:t.type}),Object(f.l)("issue.type",t.type))),s.length>0&&n.createElement(Ve.a,{allowUpdate:!1,className:"note spacer-left",tags:s}),n.createElement(We.a,{onFilterChange:this.props.onFilterChange,rule:t}))),this.renderActions()))))}}var Qe=a(389),Ye=a(403),Xe=a(507),Ze=a(397),Ge=a(826),$e=a(416),et=a(467),tt=a(508),at=a(404),st=a(488);a(575),a(802);function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],s=!0,r=!1,n=void 0;try{for(var i,l=e[Symbol.iterator]();!(s=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);s=!0);}catch(e){r=!0,n=e}finally{try{s||null==l.return||l.return()}finally{if(r)throw n}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.d(t,"App",function(){return lt});const nt=100,it=5;class lt extends n.PureComponent{constructor(e){var t;super(e),t=this,this.mounted=!1,this.attachShortcuts=()=>{c.setScope("coding-rules"),c("up","coding-rules",()=>(this.selectPreviousRule(),!1)),c("down","coding-rules",()=>(this.selectNextRule(),!1)),c("right","coding-rules",()=>(this.openSelectedRule(),!1)),c("left","coding-rules",()=>(this.closeRule(),!1))},this.detachShortcuts=()=>c.deleteScope("coding-rules"),this.getOpenRule=(e,t)=>{const a=Object(u.c)(e.location.query);return a&&t.find(e=>e.key===a)},this.getFacetsToFetch=()=>{const e=this.state.openFacets;return Object.keys(e).filter(t=>e[t]).filter(e=>Object(u.g)(e)).map(e=>Object(u.d)(e))},this.getFieldsToFetch=()=>{const e=["isTemplate","name","lang","langName","severity","status","sysTags","tags","templateKey"];return this.state.query.profile&&e.push("actives","params"),e},this.getSearchParameters=()=>Object.assign({f:this.getFieldsToFetch().join(),facets:this.getFacetsToFetch().join(),organization:this.props.organization&&this.props.organization.key,ps:nt,s:"name"},Object(u.f)(this.state.query)),this.stopLoading=()=>{this.mounted&&this.setState({loading:!1})},this.fetchInitialData=()=>{this.setState({loading:!0});const e=this.props.organization&&this.props.organization.key;Promise.all([Object(re.e)({organization:e}),this.fetchQualityProfiles()]).then(e=>{let t=rt(e,2),a=t[0],s=a.canWrite,n=a.repositories,i=t[1].profiles;this.setState({canWrite:s,referencedProfiles:r()(i,"key"),referencedRepositories:r()(n,"key")}),this.fetchFirstRules()},this.stopLoading)},this.makeFetchRequest=e=>Object(re.f)(Object.assign({},this.getSearchParameters(),e)).then(e=>{let t=e.actives,a=e.facets,s=e.p,r=e.ps,n=e.rules,i=e.total;return{actives:t&&function(e){const t={};for(const s of Object.entries(e)){var a=rt(s,2);const e=a[0],r=a[1];t[e]={};for(const a of r){const s=a.inherit,r=a.qProfile,n=a.severity;t[e][r]={inherit:s,severity:n}}}return t}(t),facets:a&&function(e){const t={};for(const a of e){const e={};for(const t of a.values)e[t.val]=t.count;t[Object(u.b)(a.property)]=e}return t}(a),paging:{pageIndex:s,pageSize:r,total:i},rules:n}}),this.fetchFirstRules=e=>{this.setState({loading:!0}),this.makeFetchRequest(e).then(e=>{let t=e.actives,a=e.facets,s=e.paging,r=e.rules;if(this.mounted){const e=this.getOpenRule(this.props,r),n=r.length>0?e&&e.key||r[0].key:void 0;this.setState({actives:t,facets:a,loading:!1,openRule:e,paging:s,rules:r,selected:n})}},this.stopLoading)},this.fetchMoreRules=()=>{const e=this.state.paging;if(e){this.setState({loading:!0});const t=e.pageIndex+1;this.makeFetchRequest({p:t,facets:void 0}).then(e=>{let t=e.actives,a=e.paging,s=e.rules;this.mounted&&this.setState(e=>({actives:Object.assign({},e.actives,t),loading:!1,paging:a,rules:[...e.rules,...s]}))},this.stopLoading)}},this.fetchFacet=e=>{this.makeFetchRequest({ps:1,facets:Object(u.d)(e)}).then(e=>{let t=e.facets;this.mounted&&this.setState(e=>({facets:Object.assign({},e.facets,t),loading:!1}))},this.stopLoading)},this.fetchQualityProfiles=()=>{const e=this.props,t=e.currentUser,a=e.organization,s=e.userOrganizations;return Object(tt.a)(t,a,s)?Object(g.y)({organization:a&&a.key}):{profiles:[]}},this.getSelectedIndex=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.state,a=e.selected;const s=e.rules.findIndex(e=>e.key===a);return-1!==s?s:void 0},this.selectNextRule=()=>{const e=this.state,t=e.rules,a=e.loading,s=e.paging,r=this.getSelectedIndex();void 0!==r&&(r>t.length-it&&!a&&s&&t.length<s.total&&this.fetchMoreRules(),t&&r<t.length-1&&(this.state.openRule?this.openRule(t[r+1].key):this.setState({selected:t[r+1].key})))},this.selectPreviousRule=()=>{const e=this.state.rules,t=this.getSelectedIndex();e&&void 0!==t&&t>0&&(this.state.openRule?this.openRule(e[t-1].key):this.setState({selected:e[t-1].key}))},this.getRulePath=e=>({pathname:this.props.location.pathname,query:Object.assign({},Object(u.f)(this.state.query),{open:e})}),this.openRule=e=>{const t=this.getRulePath(e);this.state.openRule?this.props.router.replace(t):this.props.router.push(t)},this.openSelectedRule=()=>{const e=this.state.selected;e&&this.openRule(e)},this.closeRule=()=>{this.props.router.push({pathname:this.props.location.pathname,query:Object.assign({},Object(u.f)(this.state.query),{open:void 0})}),this.scrollToSelectedRule(!1)},this.scrollToSelectedRule=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const a=t.state.selected;if(a){const t=document.querySelector('[data-rule="'.concat(a,'"]'));t&&Object(st.b)(t,{topOffset:150,bottomOffset:100,smooth:e})}},this.getRuleActivation=e=>{const t=this.state,a=t.actives,s=t.query;return a&&a[e]&&s.profile?a[e][s.profile]:void 0},this.getSelectedProfile=()=>{const e=this.state,t=e.query,a=e.referencedProfiles;return t.profile?a[t.profile]:void 0},this.closeFacet=e=>this.setState(t=>({openFacets:Object.assign({},t.openFacets,{[e]:!1})})),this.handleRuleOpen=e=>{this.props.router.push(this.getRulePath(e))},this.handleBack=e=>{e.preventDefault(),e.currentTarget.blur(),this.closeRule()},this.handleFilterChange=e=>{this.props.router.push({pathname:this.props.location.pathname,query:Object(u.f)(Object.assign({},this.state.query,e))}),this.setState(t=>{let a=t.openFacets;return{openFacets:Object.assign({},a,{sonarsourceSecurity:Object(et.r)(a,e),standards:Object(et.t)(a,e)})}})},this.handleFacetToggle=e=>{this.setState(t=>{const a=!t.openFacets[e],s={loading:t.loading,openFacets:Object.assign({},t.openFacets,{[e]:a})};return a&&e===et.a&&(s.openFacets.sonarsourceSecurity=Object(et.r)(s.openFacets,t.query),e=s.openFacets.sonarsourceSecurity?"sonarsourceSecurity":e),!Object(u.g)(e)||t.facets&&t.facets[e]||(s.loading=!0,this.fetchFacet(e)),s})},this.handleReload=()=>this.fetchFirstRules(),this.handleReset=()=>this.props.router.push({pathname:this.props.location.pathname}),this.pickRuleAround=(e,t)=>{if(void 0!==t&&0!==e.length)return t>=0&&t<e.length?e[t].key:e[e.length-1].key},this.handleRuleDelete=e=>{this.state.query.ruleKey===e?this.handleReset():(this.setState(t=>{const a=t.rules.filter(t=>t.key!==e),s=this.getSelectedIndex(t);return{rules:a,selected:this.pickRuleAround(a,s)}}),this.closeRule())},this.handleRuleActivate=(e,t,a)=>this.setState(s=>{const r=s.actives,n=void 0===r?{}:r;return n[t]?{actives:Object.assign({},n,{[t]:Object.assign({},n[t],{[e]:a})})}:{actives:Object.assign({},n,{[t]:{[e]:a}})}}),this.handleRuleDeactivate=(e,t)=>this.setState(a=>{const s=a.actives;if(s&&s[t]){const a=Object.assign({},s[t]);return delete a[e],{actives:Object.assign({},s,{[t]:a})}}return null}),this.handleSearch=e=>this.handleFilterChange({searchQuery:e}),this.isFiltered=()=>Object.keys(Object(u.f)(this.state.query)).length>0;const a=Object(u.e)(e.location.query);this.state={loading:!0,openFacets:{languages:!0,owaspTop10:Object(et.s)({},a,"owaspTop10"),sansTop25:Object(et.s)({},a,"sansTop25"),sonarsourceSecurity:Object(et.r)({},a),standards:Object(et.t)({},a),types:!0},query:a,referencedProfiles:{},referencedRepositories:{},rules:[]}}componentDidMount(){this.mounted=!0,Object(at.b)(),Object(at.a)(),this.attachShortcuts(),this.fetchInitialData()}componentWillReceiveProps(e){this.setState(t=>{let a=t.rules,s=t.selected;const r=this.getOpenRule(e,a);return{openRule:r,query:Object(u.e)(e.location.query),selected:r?r.key:s}})}componentDidUpdate(e,t){Object(u.a)(e.location.query,this.props.location.query)||this.fetchFirstRules(),this.state.openRule||t.selected===this.state.selected&&!t.openRule||this.scrollToSelectedRule()}componentWillUnmount(){this.mounted=!1,Object(at.d)(),Object(at.c)(),this.detachShortcuts()}render(){const e=this.state,t=e.paging,a=e.rules,s=this.getSelectedIndex(),r=this.props.organization&&this.props.organization.key,l=!Object(tt.a)(this.props.currentUser,this.props.organization,this.props.userOrganizations);return n.createElement(n.Fragment,null,n.createElement(Qe.a,{suggestions:"coding_rules"}),n.createElement(i.Helmet,{title:Object(f.l)("coding_rules.page")},n.createElement("meta",{content:"noindex",name:"robots"})),n.createElement("div",{className:"layout-page",id:"coding-rules-page"},n.createElement(Xe.a,{className:"layout-page-side-outer"},e=>{let t=e.top;return n.createElement("div",{className:"layout-page-side",style:{top:t}},n.createElement("div",{className:"layout-page-side-inner"},n.createElement("div",{className:"layout-page-filters"},n.createElement(Ye.a,{anchor:"rules_filters",label:Object(f.l)("coding_rules.skip_to_filters"),weight:10}),n.createElement(Ge.a,{displayReset:this.isFiltered(),onReset:this.handleReset}),n.createElement($e.a,{className:"spacer-bottom",id:"coding-rules-search",minLength:2,onChange:this.handleSearch,placeholder:Object(f.l)("search.search_for_rules"),value:this.state.query.searchQuery||""}),n.createElement(de,{facets:this.state.facets,hideProfileFacet:l,onFacetToggle:this.handleFacetToggle,onFilterChange:this.handleFilterChange,openFacets:this.state.openFacets,organization:r,organizationsEnabled:this.props.appState.organizationsEnabled,query:this.state.query,referencedProfiles:this.state.referencedProfiles,referencedRepositories:this.state.referencedRepositories,selectedProfile:this.getSelectedProfile()}))))}),n.createElement("div",{className:"layout-page-main"},n.createElement("div",{className:"layout-page-header-panel layout-page-main-header"},n.createElement("div",{className:"layout-page-header-panel-inner layout-page-main-header-inner"},n.createElement("div",{className:"layout-page-main-inner"},n.createElement(Ye.a,{anchor:"rules_main"}),this.state.openRule?n.createElement("a",{className:"js-back",href:"#",onClick:this.handleBack},Object(f.l)("coding_rules.return_to_list")):this.state.paging&&n.createElement(E,{languages:this.props.languages,organization:r,query:this.state.query,referencedProfiles:this.state.referencedProfiles,total:this.state.paging.total}),n.createElement(ve,{loading:this.state.loading,onReload:this.handleReload,paging:t,selectedIndex:s})))),n.createElement("div",{className:"layout-page-main-inner"},this.state.openRule?n.createElement(Ue,{allowCustomRules:!this.props.appState.organizationsEnabled,canWrite:this.state.canWrite,hideQualityProfiles:l,onActivate:this.handleRuleActivate,onDeactivate:this.handleRuleDeactivate,onDelete:this.handleRuleDelete,onFilterChange:this.handleFilterChange,organization:r,referencedProfiles:this.state.referencedProfiles,referencedRepositories:this.state.referencedRepositories,ruleKey:this.state.openRule.key,selectedProfile:this.getSelectedProfile()}):n.createElement(n.Fragment,null,a.map(e=>n.createElement(Je,{activation:this.getRuleActivation(e.key),key:e.key,onActivate:this.handleRuleActivate,onDeactivate:this.handleRuleDeactivate,onFilterChange:this.handleFilterChange,onOpen:this.handleRuleOpen,organization:r,rule:e,selected:e.key===this.state.selected,selectedProfile:this.getSelectedProfile()})),void 0!==t&&n.createElement(Ze.a,{count:a.length,loadMore:this.fetchMoreRules,ready:!this.state.loading,total:t.total}))))))}}t.default=Object(o.withRouter)(Object(l.connect)(e=>({appState:Object(J.getAppState)(e),currentUser:Object(J.getCurrentUser)(e),languages:Object(J.getLanguages)(e),userOrganizations:Object(J.getMyOrganizations)(e)}))(lt))},384:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var s=a(365),r=a(366),n=a(374),i=a(423),l=a(373);a(393);function o(e){const t=e.children,a=void 0===t?s.createElement(i.a,{fill:l.gray71,size:12}):t,o=e.tagName,c=void 0===o?"div":o;return s.createElement(c,{className:r("help-tooltip",e.className)},s.createElement(n.a,{mouseLeaveDelay:.25,onShow:e.onShow,overlay:e.overlay,placement:e.placement},s.createElement("span",{className:"display-inline-flex-center"},a)))}},387:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var s=a(365),r=a(378),n=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&(a[s[r]]=e[s[r]])}return a};class i extends s.Component{constructor(){super(...arguments),this.mounted=!1,this.state={submitting:!1},this.stopSubmitting=()=>{this.mounted&&this.setState({submitting:!1})},this.handleCloseClick=e=>{e&&(e.preventDefault(),e.currentTarget.blur()),this.props.onClose()},this.handleFormSubmit=e=>{e.preventDefault(),this.submit()},this.handleSubmitClick=e=>{e&&(e.preventDefault(),e.currentTarget.blur()),this.submit()},this.submit=()=>{const e=this.props.onSubmit();e&&(this.setState({submitting:!0}),e.then(this.stopSubmitting,this.stopSubmitting))}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props,t=e.children,a=e.header,i=e.onClose,l=(e.onSubmit,n(e,["children","header","onClose","onSubmit"]));return s.createElement(r.a,Object.assign({contentLabel:a,onRequestClose:i},l),t({onCloseClick:this.handleCloseClick,onFormSubmit:this.handleFormSubmit,onSubmitClick:this.handleSubmitClick,submitting:this.state.submitting}))}}},389:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var s=a(365),r=a(411);function n(e){let t=e.suggestions;return s.createElement(r.a.Consumer,null,e=>{let a=e.addSuggestions,r=e.removeSuggestions;return s.createElement(i,{addSuggestions:a,removeSuggestions:r,suggestions:t})})}class i extends s.PureComponent{componentDidMount(){this.props.addSuggestions(this.props.suggestions)}componentDidUpdate(e){e.suggestions!==this.props.suggestions&&(this.props.removeSuggestions(this.props.suggestions),this.props.addSuggestions(e.suggestions))}componentWillUnmount(){this.props.removeSuggestions(this.props.suggestions)}render(){return null}}},393:function(e,t,a){var s=a(394);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(369)(s,r);s.locals&&(e.exports=s.locals)},394:function(e,t,a){(e.exports=a(368)(!1)).push([e.i,".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}",""])},395:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var s=a(365),r=a(384),n=a(380);const i=Object(n.a)(()=>Promise.all([a.e(7),a.e(20)]).then(a.bind(null,485)));class l extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={open:!1},this.close=()=>{this.mounted&&this.setState({open:!1})}}componentDidMount(){this.mounted=!0,this.props.doc.then(e=>{let t=e.default;this.mounted&&this.setState({content:t})},()=>{}),document.addEventListener("scroll",this.close,!0)}componentWillUnmount(){this.mounted=!1,document.removeEventListener("scroll",this.close,!0)}render(){return this.state.content?s.createElement(r.a,{className:this.props.className,overlay:s.createElement("div",{className:"abs-width-300"},s.createElement(i,{childProps:this.props.overlayProps,className:"cut-margins",content:this.state.content,isTooltip:!0}))},this.props.children):this.props.children||null}}},396:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var s=a(365),r=a(387),n=a(375),i=a(367),l=a(0);class o extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.handleSubmit=()=>{const e=this.props.onConfirm(this.props.confirmData);return e?e.then(this.props.onClose,()=>{}):void this.props.onClose()},this.renderModalContent=e=>{let t=e.onCloseClick,a=e.onFormSubmit,r=e.submitting;const o=this.props,c=o.children,u=o.confirmButtonText,p=o.confirmDisable,h=o.header,d=o.headerDescription,m=o.isDestructive,g=o.cancelButtonText,f=void 0===g?Object(l.l)("cancel"):g;return s.createElement("form",{onSubmit:a},s.createElement("header",{className:"modal-head"},s.createElement("h2",null,h),d),s.createElement("div",{className:"modal-body"},c),s.createElement("footer",{className:"modal-foot"},s.createElement(n.a,{className:"spacer-right",loading:r}),s.createElement(i.i,{autoFocus:!0,className:m?"button-red":void 0,disabled:r||p},u),s.createElement(i.h,{disabled:r,onClick:t},f)))}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props,t={header:e.header,onClose:e.onClose,noBackdrop:e.noBackdrop,size:e.size};return s.createElement(r.a,Object.assign({onSubmit:this.handleSubmit},t),this.renderModalContent)}}},397:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var s=a(365),r=a(366),n=a(375),i=a(0),l=a(376),o=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&(a[s[r]]=e[s[r]])}return a};function c(e){var t=e.ready,a=void 0===t||t,c=o(e,["ready"]);const u=c.total&&c.total>c.count,p=s.createElement("a",{className:"spacer-left",href:"#",onClick:e=>{e.preventDefault(),e.currentTarget.blur(),c.loadMore&&c.loadMore()}},Object(i.l)("show_more")),h=s.createElement("a",{className:"spacer-left",href:"#",onClick:e=>{e.preventDefault(),e.currentTarget.blur(),c.reload&&c.reload()}},Object(i.l)("reload")),d=r("spacer-top note text-center",{"new-loading":!a},c.className);let m;return c.needReload&&c.reload?m=h:u&&c.loadMore&&(m=p),s.createElement("footer",{className:d},Object(i.m)("x_of_y_shown",Object(l.formatMeasure)(c.count,"INT",null),Object(l.formatMeasure)(c.total,"INT",null)),m,c.loading&&s.createElement(n.a,{className:"text-bottom spacer-left position-absolute"}))}},403:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var s=a(365),r=a(444),n=a(0);function i(e){return s.createElement(r.a.Consumer,null,t=>{let a=t.addA11ySkipLink,r=t.removeA11ySkipLink;return s.createElement(l,Object.assign({addA11ySkipLink:a,removeA11ySkipLink:r},e))})}class l extends s.PureComponent{constructor(){super(...arguments),this.getLink=()=>{const e=this.props,t=e.anchor,a=e.label;return{key:t,label:void 0===a?Object(n.l)("skip_to_content"):a,weight:e.weight}}}componentDidMount(){this.props.addA11ySkipLink(this.getLink())}componentWillUnmount(){this.props.removeA11ySkipLink(this.getLink())}render(){const e=this.props.anchor;return s.createElement("span",{id:"a11y_target__".concat(e)})}}},404:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i}),a.d(t,"c",function(){return l}),a.d(t,"d",function(){return o});const s="sidebar-page",r="white-page";function n(){c(s,!0)}function i(){c(r,!0)}function l(){c(s,!1)}function o(){c(r,!1)}function c(e,t){document.body.classList.toggle(e,t),document.documentElement&&document.documentElement.classList.toggle(e,t)}},410:function(e,t,a){"use strict";a.d(t,"y",function(){return o}),a.d(t,"s",function(){return c}),a.d(t,"j",function(){return u}),a.d(t,"w",function(){return p}),a.d(t,"r",function(){return h}),a.d(t,"q",function(){return d}),a.d(t,"A",function(){return m}),a.d(t,"v",function(){return g}),a.d(t,"i",function(){return f}),a.d(t,"l",function(){return v}),a.d(t,"g",function(){return b}),a.d(t,"o",function(){return y}),a.d(t,"n",function(){return E}),a.d(t,"p",function(){return O}),a.d(t,"h",function(){return C}),a.d(t,"d",function(){return S}),a.d(t,"m",function(){return j}),a.d(t,"z",function(){return k}),a.d(t,"x",function(){return N}),a.d(t,"c",function(){return x}),a.d(t,"u",function(){return T}),a.d(t,"b",function(){return _}),a.d(t,"t",function(){return w}),a.d(t,"e",function(){return R}),a.d(t,"f",function(){return P}),a.d(t,"a",function(){return F}),a.d(t,"k",function(){return D});var s=a(415),r=a.n(s),n=a(495),i=a(4),l=a(383);function o(e){return Object(i.getJSON)("/api/qualityprofiles/search",e).catch(l.a)}function c(e){return Object(i.getJSON)("/api/qualityprofiles/show",e)}function u(e){return Object(i.request)("/api/qualityprofiles/create").setMethod("post").setData(e).submit().then(i.checkStatus).then(i.parseJSON).catch(l.a)}function p(e){return Object(i.request)("/api/qualityprofiles/restore").setMethod("post").setData(e).submit().then(i.checkStatus).then(i.parseJSON).catch(l.a)}function h(e){return Object(i.getJSON)("/api/qualityprofiles/projects",e).catch(l.a)}function d(e){return Object(i.getJSON)("/api/qualityprofiles/inheritance",{profileKey:e}).catch(l.a)}function m(e){return Object(i.post)("/api/qualityprofiles/set_default",{profileKey:e})}function g(e,t){return Object(i.post)("/api/qualityprofiles/rename",{key:e,name:t}).catch(l.a)}function f(e,t){return Object(i.postJSON)("/api/qualityprofiles/copy",{fromKey:e,toName:t}).catch(l.a)}function v(e){return Object(i.post)("/api/qualityprofiles/delete",{profileKey:e}).catch(l.a)}function b(e,t){return Object(i.post)("/api/qualityprofiles/change_parent",{profileKey:e,parentKey:t}).catch(l.a)}function y(){return Object(i.getJSON)("/api/qualityprofiles/importers").then(e=>e.importers,l.a)}function E(){return Object(i.getJSON)("/api/qualityprofiles/exporters").then(e=>e.exporters)}function O(e){return Object(i.getJSON)("/api/qualityprofiles/changelog",e)}function C(e,t){return Object(i.getJSON)("/api/qualityprofiles/compare",{leftKey:e,rightKey:t})}function S(e,t){return Object(i.post)("/api/qualityprofiles/add_project",{key:e,project:t}).catch(l.a)}function j(e,t){return Object(i.post)("/api/qualityprofiles/remove_project",{key:e,project:t}).catch(l.a)}function k(e){return Object(i.getJSON)("/api/qualityprofiles/search_users",e).catch(l.a)}function N(e){return Object(i.getJSON)("/api/qualityprofiles/search_groups",e).catch(l.a)}function x(e){return Object(i.post)("/api/qualityprofiles/add_user",e).catch(l.a)}function T(e){return Object(i.post)("/api/qualityprofiles/remove_user",e).catch(l.a)}function _(e){return Object(i.post)("/api/qualityprofiles/add_group",e).catch(l.a)}function w(e){return Object(i.post)("/api/qualityprofiles/remove_group",e).catch(l.a)}function R(e){return Object(i.postJSON)("/api/qualityprofiles/activate_rules",e)}function P(e){return Object(i.postJSON)("/api/qualityprofiles/deactivate_rules",e)}function F(e){const t=e.params&&r()(e.params,(e,t)=>"".concat(t,"=").concat(Object(n.a)(e))).join(";");return Object(i.post)("/api/qualityprofiles/activate_rule",Object.assign({},e,{params:t})).catch(l.a)}function D(e){return Object(i.post)("/api/qualityprofiles/deactivate_rule",e).catch(l.a)}},412:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var s=a(365),r=a(396),n=a(413),i=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&(a[s[r]]=e[s[r]])}return a};class l extends s.PureComponent{constructor(){super(...arguments),this.renderConfirmModal=e=>{let t=e.onClose;const a=this.props,n=(a.children,a.modalBody),l=a.modalHeader,o=a.modalHeaderDescription,c=i(a,["children","modalBody","modalHeader","modalHeaderDescription"]);return s.createElement(r.a,Object.assign({header:l,headerDescription:o,onClose:t},c),n)}}render(){return s.createElement(n.a,{modal:this.renderConfirmModal},this.props.children)}}},413:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var s=a(365);class r extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={modal:!1},this.handleButtonClick=()=>{this.setState({modal:!0})},this.handleFormSubmit=e=>{e&&e.preventDefault(),this.setState({modal:!0})},this.handleCloseModal=()=>{this.mounted&&this.setState({modal:!1})}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){return s.createElement(s.Fragment,null,this.props.children({onClick:this.handleButtonClick,onFormSubmit:this.handleFormSubmit}),this.state.modal&&this.props.modal({onClose:this.handleCloseModal}))}}},415:function(e,t,a){var s=a(51),r=a(15),n=a(472),i=a(6);e.exports=function(e,t){return(i(e)?s:n)(e,r(t,3))}},434:function(e,t,a){"use strict";a.d(t,"e",function(){return n}),a.d(t,"f",function(){return i}),a.d(t,"g",function(){return l}),a.d(t,"c",function(){return o}),a.d(t,"d",function(){return c}),a.d(t,"a",function(){return u}),a.d(t,"b",function(){return p}),a.d(t,"h",function(){return h});var s=a(4),r=a(383);function n(e){return Object(s.getJSON)("/api/rules/app",e).catch(r.a)}function i(e){return Object(s.getJSON)("/api/rules/search",e).catch(r.a)}function l(e,t){const a=e.facets.find(e=>e.property===t);return a?a.values:[]}function o(e){return Object(s.getJSON)("/api/rules/show",e).catch(r.a)}function c(e){return Object(s.getJSON)("/api/rules/tags",e).then(e=>e.tags,r.a)}function u(e){return Object(s.postJSON)("/api/rules/create",e).then(e=>e.rule,e=>e&&e.response&&409===e.response.status?Promise.reject(e.response):Object(r.a)(e))}function p(e){return Object(s.post)("/api/rules/delete",e).catch(r.a)}function h(e){return Object(s.postJSON)("/api/rules/update",e).then(e=>e.rule,r.a)}},470:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var s=a(365),r=a(366);function n(e){return s.createElement("div",{className:r("search-navigator-facet-box",e.className),"data-property":e.property},e.children)}},482:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var s=a(365),r=a(367),n=a(375),i=a(384),l=a(496),o=a(0);class c extends s.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.onClick&&this.props.onClick()}}renderHelper(){return this.props.helper?s.createElement(i.a,{className:"spacer-left",overlay:this.props.helper}):null}renderValueIndicator(){const e=this.props.values;if(!e||!e.length)return null;const t=1===e.length?e[0]:Object(o.m)("x_selected",e.length);return s.createElement("span",{className:"badge badge-secondary text-ellipsis",title:t},t)}render(){const e=null!=this.props.values&&this.props.values.length>0&&null!=this.props.onClear;return s.createElement("div",{className:"search-navigator-facet-header-wrapper display-flex-center"},this.props.onClick?s.createElement("span",{className:"search-navigator-facet-header display-flex-center"},s.createElement("a",{href:"#",onClick:this.handleClick},s.createElement(l.a,{className:"little-spacer-right",open:this.props.open}),this.props.name),this.renderHelper()):s.createElement("span",{className:"search-navigator-facet-header display-flex-center"},this.props.name,this.renderHelper()),this.props.children,s.createElement("span",{className:"search-navigator-facet-header-value spacer-left spacer-right "},this.renderValueIndicator()),this.props.fetching&&s.createElement("span",{className:"little-spacer-right"},s.createElement(n.a,null)),e&&s.createElement(r.a,{className:"search-navigator-facet-header-button button-small button-red",onClick:this.props.onClear},Object(o.l)(this.props.clearLabel||"clear")))}}},483:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var s=a(365),r=a(370);function n(e){let t=e.className,a=e.fill,n=void 0===a?"currentColor":a,i=e.size;return s.createElement(r.a,{className:t,size:i},s.createElement("path",{d:"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z",style:{fill:n}}))}},484:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var s=a(365),r=a(366);class n extends s.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.onClick(this.props.value,e.ctrlKey||e.metaKey)}}renderValue(){return null==this.props.stat?null:s.createElement("span",{className:"facet-stat"},this.props.stat)}render(){const e=this.props.name,t=r("search-navigator-facet",this.props.className,{active:this.props.active,"search-navigator-facet-half":this.props.halfWidth});return this.props.disabled?s.createElement("span",{className:t,"data-facet":this.props.value,title:this.props.tooltip},s.createElement("span",{className:"facet-name"},e),this.renderValue()):s.createElement("a",{className:t,"data-facet":this.props.value,href:"#",onClick:this.handleClick,title:this.props.tooltip},s.createElement("span",{className:"facet-name"},e),this.renderValue())}}n.defaultProps={disabled:!1,halfWidth:!1,loading:!1}},495:function(e,t,a){"use strict";function s(e){const t=e.replace(/"/g,'\\"');return'"'.concat(t,'"')}a.d(t,"a",function(){return s})},496:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var s=a(365),r=a(483),n=a(504),i=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&(a[s[r]]=e[s[r]])}return a};function l(e){var t=e.open,a=i(e,["open"]);return t?s.createElement(r.a,Object.assign({},a)):s.createElement(n.a,Object.assign({},a))}},497:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var s=a(365);function r(e){let t=e.children,a=e.title;return s.createElement("div",{className:"search-navigator-facet-list"},a&&s.createElement("div",{className:"search-navigator-facet-list-title"},a),t)}},506:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var s=a(365),r=a(377),n=a(454),i=a(379);function l(e){class t extends s.Component{render(){return s.createElement(e,Object.assign({},this.props))}}return t.displayName=Object(n.a)(e,"withAppState"),Object(r.connect)(function(e){return{appState:Object(i.getAppState)(e)}})(t)}},507:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var s=a(425),r=a.n(s),n=a(365);class i extends n.PureComponent{constructor(e){super(e),this.getPosition=()=>{const e=this.container&&this.container.getBoundingClientRect();return e?{top:window.pageYOffset+e.top,left:window.pageXOffset+e.left}:{top:0,left:0}},this.debouncedOnResize=r()(()=>this.forceUpdate(),250)}componentDidMount(){this.forceUpdate(),window.addEventListener("resize",this.debouncedOnResize)}componentWillUnmount(){window.removeEventListener("resize",this.debouncedOnResize)}render(){return n.createElement("div",{className:this.props.className,ref:e=>this.container=e},this.props.children(this.getPosition()))}}},508:function(e,t,a){"use strict";a.d(t,"c",function(){return r}),a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var s=a(392);function r(e){return Boolean(e&&"PAID"===e.subscription)}function n(e,t,a){return!r(t)||i(e,t,a)}function i(e,t,a){return Boolean(t&&Object(s.b)(e)&&(t.actions&&t.actions.admin||a.some(e=>e.key===t.key)))}},512:function(e,t,a){"use strict";var s=a(417),r=a.n(s),n=a(382),i=a.n(n),l=a(365),o=a(366),c=a(470),u=a(482),p=a(484),h=a(497),d=a(0),m=a(376);class g extends l.PureComponent{constructor(){super(...arguments),this.handleShowMoreClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.showMore()},this.handleShowLessClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.showLess&&this.props.showLess()}}render(){const e=this.props,t=e.count,a=e.total,s=a>t,r=Boolean(a&&a===t);return l.createElement("footer",{className:"note spacer-top spacer-bottom text-center"},Object(d.m)("x_show",Object(m.formatMeasure)(t,"INT",null)),s&&l.createElement("a",{className:"spacer-left text-muted",href:"#",onClick:this.handleShowMoreClick},Object(d.l)("show_more")),this.props.showLess&&r&&l.createElement("a",{className:"spacer-left text-muted",href:"#",onClick:this.handleShowLessClick},Object(d.l)("show_less")))}}var f=a(574),v=a(385),b=a(397),y=a(416),E=a(374),O=a(486);a.d(t,"a",function(){return C});class C extends l.Component{constructor(){super(...arguments),this.mounted=!1,this.state={autoFocus:!1,query:"",searching:!1,searchResultsCounts:{},showFullList:!1},this.handleItemClick=(e,t)=>{if(this.props.onItemClick)this.props.onItemClick(e,t);else{const a=this.props.values;if(t){const t=i()(a.includes(e)?r()(a,e):[...a,e]);this.props.onChange({[this.props.property]:t})}else this.props.onChange({[this.props.property]:a.includes(e)&&a.length<2?[]:[e]})}},this.handleHeaderClick=()=>{this.props.onToggle(this.props.property)},this.handleClear=()=>{this.props.onClear?this.props.onClear():this.props.onChange({[this.props.property]:[]})},this.stopSearching=()=>{this.mounted&&this.setState({searching:!1})},this.search=e=>{e.length>=this.props.minSearchLength?(this.setState({query:e,searching:!0}),this.props.onSearch(e).then(this.loadCountsForSearchResults).then(e=>{let t=e.maxResults,a=e.paging,s=e.results,r=e.stats;this.mounted&&this.setState(e=>({searching:!1,searchMaxResults:t,searchResults:s,searchPaging:a,searchResultsCounts:Object.assign({},e.searchResultsCounts,r)}))}).catch(this.stopSearching)):this.setState({query:e,searching:!1,searchResults:[]})},this.searchMore=()=>{const e=this.state,t=e.query,a=e.searchPaging,s=e.searchResults;t&&s&&a&&(this.setState({searching:!0}),this.props.onSearch(t,a.pageIndex+1).then(this.loadCountsForSearchResults).then(e=>{let t=e.paging,a=e.results,r=e.stats;this.mounted&&this.setState(e=>({searching:!1,searchResults:[...s,...a],searchPaging:t,searchResultsCounts:Object.assign({},e.searchResultsCounts,r)}))}).catch(this.stopSearching))},this.loadCountsForSearchResults=e=>{const t=this.props.loadSearchResultCount,a=void 0===t?()=>Promise.resolve({}):t,s=e.results.filter(e=>{const t=this.props.getSearchResultKey(e);return void 0===this.getStat(t)&&void 0===this.state.searchResultsCounts[t]});return s.length>0?a(s).then(t=>Object.assign({},e,{stats:t})):Object.assign({},e,{stats:{}})},this.showFullList=()=>{this.setState({showFullList:!0})},this.hideFullList=()=>{this.setState({showFullList:!1})}}componentDidMount(){this.mounted=!0}componentDidUpdate(e){!e.open&&this.props.open?this.setState({autoFocus:!0}):e.open&&!this.props.open||!Object(O.h)(e.query||{},this.props.query||{})?this.setState({query:"",searchMaxResults:void 0,searchResults:void 0,searching:!1,searchResultsCounts:{},showFullList:!1}):e.stats!==this.props.stats&&Object.keys(this.props.stats||{}).length<this.props.maxInitialItems&&this.setState({showFullList:!1})}componentWillUnmount(){this.mounted=!1}getStat(e){const t=this.props.stats;return t&&void 0!==t[e]?t&&t[e]:void 0}renderList(){const e=this.props.stats;if(!e)return null;const t=this.props.getSortedItems?this.props.getSortedItems():i()(Object.keys(e),t=>-e[t],e=>this.props.getFacetItemText(e)),a=this.state.showFullList?t:t.slice(0,this.props.maxInitialItems),s=this.state.showFullList?[]:t.slice(this.props.maxInitialItems).filter(e=>this.props.values.includes(e)),r=t.length>=this.props.maxItems;return l.createElement(l.Fragment,null,l.createElement(h.a,null,a.map(e=>l.createElement(p.a,{active:this.props.values.includes(e),key:e,name:this.props.renderFacetItem(e),onClick:this.handleItemClick,stat:S(this.getStat(e)),tooltip:this.props.getFacetItemText(e),value:e}))),s.length>0&&l.createElement(l.Fragment,null,l.createElement("div",{className:"note spacer-bottom text-center"},"⋯"),l.createElement(h.a,null,s.map(e=>l.createElement(p.a,{active:!0,key:e,name:this.props.renderFacetItem(e),onClick:this.handleItemClick,stat:S(this.getStat(e)),tooltip:this.props.getFacetItemText(e),value:e})))),l.createElement(g,{count:a.length+s.length,showLess:this.state.showFullList?this.hideFullList:void 0,showMore:this.showFullList,total:t.length}),r&&this.state.showFullList&&l.createElement(v.a,{className:"spacer-top",variant:"warning"},Object(d.l)("facet_might_have_more_results")))}renderSearch(){return this.props.stats&&Object.keys(this.props.stats).length?l.createElement(y.a,{autoFocus:this.state.autoFocus,className:"little-spacer-top spacer-bottom",loading:this.state.searching,minLength:this.props.minSearchLength,onChange:this.search,placeholder:this.props.searchPlaceholder,value:this.state.query}):null}renderSearchResults(){const e=this.state,t=e.searching,a=e.searchMaxResults,s=e.searchResults,r=e.searchPaging;return t||s&&s.length?s?l.createElement(l.Fragment,null,l.createElement(h.a,null,s.map(e=>this.renderSearchResult(e))),a&&l.createElement(v.a,{className:"spacer-top",variant:"warning"},Object(d.l)("facet_might_have_more_results")),r&&l.createElement(b.a,{className:"spacer-bottom",count:s.length,loadMore:this.searchMore,ready:!t,total:r.total})):null:l.createElement("div",{className:"note spacer-bottom"},Object(d.l)("no_results"))}renderSearchResult(e){const t=this.props.getSearchResultKey(e),a=this.props.values.includes(t),s=this.getStat(t)||this.state.searchResultsCounts[t],r=!a&&0===s;return l.createElement(p.a,{active:a,disabled:r,key:t,name:this.props.renderSearchResult(e,this.state.query),onClick:this.handleItemClick,stat:S(s),tooltip:this.props.getSearchResultText(e),value:t})}render(){const e=this.props,t=e.disabled,a=e.stats,s=void 0===a?{}:a,r=this.state,n=r.query,i=r.searching,p=r.searchResults,h=this.props.values.map(e=>this.props.getFacetItemText(e)),d=""!==n&&i&&(void 0===p||0===p.length),m=!n||d;return l.createElement(c.a,{className:o(this.props.className,{"search-navigator-facet-box-forbidden":t}),property:this.props.property},l.createElement(u.a,{fetching:this.props.fetching,name:l.createElement(E.a,{overlay:t?this.props.disabledHelper:void 0},l.createElement("span",null,this.props.facetHeader)),onClear:this.handleClear,onClick:t?void 0:this.handleHeaderClick,open:this.props.open&&!t,values:h}),this.props.open&&!t&&l.createElement(l.Fragment,null,this.renderSearch(),m?this.renderList():this.renderSearchResults(),l.createElement(f.a,{options:Object.keys(s).length,values:h.length})))}}function S(e){return e&&Object(m.formatMeasure)(e,"SHORT_INT")}C.defaultProps={maxInitialItems:15,maxItems:100,minSearchLength:2}},520:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var s=a(365);function r(e,t){const a=e.toLowerCase().indexOf(t.toLowerCase());return-1!==a?s.createElement(s.Fragment,null,a>0&&e.substring(0,a),s.createElement("mark",null,e.substr(a,t.length)),a+t.length<e.length&&e.substring(a+t.length)):e}},574:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var s=a(365),r=a(0);a(821);function n(e){let t=e.options;return 0===e.values||t<2?null:s.createElement("div",{className:"multiple-selection-hint"},s.createElement("div",{className:"multiple-selection-hint-inner"},Object(r.l)(-1!==navigator.userAgent.indexOf("Mac OS X")?"shortcuts.section.global.facets.multiselection.mac":"shortcuts.section.global.facets.multiselection")))}},575:function(e,t,a){var s=a(576);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(369)(s,r);s.locals&&(e.exports=s.locals)},576:function(e,t,a){(e.exports=a(368)(!1)).push([e.i,'.search-navigator.sticky .search-navigator-workspace-header{position:fixed;z-index:50;top:0;left:300px;right:0}.search-navigator.sticky .search-navigator-workspace-details,.search-navigator.sticky .search-navigator-workspace-list{padding-top:43px}.search-navigator-facet-box{background-color:#f3f3f3;font-size:13px}.search-navigator-facet-box.leak-facet-box{background-color:#fbf3d5;border:1px solid #eae3c7}.search-navigator-facet-box.is-inner{margin-left:8px;padding-left:12px;border-left:1px solid #e6e6e6}.search-navigator-facet-box.is-inner .search-navigator-facet-header{padding-top:6px;padding-bottom:6px}.leak-facet-box:not(.hidden)+.leak-facet-box{border-top:none}.search-navigator-facet-box-forbidden{background-color:transparent;opacity:.5}.search-navigator-facet-box-forbidden .search-navigator-facet-container,.search-navigator-facet-box-forbidden .search-navigator-facet-empty,.search-navigator-facet-box-forbidden .search-navigator-facet-list{display:none}.search-navigator-facet-box-forbidden .search-navigator-facet-header{color:#777}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#4b9fd5}.search-navigator-facet-box-forbidden .search-navigator-facet-header{cursor:default}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#777}.search-navigator-facet{position:relative;display:inline-flex;justify-content:space-between;align-items:center;width:100%;height:24px;margin:0 0 1px;padding:0 6px;border:1px solid transparent;border-radius:2px;box-sizing:border-box;white-space:normal;opacity:.3;cursor:not-allowed;transition:none}a.search-navigator-facet{opacity:1;cursor:pointer}a.search-navigator-facet .facet-name{color:#444}.search-navigator-facet.active,a.search-navigator-facet:focus,a.search-navigator-facet:hover{border-color:#4b9fd5}.search-navigator-facet.facet-category{opacity:1;cursor:default}.search-navigator-facet.facet-category .facet-name{color:#777}.search-navigator-facet .facet-name{flex:1 1 auto;min-width:0;line-height:16px;padding:1px 0;color:#777;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-navigator-facet .facet-stat{display:flex;align-items:center;margin-left:8px;color:#777;font-size:12px}.search-navigator-facet .facet-toggle{display:none;float:left;height:16px;line-height:16px;margin-top:-1px;padding:0 5px;border-radius:2px;font-size:11px;text-transform:lowercase}.search-navigator-facet .facet-toggle:hover{color:#444}.search-navigator-facet .facet-toggle-active.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet .facet-toggle-active.facet-toggle-red{background-color:#d4333f;color:#fff}.leak-facet-box .search-navigator-facet .facet-name,.leak-facet-box .search-navigator-facet .facet-stat{background-color:#fbf3d5}.leak-facet-box .search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(251,243,213,0),#fbf3d5 75%)}.search-navigator-facet.active{background-color:#cae3f2;text-decoration:none}.search-navigator-facet.active .facet-toggle{display:inline}.search-navigator-facet.compare .facet-toggle{cursor:not-allowed;opacity:.5}.search-navigator-facet.compare .facet-toggle.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet.compare .facet-toggle.facet-toggle-red{background-color:transparent;color:#777}.search-navigator-facet-half{width:45%}.search-navigator-facet-half:nth-child(odd){margin-right:10%}.search-navigator-facet-highlight-under-container{margin-bottom:1px}.search-navigator-facet-highlight-under-container .search-navigator-facet{margin-bottom:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover{border-bottom:none;padding-bottom:1px;border-radius:2px 2px 0 0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet{border-top:none;border-bottom:none;border-left-color:#4b9fd5;border-right-color:#4b9fd5;border-radius:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:0 0 2px 2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet{background-color:#cae3f2;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet.active{border-top:1px solid #4b9fd5}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet{background-color:#a1cde8;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-toggle,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-header{display:block;flex-shrink:0;padding:8px 0;color:#444;font-weight:600;overflow:hidden;white-space:nowrap}.search-navigator-facet-header>a{border-bottom:none;color:#444}.search-navigator-facet-header>a:focus,.search-navigator-facet-header>a:hover{color:#4b9fd5}.search-navigator-facet-header>.note{font-weight:400}.search-navigator-facet-header-value{display:block;overflow:hidden}.search-navigator-facet-header-value>.badge{display:block}.search-navigator-facet-header-button{flex-shrink:0;margin-left:auto}.search-navigator-facet-header-wrapper{display:flex;align-items:center}.search-navigator-facet-list{padding-bottom:8px;font-size:0}.search-navigator-facet-list-title{margin:0 8px 4px;font-size:12px;font-weight:700}.search-navigator-facet-list+.search-navigator-facet-list>.search-navigator-facet-list-title{border-top:1px solid #e6e6e6;padding-top:8px}.search-navigator-facet-empty{margin:0;padding:0 10px 10px;color:#444;font-size:12px;white-space:nowrap}.search-navigator-facet-footer{display:block;padding-bottom:8px;border-bottom:none}.search-navigator-facet-container{margin-top:6px;padding:0 10px 16px}.search-navigator-date-facet-selection{position:relative;padding-left:8px;font-size:12px}.search-navigator-date-facet-selection:after,.search-navigator-date-facet-selection:before{display:table;content:"";line-height:0}.search-navigator-date-facet-selection:after{clear:both}.search-navigator-date-facet-selection .date-input-control-input{width:115px!important}.search-navigator-date-facet-selection-dropdown-left{float:left;border-bottom:none}.search-navigator-date-facet-selection-dropdown-right{float:right;border-bottom:none}.search-navigator-date-facet-selection-input-left{position:absolute;left:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection-input-right{position:absolute;right:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection .date-input-control:not(:first-of-type) .date-input-calendar{left:auto;right:0}.search-navigator-filters{position:relative;padding:5px 10px;background-color:#f3f3f3}.search-navigator-filters:after,.search-navigator-filters:before{display:table;content:"";line-height:0}.search-navigator-filters:after{clear:both}.search-navigator-filters-header{margin-bottom:12px;padding-bottom:11px;border-bottom:1px solid #e6e6e6}.search-navigator-intro{width:500px;margin:0 auto;padding-top:100px}',""])},592:function(e,t,a){var s=a(710),r=a(6);e.exports=function(e,t,a,n){return null==e?[]:(r(t)||(t=null==t?[]:[t]),r(a=n?void 0:a)||(a=null==a?[]:[a]),s(e,t,a))}},634:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"c",function(){return n}),a.d(t,"a",function(){return i});const s={};function r(e){return e.replace(/[^\u0000-\u007E]/g,e=>s[e]||e)}function n(e){return r(e.trim().toLowerCase()).replace(/&/g,"-and-").replace(/[^\w-]+/g,"-").replace(/\s+/g,"-").replace(/[·\/_,:;]/g,"-").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function i(e){const t=e.split("."),a=(t.length>1?t[1]:t[0]).replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(a))}[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}].forEach(e=>e.letters.split("").forEach(t=>{s[t]=e.base}))},640:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var s=a(365),r=a(366),n=a(374),i=a(373),l=a(0);class o extends s.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.onClick()},this.renderIcon=()=>s.createElement("svg",{height:"24",viewBox:"0 0 18 24",width:"18"},s.createElement("path",{d:"M16.6454 8.1084c-.3-.5-.9-.7-1.4-.4-.5.3-.7.9-.4 1.4.9 1.6 1.1 3.4.6 5.1-.5 1.7-1.7 3.2-3.2 4-3.3 1.8-7.4.6-9.1-2.7-1.8-3.1-.8-6.9 2.1-8.8v3.3h2v-7h-7v2h3.9c-3.7 2.5-5 7.5-2.8 11.4 1.6 3 4.6 4.6 7.7 4.6 1.4 0 2.8-.3 4.2-1.1 2-1.1 3.5-3 4.2-5.2.6-2.2.3-4.6-.8-6.6z",fill:i.secondFontColor}))}render(){const e=this.props.tooltip,t=void 0===e?Object(l.l)("reload"):e;return s.createElement(n.a,{overlay:t},s.createElement("a",{className:r("link-no-underline",this.props.className),href:"#",onClick:this.handleClick},this.renderIcon()))}}},641:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var s=a(365),r=a(366),n=a(395),i=a(0);function l(e){let t=e.className,l=e.tooltip,o=void 0===l||l;const c=s.createElement("div",{className:r("outline-badge",t)},Object(i.l)("quality_profiles.built_in"));return o?s.createElement(n.a,{doc:Promise.resolve().then(a.bind(null,683))},c):c}},682:function(e,t,a){"use strict";function s(){return a.e(382).then(a.t.bind(null,897,3)).then(e=>e.default)}function r(e,t){const a=e.cwe[t];return a?"unknown"===t?a.title:"CWE-".concat(t," - ").concat(a.title):"CWE-".concat(t)}function n(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=e.owaspTop10[t];return o(s?"".concat(t.toUpperCase()," - ").concat(s.title):t.toUpperCase(),"OWASP",a)}function i(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=e.sansTop25[t];return o(s?s.title:t,"SANS",a)}function l(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=e.sonarsourceSecurity[t];return s?"others"===t?s.title:o(s.title,"SONAR",a):o(t.toUpperCase(),"SONAR",a)}function o(e,t,a){return a?"".concat(t," ").concat(e):e}a.d(t,"a",function(){return s}),a.d(t,"b",function(){return r}),a.d(t,"c",function(){return n}),a.d(t,"d",function(){return i}),a.d(t,"e",function(){return l})},683:function(e,t,a){"use strict";a.r(t),t.default="Built-in profiles are provided directly by the language analyzers and may be updated with each new analyzer version. They represent best-practice, minimum rule sets.\n"},729:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var s=a(365),r=a(388),n=a(0),i=a(432),l=a(676),o=a(391),c=a(468);class u extends s.PureComponent{constructor(){super(...arguments),this.handleLanguageClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.rule.lang&&this.props.onFilterChange({languages:[this.props.rule.lang]})},this.handleTypeClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.onFilterChange({types:[this.props.rule.type]})},this.handleSeverityClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.rule.severity&&this.props.onFilterChange({severities:[this.props.rule.severity]})},this.handleTagClick=e=>{e.preventDefault(),e.currentTarget.blur();const t=e.currentTarget.dataset.tag;t&&this.props.onFilterChange({tags:[t]})}}render(){const e=this.props.rule,t=e.tags,a=void 0===t?[]:t,u=e.sysTags,p=void 0===u?[]:u,h=e.severity,d=[...a,...p];return s.createElement(r.b,{className:"display-inline-block",overlay:s.createElement(s.Fragment,null,s.createElement("ul",{className:"menu"},s.createElement("li",{className:"menu-header"},Object(n.l)("coding_rules.filter_similar_rules")),s.createElement("li",null,s.createElement("a",{"data-field":"language",href:"#",onClick:this.handleLanguageClick},e.langName)),s.createElement("li",null,s.createElement("a",{"data-field":"type",href:"#",onClick:this.handleTypeClick},Object(n.l)("issue.type",e.type))),h&&s.createElement("li",null,s.createElement("a",{"data-field":"severity",href:"#",onClick:this.handleSeverityClick},s.createElement(i.a,{severity:e.severity}))),d.length>0&&s.createElement(s.Fragment,null,s.createElement("li",{className:"divider"}),d.map(e=>s.createElement("li",{key:e},s.createElement("a",{"data-field":"tag","data-tag":e,href:"#",onClick:this.handleTagClick},s.createElement(c.a,{className:"icon-half-transparent little-spacer-right text-middle"}),s.createElement("span",{className:"text-middle"},e)))))))},s.createElement("a",{className:"js-rule-filter link-no-underline spacer-left dropdown-toggle",href:"#",title:Object(n.l)("coding_rules.filter_similar_rules")},s.createElement(l.a,{className:"icon-half-transparent"}),s.createElement(o.a,{className:"icon-half-transparent"})))}}},801:function(e,t,a){"use strict";a.r(t),t.default="Custom rules are created by administrators from templates, and are the only fully-editable rules.\n"},802:function(e,t,a){var s=a(803);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(369)(s,r);s.locals&&(e.exports=s.locals)},803:function(e,t,a){(e.exports=a(368)(!1)).push([e.i,".coding-rules-extended-view .coding-rules-list{display:none}.coding-rules-extended-view .coding-rules-details{display:block}.coding-rules-detail-title{position:relative;display:inline-block;margin:16px 0;font-size:16px;font-weight:400}.coding-rules-detail-quality-profile-parameter{display:block;height:100%;padding-top:0;padding-right:10px}.coding-rules-detail-quality-profile-parameter .key,.coding-rules-detail-quality-profile-parameter .sep,.coding-rules-detail-quality-profile-parameter .value{display:inline;vertical-align:top}.coding-rules-detail-quality-profile-parameter .value{display:inline-block;vertical-align:top;line-height:23px;max-width:300px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Consolas,Liberation Mono,Menlo,Courier,monospace}.coding-rules-detail-quality-profile-parameter+.coding-rules-detail-quality-profile-parameter{margin-top:0}.coding-rules-detail-properties{display:flex;flex-wrap:wrap;align-items:center;margin-top:8px}.coding-rules-detail-properties+.coding-rules-detail-properties{margin-top:-10px}.coding-rules-detail-property{display:flex;align-items:center;margin-right:16px;margin-bottom:8px;font-size:12px}.coding-rules-detail-tag+.coding-rules-detail-tag{margin-left:10px}.coding-rules-detail-tags-change{cursor:pointer}.coding-rules-detail-tags-change:hover span{text-decoration:underline}.coding-rules-detail-tag-edit{line-height:1}.coding-rules-details-tag-edit-cancel{vertical-align:middle}.coding-rules-detail-description{margin:20px 0}.coding-rules-detail-description-extra{margin-top:-10px}.coding-rules-detail-extend-description-form{margin:10px 0}.coding-rules-detail-parameters{width:100%;margin:10px 0 20px}.coding-rules-detail-parameter-name{width:1px;vertical-align:top;padding:5px 10px 5px 0;font-weight:700}.coding-rules-detail-parameter-description{vertical-align:top;padding:5px}.coding-rules-detail-parameter-value{font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;word-break:break-all}.coding-rules-detail-list,.coding-rules-detail-quality-profiles{width:100%;line-height:22px}.coding-rules-detail-list td,.coding-rules-detail-quality-profiles td{border-top:1px solid #e6e6e6}.coding-rules-detail-list tr:first-child td,.coding-rules-detail-quality-profiles tr:first-child td{border-top:none}.coding-rules-detail-list-name,.coding-rules-detail-quality-profile-name{vertical-align:top;width:1px;padding:8px 5px 8px 0;font-weight:600;white-space:nowrap}.coding-rules-detail-list-severity,.coding-rules-detail-quality-profile-severity{vertical-align:top;width:1px;padding:8px 5px;white-space:nowrap}.coding-rules-detail-quality-profile-severity i{margin-top:2px}.coding-rules-detail-list-parameters,.coding-rules-detail-quality-profile-parameters{vertical-align:top;padding:8px 5px}.coding-rules-detail-list-actions,.coding-rules-detail-quality-profile-actions{vertical-align:top;width:1px;padding:8px 0 8px 5px;text-align:right;white-space:nowrap}.coding-rules-detail-quality-profile-inheritance{font-size:12px;font-weight:400}.coding-rules-detail-quality-profiles-activation{margin-top:-3px;margin-left:10px}.coding-rules-most-violated-projects td{border-top-color:transparent}.coding-rules-most-violated-projects tr:first-child+tr td{border-top-color:#e6e6e6}.coding-rules-most-violated-projects .coding-rules-detail-list-name{font-weight:400}.coding-rule{padding:8px 10px 8px 8px;border:1px solid transparent;background-color:#fff}.coding-rule.selected{border-color:#4b9fd5!important}.coding-rule+.coding-rule{border-top-color:#e6e6e6}.coding-rule.selected+.coding-rule{border-top-color:transparent}.coding-rule-table{width:100%}.coding-rule-table td{vertical-align:top}.coding-rule-table+.coding-rule-table{margin-top:5px}.coding-rule-table-meta-cell{width:1px;white-space:nowrap}@media (max-width:1320px){.coding-rule-table .tags-list span{max-width:100px}}.coding-rule-title{line-height:20px;font-size:13px}.coding-rule-meta{padding:2px 2px 2px 30px;font-size:12px}.coding-rule-activation{width:40px;line-height:19.5px}.coding-rule-activation-actions{padding-left:20px}.coding-rule-section-separator{height:0;margin:10px 0;border-top:1px solid #e6e6e6}",""])},821:function(e,t,a){var s=a(822);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(369)(s,r);s.locals&&(e.exports=s.locals)},822:function(e,t,a){(e.exports=a(368)(!1)).push([e.i,".multiple-selection-hint{margin-top:8px;margin-bottom:8px;text-align:center}.multiple-selection-hint-inner{display:inline-block;height:24px;line-height:24px;border-radius:24px;background-color:#e6e6e6;text-align:center;padding:0 8px;font-size:12px}",""])},823:function(e,t,a){"use strict";a.d(t,"a",function(){return E});var s=a(474),r=a.n(s),n=a(417),i=a.n(n),l=a(382),o=a.n(l),c=a(365),u=a(470),p=a(482),h=a(484),d=a(497),m=a(512),g=a(574),f=a(0),v=a(520),b=a(682),y=a(467);class E extends c.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.property=y.a,this.state={cweQuery:"",standards:{owaspTop10:{},sansTop25:{},cwe:{},sonarsourceSecurity:{}}},this.loadStandards=()=>{Object(b.a)().then(e=>{let t=e.owaspTop10,a=e.sansTop25,s=e.cwe,r=e.sonarsourceSecurity;this.mounted&&this.setState({standards:{owaspTop10:t,sansTop25:a,cwe:s,sonarsourceSecurity:r}})},()=>{})},this.getValues=()=>[...this.props.sonarsourceSecurity.map(e=>Object(b.e)(this.state.standards,e,!0)),...this.props.owaspTop10.map(e=>Object(b.c)(this.state.standards,e,!0)),...this.props.sansTop25.map(e=>Object(b.d)(this.state.standards,e,!0)),...this.props.cwe.map(e=>Object(b.b)(this.state.standards,e))],this.handleHeaderClick=()=>{this.props.onToggle(this.property)},this.handleOwaspTop10HeaderClick=()=>{this.props.onToggle("owaspTop10")},this.handleSansTop25HeaderClick=()=>{this.props.onToggle("sansTop25")},this.handleSonarSourceSecurityHeaderClick=()=>{this.props.onToggle("sonarsourceSecurity")},this.handleClear=()=>{this.props.onChange({[this.property]:[],owaspTop10:[],sansTop25:[],cwe:[],sonarsourceSecurity:[]})},this.handleItemClick=(e,t,a)=>{const s=this.props[e];if(a){const a=o()(s.includes(t)?i()(s,t):[...s,t]);this.props.onChange({[e]:a})}else this.props.onChange({[e]:s.includes(t)&&s.length<2?[]:[t]})},this.handleOwaspTop10ItemClick=(e,t)=>{this.handleItemClick("owaspTop10",e,t)},this.handleSansTop25ItemClick=(e,t)=>{this.handleItemClick("sansTop25",e,t)},this.handleSonarSourceSecurityItemClick=(e,t)=>{this.handleItemClick("sonarsourceSecurity",e,t)},this.handleCWESearch=e=>Promise.resolve({results:Object.keys(this.state.standards.cwe).filter(t=>Object(b.b)(this.state.standards,t).toLowerCase().includes(e.toLowerCase()))}),this.loadCWESearchResultCount=e=>{const t=this.props.loadSearchResultCount;return t?t("cwe",{cwe:e}):Promise.resolve({})},this.renderList=(e,t,a,s)=>{const r=this.props[e],n=this.props[t];if(!r)return null;const i=o()(Object.keys(r),e=>-r[e]);return this.renderFacetItemsList(r,n,i,a,a,s)},this.renderFacetItemsList=(e,t,a,s,r,n)=>{if(!a.length)return c.createElement("div",{className:"search-navigator-facet-empty little-spacer-top"},Object(f.l)("no_results"));const i=t=>e?e[t]:void 0;return c.createElement(d.a,null,a.map(e=>c.createElement(h.a,{active:t.includes(e),key:e,name:s(this.state.standards,e),onClick:n,stat:Object(y.e)(i(e)),tooltip:r(this.state.standards,e),value:e})))},this.renderHint=(e,t)=>{const a=this.props[e]||{},s=this.props[t];return c.createElement(g.a,{options:Object.keys(a).length,values:s.length})}}componentDidMount(){this.mounted=!0,(this.props.open||this.props.owaspTop10.length>0||this.props.cwe.length>0||this.props.sansTop25.length>0||this.props.sonarsourceSecurity.length>0)&&this.loadStandards()}componentDidUpdate(e){!e.open&&this.props.open&&this.loadStandards()}componentWillUnmount(){this.mounted=!1}renderOwaspTop10List(){return this.renderList("owaspTop10Stats","owaspTop10",b.c,this.handleOwaspTop10ItemClick)}renderOwaspTop10Hint(){return this.renderHint("owaspTop10Stats","owaspTop10")}renderSansTop25List(){return this.renderList("sansTop25Stats","sansTop25",b.d,this.handleSansTop25ItemClick)}renderSansTop25Hint(){return this.renderHint("sansTop25Stats","sansTop25")}renderSonarSourceSecurityList(){return this.renderList("sonarsourceSecurityStats","sonarsourceSecurity",b.e,this.handleSonarSourceSecurityItemClick)}renderSonarSourceSecurityHint(){return this.renderHint("sonarsourceSecurityStats","sonarsourceSecurity")}renderSubFacets(){return c.createElement(c.Fragment,null,c.createElement(u.a,{className:"is-inner",property:"sonarsourceSecurity"},c.createElement(p.a,{fetching:this.props.fetchingSonarSourceSecurity,name:Object(f.l)("issues.facet.sonarsourceSecurity"),onClick:this.handleSonarSourceSecurityHeaderClick,open:this.props.sonarsourceSecurityOpen,values:this.props.sonarsourceSecurity.map(e=>Object(b.e)(this.state.standards,e))}),this.props.sonarsourceSecurityOpen&&c.createElement(c.Fragment,null,this.renderSonarSourceSecurityList(),this.renderSonarSourceSecurityHint())),c.createElement(u.a,{className:"is-inner",property:"owaspTop10"},c.createElement(p.a,{fetching:this.props.fetchingOwaspTop10,name:Object(f.l)("issues.facet.owaspTop10"),onClick:this.handleOwaspTop10HeaderClick,open:this.props.owaspTop10Open,values:this.props.owaspTop10.map(e=>Object(b.c)(this.state.standards,e))}),this.props.owaspTop10Open&&c.createElement(c.Fragment,null,this.renderOwaspTop10List(),this.renderOwaspTop10Hint())),c.createElement(u.a,{className:"is-inner",property:"sansTop25"},c.createElement(p.a,{fetching:this.props.fetchingSansTop25,name:Object(f.l)("issues.facet.sansTop25"),onClick:this.handleSansTop25HeaderClick,open:this.props.sansTop25Open,values:this.props.sansTop25.map(e=>Object(b.d)(this.state.standards,e))}),this.props.sansTop25Open&&c.createElement(c.Fragment,null,this.renderSansTop25List(),this.renderSansTop25Hint())),c.createElement(m.a,{className:"is-inner",facetHeader:Object(f.l)("issues.facet.cwe"),fetching:this.props.fetchingCwe,getFacetItemText:e=>Object(b.b)(this.state.standards,e),getSearchResultKey:e=>e,getSearchResultText:e=>Object(b.b)(this.state.standards,e),loadSearchResultCount:this.loadCWESearchResultCount,onChange:this.props.onChange,onSearch:this.handleCWESearch,onToggle:this.props.onToggle,open:this.props.cweOpen,property:"cwe",query:r()(this.props.query,"cwe"),renderFacetItem:e=>Object(b.b)(this.state.standards,e),renderSearchResult:(e,t)=>Object(v.a)(Object(b.b)(this.state.standards,e),t),searchPlaceholder:Object(f.l)("search.search_for_cwe"),stats:this.props.cweStats,values:this.props.cwe}))}render(){return c.createElement(u.a,{property:this.property},c.createElement(p.a,{name:Object(f.l)("issues.facet",this.property),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:this.getValues()}),this.props.open&&this.renderSubFacets())}}},824:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var s=a(365),r=a(366),n=a(376);function i(e){let t=e.className,a=e.current,i=e.label,l=e.total;return s.createElement("div",{className:r("display-inline-block",t)},s.createElement("strong",{className:"little-spacer-right"},void 0!==a&&Object(n.formatMeasure)(a+1,"INT")+" / ",s.createElement("span",{className:"js-page-counter-total"},Object(n.formatMeasure)(l,"INT"))),i)}},825:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var s=a(365),r=a(429),n=a(0);function i(e){return s.createElement("span",{className:e.className},s.createElement(r.a,{className:"little-spacer-right",query:e.type}),Object(n.l)("issue.type",e.type))}},826:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var s=a(365),r=a(367),n=a(0);function i(e){let t=e.displayReset,a=e.onReset;return s.createElement("div",{className:"search-navigator-filters-header"},t&&s.createElement("div",{className:"pull-right"},s.createElement(r.a,{className:"button-red",id:"coding-rules-clear-all-filters",onClick:a},Object(n.l)("clear_all_filters"))),s.createElement("h3",null,Object(n.l)("filters")))}},902:function(e,t,a){"use strict";var s=a(365),r=a(371),n=a(460),i=a.n(n),l=a(441),o=a.n(l),c=a(417),u=a.n(c),p=a(613),h=a(434);const d=10;class m extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={searchResult:[]},this.onSearch=e=>Object(h.d)({q:e,ps:Math.min(this.props.tags.length+d,100),organization:this.props.organization}).then(e=>{this.mounted&&this.setState({searchResult:u()(e,...this.props.sysTags)})},()=>{}),this.onSelect=e=>{this.props.setTags(o()([...this.props.tags,e]))},this.onUnselect=e=>{this.props.setTags(u()(this.props.tags,e))}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=i()(this.state.searchResult,this.props.tags);return s.createElement(p.a,{listSize:d,onSearch:this.onSearch,onSelect:this.onSelect,onUnselect:this.onUnselect,selectedTags:this.props.tags,tags:e})}}var g=a(729),f=a(401),v=a(395),b=a(388),y=a(429),E=a(554),O=a(370);function C(e){let t=e.className,a=e.fill,r=void 0===a?"currentColor":a,n=e.size;return s.createElement(O.a,{className:t,size:n},s.createElement("path",{d:"M8 3.071c2.724 0 4.929 2.204 4.929 4.929s-2.204 4.929-4.929 4.929c-2.724 0-4.929-2.204-4.929-4.929s2.204-4.929 4.929-4.929zM8 1.357c-3.669 0-6.643 2.974-6.643 6.643s2.974 6.643 6.643 6.643 6.643-2.974 6.643-6.643-2.974-6.643-6.643-6.643zM8 6.286c0.945 0 1.714 0.769 1.714 1.714s-0.769 1.714-1.714 1.714-1.714-0.769-1.714-1.714 0.769-1.714 1.714-1.714zM8 4.571c-1.893 0-3.429 1.535-3.429 3.429s1.535 3.429 3.429 3.429 3.429-1.535 3.429-3.429-1.535-3.429-3.429-3.429z",style:{fill:r}}))}var S=a(432),j=a(533),k=a(374),N=a(367),x=a(453),T=a(372),_=a(0);a.d(t,"a",function(){return R});const w="external_";class R extends s.PureComponent{constructor(){super(...arguments),this.renderType=()=>{const e=this.props.ruleDetails;return s.createElement(k.a,{overlay:Object(_.l)("coding_rules.type.tooltip",e.type)},s.createElement("li",{className:"coding-rules-detail-property","data-meta":"type"},s.createElement(y.a,{className:"little-spacer-right",query:e.type}),Object(_.l)("issue.type",e.type)))},this.renderSeverity=()=>s.createElement(k.a,{overlay:Object(_.l)("default_severity")},s.createElement("li",{className:"coding-rules-detail-property","data-meta":"severity"},s.createElement(S.a,{className:"display-inline-flex-center",severity:this.props.ruleDetails.severity}))),this.renderStatus=()=>{const e=this.props.ruleDetails;return"READY"===e.status?null:s.createElement(k.a,{overlay:Object(_.l)("status")},s.createElement("li",{className:"coding-rules-detail-property","data-meta":"status"},s.createElement("span",{className:"badge badge-normal-size badge-danger-light"},Object(_.l)("rules.status",e.status))))},this.renderTags=()=>{const e=this.props,t=e.canWrite,a=e.ruleDetails,r=a.sysTags,n=void 0===r?[]:r,i=a.tags,l=void 0===i?[]:i,o=[...n,...l];return s.createElement("li",{className:"coding-rules-detail-property","data-meta":"tags"},this.props.canWrite?s.createElement(b.b,{closeOnClick:!1,closeOnClickOutside:!0,overlay:s.createElement(m,{organization:this.props.organization,setTags:this.props.onTagsChange,sysTags:n,tags:l}),overlayPlacement:x.b.BottomLeft},s.createElement(N.c,null,s.createElement(j.a,{allowUpdate:t,tags:o.length>0?o:[Object(_.l)("coding_rules.no_tags")]}))):s.createElement(j.a,{allowUpdate:t,className:"display-flex-center",tags:o.length>0?o:[Object(_.l)("coding_rules.no_tags")]}))},this.renderCreationDate=()=>s.createElement("li",{className:"coding-rules-detail-property","data-meta":"available-since"},s.createElement("span",{className:"little-spacer-right"},Object(_.l)("coding_rules.available_since")),s.createElement(f.a,{date:this.props.ruleDetails.createdAt})),this.renderRepository=()=>{const e=this.props,t=e.referencedRepositories,a=e.ruleDetails,r=t[a.repo];return r?s.createElement(k.a,{overlay:Object(_.l)("coding_rules.repository_language")},s.createElement("li",{className:"coding-rules-detail-property","data-meta":"repository"},r.name," (",a.langName,")")):null},this.renderTemplate=()=>this.props.ruleDetails.isTemplate?s.createElement(k.a,{overlay:Object(_.l)("coding_rules.rule_template.title")},s.createElement("li",{className:"coding-rules-detail-property"},Object(_.l)("coding_rules.rule_template"))):null,this.renderParentTemplate=()=>{const e=this.props.ruleDetails;return e.templateKey?s.createElement("li",{className:"coding-rules-detail-property"},Object(_.l)("coding_rules.custom_rule")," (",s.createElement(r.Link,{to:Object(T.B)(e.templateKey,this.props.organization)},Object(_.l)("coding_rules.show_template")),")",s.createElement(v.a,{className:"little-spacer-left",doc:Promise.resolve().then(a.bind(null,801))})):null},this.renderRemediation=()=>{const e=this.props.ruleDetails;return e.debtRemFnType?s.createElement(k.a,{overlay:Object(_.l)("coding_rules.remediation_function")},s.createElement("li",{className:"coding-rules-detail-property","data-meta":"remediation-function"},Object(_.l)("coding_rules.remediation_function",e.debtRemFnType),":",void 0!==e.debtRemFnOffset&&" ".concat(e.debtRemFnOffset),void 0!==e.debtRemFnCoeff&&" +".concat(e.debtRemFnCoeff),void 0!==e.effortToFixDescription&&" ".concat(e.effortToFixDescription))):null},this.renderScope=()=>{const e=this.props.ruleDetails.scope||"MAIN";return s.createElement(k.a,{overlay:Object(_.l)("coding_rules.scope.title")},s.createElement("li",{className:"coding-rules-detail-property"},s.createElement(C,{className:"little-spacer-right"}),Object(_.l)("coding_rules.scope",e)))},this.renderExternalBadge=()=>{const e=this.props.ruleDetails;if(!e.repo)return null;const t=e.repo.replace(new RegExp("^".concat(w)),"");return t?s.createElement(k.a,{overlay:Object(_.m)("coding_rules.external_rule.engine",t)},s.createElement("li",{className:"coding-rules-detail-property"},s.createElement("div",{className:"outline-badge badge-tiny-height spacer-left text-text-top"},t))):null}}renderKey(){const e=this.props.ruleDetails,t=e.key.startsWith("external_")?e.key.substr("external_".length):e.key;return s.createElement("span",{className:"note text-middle"},t)}render(){const e=this.props.ruleDetails,t=!e.isExternal||"UNKNOWN"!==e.type;return s.createElement("div",{className:"js-rule-meta"},s.createElement("header",{className:"page-header"},s.createElement("div",{className:"pull-right"},this.renderKey(),!e.isExternal&&s.createElement(r.Link,{className:"coding-rules-detail-permalink link-no-underline spacer-left text-middle",title:Object(_.l)("permalink"),to:Object(T.B)(e.key,this.props.organization)},s.createElement(E.a,null)),!this.props.hideSimilarRulesFilter&&s.createElement(g.a,{onFilterChange:this.props.onFilterChange,rule:e})),s.createElement("h3",{className:"page-title coding-rules-detail-header"},s.createElement("big",null,e.name))),t&&s.createElement("ul",{className:"coding-rules-detail-properties"},this.renderType(),this.renderSeverity(),!e.isExternal&&s.createElement(s.Fragment,null,this.renderStatus(),this.renderScope()),this.renderTags(),!e.isExternal&&this.renderCreationDate(),this.renderRepository(),!e.isExternal&&s.createElement(s.Fragment,null,this.renderTemplate(),this.renderParentTemplate(),this.renderRemediation()),e.isExternal&&this.renderExternalBadge()))}}},905:function(e,t,a){"use strict";var s=a(365),r=a(387),n=a(367),i=a(0);function l(e){let t=e.onCancel,a=e.onSubmit;const l=Object(i.l)("coding_rules.remove_extended_description");return s.createElement(r.a,{header:l,onClose:t,onSubmit:a},e=>{let t=e.onCloseClick,a=e.onFormSubmit,r=e.submitting;return s.createElement("form",{onSubmit:a},s.createElement("header",{className:"modal-head"},s.createElement("h2",null,l)),s.createElement("div",{className:"modal-body"},Object(i.l)("coding_rules.remove_extended_description.confirm")),s.createElement("footer",{className:"modal-foot"},r&&s.createElement("i",{className:"spinner spacer-right"}),s.createElement(n.i,{className:"button-red",disabled:r},Object(i.l)("remove")),s.createElement(n.h,{onClick:t},Object(i.l)("cancel"))))})}var o=a(434),c=a(615);a.d(t,"a",function(){return u});class u extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={description:"",descriptionForm:!1,submitting:!1,removeDescriptionModal:!1},this.handleDescriptionChange=e=>this.setState({description:e.currentTarget.value}),this.handleCancelClick=()=>{this.setState({descriptionForm:!1})},this.handleSaveClick=()=>{this.updateDescription(this.state.description)},this.handleRemoveDescriptionClick=()=>{this.setState({removeDescriptionModal:!0})},this.handleCancelRemoving=()=>this.setState({removeDescriptionModal:!1}),this.handleConfirmRemoving=()=>{this.setState({removeDescriptionModal:!1}),this.updateDescription("")},this.updateDescription=e=>{this.setState({submitting:!0}),Object(o.h)({key:this.props.ruleDetails.key,markdown_note:e,organization:this.props.organization}).then(e=>{this.props.onChange(e),this.mounted&&this.setState({submitting:!1,descriptionForm:!1})},()=>{this.mounted&&this.setState({submitting:!1})})},this.handleExtendDescriptionClick=()=>{this.setState({description:this.props.ruleDetails.mdNote||"",descriptionForm:!0})},this.renderDescription=()=>s.createElement("div",{id:"coding-rules-detail-description-extra"},void 0!==this.props.ruleDetails.htmlNote&&s.createElement("div",{className:"rule-desc spacer-bottom markdown",dangerouslySetInnerHTML:{__html:this.props.ruleDetails.htmlNote}}),this.props.canWrite&&s.createElement(n.a,{id:"coding-rules-detail-extend-description",onClick:this.handleExtendDescriptionClick},Object(i.l)("coding_rules.extend_description"))),this.renderForm=()=>s.createElement("div",{className:"coding-rules-detail-extend-description-form"},s.createElement("table",{className:"width-100"},s.createElement("tbody",null,s.createElement("tr",null,s.createElement("td",{colSpan:2},s.createElement("textarea",{autoFocus:!0,className:"width-100 little-spacer-bottom",id:"coding-rules-detail-extend-description-text",onChange:this.handleDescriptionChange,rows:4,value:this.state.description}))),s.createElement("tr",null,s.createElement("td",null,s.createElement(n.a,{disabled:this.state.submitting,id:"coding-rules-detail-extend-description-submit",onClick:this.handleSaveClick},Object(i.l)("save")),void 0!==this.props.ruleDetails.mdNote&&s.createElement(s.Fragment,null,s.createElement(n.a,{className:"button-red spacer-left",disabled:this.state.submitting,id:"coding-rules-detail-extend-description-remove",onClick:this.handleRemoveDescriptionClick},Object(i.l)("remove")),this.state.removeDescriptionModal&&s.createElement(l,{onCancel:this.handleCancelRemoving,onSubmit:this.handleConfirmRemoving})),s.createElement(n.h,{className:"spacer-left",disabled:this.state.submitting,id:"coding-rules-detail-extend-description-cancel",onClick:this.handleCancelClick},Object(i.l)("cancel")),this.state.submitting&&s.createElement("i",{className:"spinner spacer-left"})),s.createElement("td",{className:"text-right"},s.createElement(c.a,null))))))}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props.ruleDetails,t=!e.isExternal||"UNKNOWN"!==e.type;return s.createElement("div",{className:"js-rule-description"},t?s.createElement("div",{className:"coding-rules-detail-description rule-desc markdown",dangerouslySetInnerHTML:{__html:e.htmlDesc||""}}):s.createElement("div",{className:"coding-rules-detail-description rule-desc markdown"},Object(i.m)("issue.external_issue_description",e.name)),!e.templateKey&&s.createElement("div",{className:"coding-rules-detail-description coding-rules-detail-description-extra"},!this.state.descriptionForm&&this.renderDescription(),this.state.descriptionForm&&this.props.canWrite&&this.renderForm()))}}},971:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return d});var s=a(365),r=a(378),n=a(386),i=a(432),l=a(410),o=a(489),c=a(0),u=a(476),p=a(367),h=a(385);class d extends s.PureComponent{constructor(e){var t;super(e),t=this,this.mounted=!1,this.getParams=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props,a=e.activation,s=e.rule;const r={};if(s&&s.params){for(const e of s.params)r[e.key]=e.defaultValue||"";if(a&&a.params)for(const e of a.params)r[e.key]=e.value}return r},this.getQualityProfilesWithDepth=function(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props).profiles;return Object(u.g)(e.filter(e=>!e.isBuiltIn&&e.actions&&e.actions.edit&&e.language===t.props.rule.lang)).map(e=>Object.assign({},e,{depth:e.depth-1}))},this.handleFormSubmit=e=>{e.preventDefault(),this.setState({submitting:!0});const t={key:this.state.profile,organization:this.props.organization,params:this.state.params,rule:this.props.rule.key,severity:this.state.severity};Object(l.a)(t).then(()=>this.props.onDone(t.severity)).then(()=>{this.mounted&&(this.setState({submitting:!1}),this.props.onClose())},()=>{this.mounted&&this.setState({submitting:!1})})},this.handleParameterChange=e=>{const t=e.currentTarget,a=t.name,s=t.value;this.setState(e=>({params:Object.assign({},e.params,{[a]:s})}))},this.handleProfileChange=e=>{let t=e.value;this.setState({profile:t})},this.handleSeverityChange=e=>{let t=e.value;this.setState({severity:t})},this.renderSeverityOption=e=>{let t=e.value;return s.createElement(i.a,{severity:t})};const a=this.getQualityProfilesWithDepth(e);this.state={params:this.getParams(e),profile:a.length>0?a[0].key:"",severity:e.activation?e.activation.severity:e.rule.severity,submitting:!1}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props,t=e.activation,a=e.rule,i=this.state,l=i.profile,u=i.severity,d=i.submitting,m=a.params,g=void 0===m?[]:m,f=this.getQualityProfilesWithDepth(),v=!!a.templateKey,b=f.length<=0,y=!!t;return s.createElement(r.a,{contentLabel:this.props.modalHeader,onRequestClose:this.props.onClose,size:"small"},s.createElement("form",{onSubmit:this.handleFormSubmit},s.createElement("div",{className:"modal-head"},s.createElement("h2",null,this.props.modalHeader)),s.createElement("div",{className:"modal-body modal-container"},!y&&b&&s.createElement(h.a,{variant:"info"},Object(c.l)("coding_rules.active_in_all_profiles")),s.createElement("div",{className:"modal-field"},s.createElement("label",null,Object(c.l)("coding_rules.quality_profile")),s.createElement(n.c,{className:"js-profile",clearable:!1,disabled:d||1===f.length,onChange:this.handleProfileChange,options:f.map(e=>({label:"   ".repeat(e.depth)+e.name,value:e.key})),value:l})),s.createElement("div",{className:"modal-field"},s.createElement("label",null,Object(c.l)("severity")),s.createElement(n.c,{className:"js-severity",clearable:!1,disabled:d,onChange:this.handleSeverityChange,optionRenderer:this.renderSeverityOption,options:o.e.map(e=>({label:Object(c.l)("severity",e),value:e})),searchable:!1,value:u,valueRenderer:this.renderSeverityOption})),v?s.createElement("div",{className:"modal-field"},s.createElement("p",{className:"note"},Object(c.l)("coding_rules.custom_rule.activation_notice"))):g.map(e=>s.createElement("div",{className:"modal-field",key:e.key},s.createElement("label",{title:e.key},e.key),"TEXT"===e.type?s.createElement("textarea",{disabled:d,name:e.key,onChange:this.handleParameterChange,placeholder:e.defaultValue,rows:3,value:this.state.params[e.key]||""}):s.createElement("input",{disabled:d,name:e.key,onChange:this.handleParameterChange,placeholder:e.defaultValue,type:"text",value:this.state.params[e.key]||""}),s.createElement("div",{className:"note",dangerouslySetInnerHTML:{__html:e.htmlDesc||""}})))),s.createElement("footer",{className:"modal-foot"},d&&s.createElement("i",{className:"spinner spacer-right"}),s.createElement(p.i,{disabled:d||b},y?Object(c.l)("save"):Object(c.l)("coding_rules.activate")),s.createElement(p.h,{disabled:d,onClick:this.props.onClose},Object(c.l)("cancel")))))}}}}]);
//# sourceMappingURL=282.m.c1a07a9e.chunk.js.map