{"version":3,"sources":["webpack:///./src/main/js/apps/create/project/style.css?0a3a","webpack:///./src/main/js/apps/create/project/ManualProjectCreate.css?ab01","webpack:///./src/main/js/apps/create/project/ManualProjectCreate.css","webpack:///./src/main/js/apps/create/project/style.css","webpack:///./src/main/js/apps/create/project/AlmRepositoryItem.tsx","webpack:///./src/main/js/apps/create/project/SetupProjectBox.tsx","webpack:///./src/main/js/apps/create/project/RemoteRepositories.tsx","webpack:///./src/main/js/apps/create/project/OrganizationInput.tsx","webpack:///./src/main/js/apps/create/project/AutoProjectCreate.tsx","webpack:///./src/main/js/apps/create/components/ProjectKeyInput.tsx","webpack:///./src/main/js/apps/create/project/ManualProjectCreate.tsx","webpack:///./src/main/js/apps/create/project/CreateProjectPageSonarCloud.tsx","webpack:///./src/main/js/apps/create/project/CreateProjectPageSonarQube.tsx","webpack:///./src/main/js/apps/create/project/CreateProjectPage.tsx","webpack:///./src/main/js/components/controls/Modal.tsx","webpack:///./src/main/js/components/controls/Checkbox.tsx","webpack:///./src/main/js/helpers/organizations.ts","webpack:///./node_modules/lodash/partition.js","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationModal.tsx","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationBox.tsx","webpack:///./src/main/js/components/common/VisibilitySelector.tsx","webpack:///./src/main/js/components/icons-components/LockIcon.tsx"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","AlmRepositoryItem_AlmRepositoryItem","index_js_exposed","[object Object]","this","handleMouseEnter","props","highlightUpgradeBox","handleMouseLeave","handleToggle","disabled","repository","linkedProjectKey","toggleRepository","_this$props","identityProvider","selected","alreadyImported","Boolean","Tooltip","overlay","Object","l10n","className","classnames","imported","onClick","onMouseEnter","onMouseLeave","role","LockIcon","fill","theme","Checkbox","checked","onCheck","identity_default","a","alt","name","icon-half-transparent","height","src","concat","urls","key","width","label","private","CheckIcon","index_es","defaultMessage","id","values","link","react_router_es","to","SetupProjectBox_SetupProjectBox","mounted","state","submitting","canSubmit","selectedRepositories","length","handleFormSubmit","event","preventDefault","setState","alm_integration","installationKeys","map","repo","installationKey","organization","then","_ref","projects","onProjectCreate","project","projectKey","handleProvisionFail","onProvisionFail","hasSelectedRepositories","_partition3","_slicedToArray","partition_default","_partition3$","privateRepos","_partition3$2","publicRepos","open","onSubmit","buttons","DeferredSpinner","loading","RemoteRepositories_RemoteRepositories","checkAllRepositories","highlight","repositories","search","successfullyUpgraded","fetchRepositories","filterBySearch","toLowerCase","includes","handleHighlightUpgradeBox","handleOrganizationUpgrade","onOrganizationUpgrade","_ref2","updateSelectedRepositories","keys","forEach","newRepository","find","r","handleSearch","onCheckAllRepositories","_ref3","isPaidOrg","helpers_organizations","nextState","validRepositories","filter","filterByPlan","filterByImportable","keyBy_default","_ref4","assign","prevProps","_this$state","almApplication","hasPrivateRepositories","some","showSearchBox","showCheckAll","showUpgradebox","actions","admin","filteredRepositories","SearchBox","minLength","onChange","placeholder","value","Alert","variant","create-project-side-with-search","types","UpgradeOrganizationBox","project_OrganizationInput","handleLinkClick","stopPropagation","storage","utils","Date","now","toString","router","pathname","tab","autoImport","organizations","htmlFor","OrganizationSelect","hideIcons","href","AutoProjectCreate_AutoProjectCreate","super","handleInstallAppClick","handleOrganizationSelect","selectedOrganization","getInitialSelectedOrganization","boundOrganizations","IdentityProviderLink","small","url","installationUrl","o","ProjectKeyInput_ProjectKeyInput","checkFreeKey","validating","components","component","alreadyExist","error","touched","catch","handleChange","currentTarget","validateKey","debounce_default","test","isInvalid","isValid","ValidationInput","description","help","required","autoFocus","is-invalid","is-valid","maxLength","type","ManualProjectCreate_ManualProjectCreate","canChoosePrivate","subscription","getOrganization","userOrganizations","organizationKey","projectName","trim","visibility","selectedVisibility","fetchMyOrganizations","prevState","handleProjectNameChange","projectNameChanged","handleProjectKeyChange","handleVisibilityChange","system","HelpTooltip","VisibilitySelector","canTurnToPrivate","showDetails","mapDispatchToProps","skipOnboarding","users","project_CreateProjectPageSonarCloud","whenLoggedIn","withUserOrganizations","es","_this","handleProjectCreate","projectKeys","fetchAlmApplication","application","onTabChange","updateUrl","arguments","replace","location","query","almIntegrations","currentUser","pages","header","showManualTab","Helmet_default","title","titleTemplate","Tabs","tabs","node","_ref2$actions","provision","alm","_ref3$actions","project_CreateProjectPageSonarQube","CreateProjectPage","A11ySkipTarget","anchor","d","__webpack_exports__","Modal","react__WEBPACK_IMPORTED_MODULE_0__","react_modal__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_2__","modal-small","size","modal-medium","modal-large","isOpen","overlayClassName","modal-no-backdrop","noBackdrop","classnames__WEBPACK_IMPORTED_MODULE_1__","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","handleClick","blur","children","right","thirdState","icon-checkbox-checked","icon-checkbox-single","icon-checkbox-disabled","aria-checked","note","defaultProps","isPaidOrganization","hasPrivateAccess","isCurrentUserMemberOf","_users__WEBPACK_IMPORTED_MODULE_0__","org","partition","createAggregator","result","BillingForm","withCurrentUser","BillingFormShim","UpgradeOrganizationModal_UpgradeOrganizationModal","ready","extensions","contentLabel","insideModal","onRequestClose","onClose","shouldCloseOnOverlayClick","onCommit","onUpgradeDone","subscriptionPlans","processingUpgrade","renderFormFields","renderNextCharge","renderRecap","renderSubmitButton","UpgradeOrganizationAdvantages","UpgradeOrganizationBox_UpgradeOrganizationBox","upgradeOrganizationModal","fetchSubscriptionPlans","billing","handleUpgradeClick","handleUpgradeOrganizationModalClose","startingPrice","price","RadioCard","titleInfo","target","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","handlePublicClick","handlePrivateClick","is-checked","_Icon__WEBPACK_IMPORTED_MODULE_1__","_ref$fill","style"],"mappings":"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","file":"js/313.m.f0fc7e94.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./ManualProjectCreate.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./ManualProjectCreate.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./ManualProjectCreate.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".manual-project-create{max-width:650px}.manual-project-create .visibility-select-option{margin-left:0!important;margin-bottom:8px;display:flex;align-items:center;font-size:14px}.manual-project-create .visibility-details{display:block;margin:8px 0}.manual-project-create .visibility-select-wrapper{padding:8px 0 16px}.manual-project-create .button{margin-top:8px}\", \"\"]);\n\n","exports = module.exports = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".create-project{display:flex!important;justify-content:space-between}.create-project-repository{display:flex;align-items:center;min-width:500px;height:40px;border:1px solid #e6e6e6;padding:8px 16px;margin-bottom:8px;box-sizing:border-box;cursor:pointer;transition:all .3s ease}.create-project-repository.disabled{background-color:#ebebeb;border-color:#ddd;cursor:default}.create-project-repository.imported{cursor:default}.create-project-repository.selected{background-color:#cae3f2;border-color:#236a97}.create-project-repository:not(.imported):not(.disabled):active,.create-project-repository:not(.imported):not(.disabled):focus,.create-project-repository:not(.imported):not(.disabled):hover{border-color:#4b9fd5;box-shadow:none}.create-project-side-with-search{margin-top:32px}.create-project-side-sticky{position:-webkit-sticky;position:sticky;top:68px}.create-project-setup{display:flex;overflow:hidden;opacity:0;flex-direction:column;height:0;width:450px;margin-bottom:0;color:#fff;background-color:#0b3c62;border:none;border-radius:3px;transition:height .5s ease,opacity .4s ease-out,margin-bottom .5s ease-in}.create-project-setup.open{opacity:1;height:160px;margin-bottom:20px}.create-project-setup h2{color:#fff;font-weight:700;font-size:16px}.create-project-setup .boxed-group-inner{display:flex;flex-direction:column;flex-grow:1}.create-project-setup .button{border-color:#4c9bd6;background-color:#4c9bd6;color:#fff;transition:border-color .2s ease,box-shadow .2s ease,background-color .2s ease}.create-project-setup .button:focus,.create-project-setup .button:hover{border-color:#327bb3;background-color:#327bb3}.create-project-actions{min-width:500px;display:flex;justify-content:space-between;align-items:center;padding:8px 0 8px 16px;border-left:1px solid transparent}.create-project-actions .icon-checkbox{margin-right:8px}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { identity } from 'lodash';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport * as theme from '../../../app/theme';\nimport Checkbox from '../../../components/controls/Checkbox';\nimport CheckIcon from '../../../components/icons-components/CheckIcon';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { getBaseUrl, getProjectUrl } from '../../../helpers/urls';\nimport { translate } from '../../../helpers/l10n';\nimport LockIcon from '../../../components/icons-components/LockIcon';\n\ninterface Props {\n  disabled: boolean;\n  highlightUpgradeBox: (highlight: boolean) => void;\n  identityProvider: T.IdentityProvider;\n  repository: T.AlmRepository;\n  selected: boolean;\n  toggleRepository: (repository: T.AlmRepository) => void;\n}\n\nexport default class AlmRepositoryItem extends React.PureComponent<Props> {\n  handleMouseEnter = () => {\n    this.props.highlightUpgradeBox(true);\n  };\n\n  handleMouseLeave = () => {\n    this.props.highlightUpgradeBox(false);\n  };\n\n  handleToggle = () => {\n    if (!this.props.disabled && !this.props.repository.linkedProjectKey) {\n      this.props.toggleRepository(this.props.repository);\n    }\n  };\n\n  render() {\n    const { disabled, identityProvider, repository, selected } = this.props;\n    const alreadyImported = Boolean(repository.linkedProjectKey);\n    return (\n      <Tooltip\n        overlay={\n          disabled\n            ? translate('onboarding.create_project.subscribe_to_import_private_repositories')\n            : undefined\n        }>\n        <li>\n          <div\n            className={classNames('create-project-repository', {\n              disabled,\n              imported: alreadyImported,\n              selected\n            })}\n            onClick={this.handleToggle}\n            onMouseEnter={disabled ? this.handleMouseEnter : undefined}\n            onMouseLeave={disabled ? this.handleMouseLeave : undefined}\n            role=\"listitem\">\n            <div className=\"flex-1 display-flex-center\">\n              {disabled ? (\n                <LockIcon fill={theme.disableGrayText} />\n              ) : (\n                <Checkbox\n                  checked={selected || alreadyImported}\n                  disabled={disabled || alreadyImported}\n                  onCheck={identity}\n                />\n              )}\n              <img\n                alt={identityProvider.name}\n                className={classNames('spacer-left', { 'icon-half-transparent': disabled })}\n                height={14}\n                src={`${getBaseUrl()}/images/sonarcloud/${identityProvider.key}.svg`}\n                width={14}\n              />\n              <span className=\"spacer-left\">{this.props.repository.label}</span>\n              {repository.private && (\n                <div className=\"outline-badge spacer-left\">{translate('visibility.private')}</div>\n              )}\n            </div>\n\n            {repository.linkedProjectKey && (\n              <span>\n                <CheckIcon className=\"little-spacer-right\" fill={theme.green} />\n                <FormattedMessage\n                  defaultMessage={translate('onboarding.create_project.repository_imported')}\n                  id=\"onboarding.create_project.repository_imported\"\n                  values={{\n                    link: (\n                      <Link to={getProjectUrl(repository.linkedProjectKey)}>\n                        {translate('onboarding.create_project.see_project')}\n                      </Link>\n                    )\n                  }}\n                />\n              </span>\n            )}\n          </div>\n        </li>\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { partition } from 'lodash';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport { SubmitButton } from '../../../components/ui/buttons';\nimport { provisionProject } from '../../../api/alm-integration';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  onProjectCreate: (projectKeys: string[], organization: string) => void;\n  onProvisionFail: () => Promise<void>;\n  organization: T.Organization;\n  selectedRepositories: T.AlmRepository[];\n}\n\ninterface State {\n  submitting: boolean;\n}\n\nexport default class SetupProjectBox extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  canSubmit = () => {\n    return !this.state.submitting && this.props.selectedRepositories.length > 0;\n  };\n\n  handleFormSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    if (this.canSubmit()) {\n      const { selectedRepositories } = this.props;\n      this.setState({ submitting: true });\n      provisionProject({\n        installationKeys: selectedRepositories.map(repo => repo.installationKey),\n        organization: this.props.organization.key\n      }).then(\n        ({ projects }) =>\n          this.props.onProjectCreate(\n            projects.map(project => project.projectKey),\n            this.props.organization.key\n          ),\n        this.handleProvisionFail\n      );\n    }\n  };\n\n  handleProvisionFail = () => {\n    return this.props.onProvisionFail().then(() => {\n      if (this.mounted) {\n        this.setState({ submitting: false });\n      }\n    });\n  };\n\n  render() {\n    const { selectedRepositories } = this.props;\n    const hasSelectedRepositories = selectedRepositories.length > 0;\n    const [privateRepos = [], publicRepos = []] = partition(\n      selectedRepositories,\n      repo => repo.private\n    );\n    return (\n      <form\n        className={classNames('create-project-setup boxed-group', {\n          open: hasSelectedRepositories\n        })}\n        onSubmit={this.handleFormSubmit}>\n        <div className=\"boxed-group-header\">\n          <h2 className=\"spacer-top\">\n            {selectedRepositories.length > 1\n              ? translateWithParameters(\n                  'onboarding.create_project.x_repositories_selected',\n                  selectedRepositories.length\n                )\n              : translate('onboarding.create_project.1_repository_selected')}\n          </h2>\n        </div>\n        <div className=\"boxed-group-inner\">\n          <div className=\"flex-1\">\n            {publicRepos.length === 1 && (\n              <p>{translate('onboarding.create_project.1_repository_created_as_public')}</p>\n            )}\n            {publicRepos.length > 1 && (\n              <p>\n                {translateWithParameters(\n                  'onboarding.create_project.x_repository_created_as_public',\n                  publicRepos.length\n                )}\n              </p>\n            )}\n            {privateRepos.length === 1 && (\n              <p>{translate('onboarding.create_project.1_repository_created_as_private')}</p>\n            )}\n            {privateRepos.length > 1 && (\n              <p>\n                {translateWithParameters(\n                  'onboarding.create_project.x_repository_created_as_private',\n                  privateRepos.length\n                )}\n              </p>\n            )}\n          </div>\n          <div>\n            <SubmitButton className=\"button-large\" disabled={this.state.submitting}>\n              {translate('set_up')}\n            </SubmitButton>\n            <DeferredSpinner className=\"spacer-left\" loading={this.state.submitting} />\n          </div>\n        </div>\n      </form>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { keyBy } from 'lodash';\nimport AlmRepositoryItem from './AlmRepositoryItem';\nimport SetupProjectBox from './SetupProjectBox';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport Checkbox from '../../../components/controls/Checkbox';\nimport SearchBox from '../../../components/controls/SearchBox';\nimport UpgradeOrganizationBox from '../components/UpgradeOrganizationBox';\nimport { Alert } from '../../../components/ui/Alert';\nimport { getRepositories } from '../../../api/alm-integration';\nimport { translateWithParameters, translate } from '../../../helpers/l10n';\nimport { isPaidOrganization } from '../../../helpers/organizations';\nimport { isDefined } from '../../../helpers/types';\n\ninterface Props {\n  almApplication: T.AlmApplication;\n  onOrganizationUpgrade: () => void;\n  onProjectCreate: (projectKeys: string[], organization: string) => void;\n  organization: T.Organization;\n}\n\ntype SelectedRepositories = T.Dict<T.AlmRepository | undefined>;\n\ninterface State {\n  checkAllRepositories: boolean;\n  highlight: boolean;\n  loading: boolean;\n  repositories: T.AlmRepository[];\n  search: string;\n  selectedRepositories: SelectedRepositories;\n  successfullyUpgraded: boolean;\n}\n\nexport default class RemoteRepositories extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    checkAllRepositories: false,\n    highlight: false,\n    loading: true,\n    repositories: [],\n    search: '',\n    selectedRepositories: {},\n    successfullyUpgraded: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchRepositories();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.organization.key !== this.props.organization.key) {\n      this.setState({ loading: true, selectedRepositories: {} });\n      this.fetchRepositories();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRepositories = () => {\n    const { organization } = this.props;\n    return getRepositories({ organization: organization.key }).then(\n      ({ repositories }) => {\n        if (this.mounted) {\n          this.setState({ loading: false, repositories });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  filterBySearch = (search: String) => (repo: T.AlmRepository) => {\n    return repo.label.toLowerCase().includes(search.toLowerCase());\n  };\n\n  handleHighlightUpgradeBox = (highlight: boolean) => {\n    this.setState({ highlight });\n  };\n\n  handleOrganizationUpgrade = () => {\n    this.props.onOrganizationUpgrade();\n    if (this.mounted) {\n      this.setState({ successfullyUpgraded: true });\n    }\n  };\n\n  handleProvisionFail = () => {\n    return this.fetchRepositories().then(() => {\n      if (this.mounted) {\n        this.setState(({ repositories, selectedRepositories }) => {\n          const updateSelectedRepositories: SelectedRepositories = {};\n          Object.keys(selectedRepositories).forEach(installationKey => {\n            const newRepository = repositories.find(r => r.installationKey === installationKey);\n            if (newRepository && !newRepository.linkedProjectKey) {\n              updateSelectedRepositories[newRepository.installationKey] = newRepository;\n            }\n          });\n          return { selectedRepositories: updateSelectedRepositories };\n        });\n      }\n    });\n  };\n\n  handleSearch = (search: string) => {\n    this.setState({ search, checkAllRepositories: false, selectedRepositories: {} });\n  };\n\n  onCheckAllRepositories = () => {\n    this.setState(({ checkAllRepositories, repositories, search }) => {\n      const { organization } = this.props;\n\n      const isPaidOrg = isPaidOrganization(organization);\n      const filterByPlan = (repo: T.AlmRepository) => (isPaidOrg ? true : !repo.private);\n      const filterByImportable = (repo: T.AlmRepository) => !repo.linkedProjectKey;\n\n      const nextState = {\n        selectedRepositories: {},\n        checkAllRepositories: !checkAllRepositories\n      };\n\n      if (nextState.checkAllRepositories) {\n        const validRepositories = repositories.filter(\n          repo =>\n            this.filterBySearch(search)(repo) && filterByPlan(repo) && filterByImportable(repo)\n        );\n        nextState.selectedRepositories = keyBy(validRepositories, 'installationKey');\n      }\n\n      return nextState;\n    });\n  };\n\n  toggleRepository = (repository: T.AlmRepository) => {\n    this.setState(({ selectedRepositories }) => ({\n      selectedRepositories: {\n        ...selectedRepositories,\n        [repository.installationKey]: selectedRepositories[repository.installationKey]\n          ? undefined\n          : repository\n      }\n    }));\n  };\n\n  render() {\n    const { highlight, loading, repositories, search, selectedRepositories } = this.state;\n    const { almApplication, organization } = this.props;\n    const isPaidOrg = isPaidOrganization(organization);\n    const hasPrivateRepositories = repositories.some(repository => Boolean(repository.private));\n    const showSearchBox = repositories.length > 5;\n    const showCheckAll = repositories.length > 1;\n    const showUpgradebox =\n      !isPaidOrg && hasPrivateRepositories && organization.actions && organization.actions.admin;\n    const filteredRepositories = repositories.filter(this.filterBySearch(search));\n\n    return (\n      <div className=\"create-project\">\n        <div className=\"flex-1 huge-spacer-right\">\n          <div className=\"spacer-bottom create-project-actions\">\n            <div>\n              {showCheckAll && (\n                <Checkbox\n                  checked={this.state.checkAllRepositories}\n                  disabled={filteredRepositories.length === 0}\n                  onCheck={this.onCheckAllRepositories}>\n                  {translate('onboarding.create_project.select_all_repositories')}\n                </Checkbox>\n              )}\n            </div>\n            {showSearchBox && (\n              <SearchBox\n                minLength={1}\n                onChange={this.handleSearch}\n                placeholder={translate('search.search_for_repositories')}\n                value={this.state.search}\n              />\n            )}\n          </div>\n\n          {this.state.successfullyUpgraded && (\n            <Alert variant=\"success\">\n              {translateWithParameters(\n                'onboarding.create_project.subscribtion_success_x',\n                organization.name\n              )}\n            </Alert>\n          )}\n          <DeferredSpinner loading={loading}>\n            <ul>\n              {filteredRepositories.length === 0 && (\n                <li className=\"big-spacer-top note\">\n                  {showUpgradebox\n                    ? translateWithParameters('no_results_for_x', search)\n                    : translate('onboarding.create_project.no_repositories')}\n                </li>\n              )}\n              {filteredRepositories.map(repo => (\n                <AlmRepositoryItem\n                  disabled={Boolean(repo.private && !isPaidOrg)}\n                  highlightUpgradeBox={this.handleHighlightUpgradeBox}\n                  identityProvider={almApplication}\n                  key={repo.installationKey}\n                  repository={repo}\n                  selected={Boolean(selectedRepositories[repo.installationKey])}\n                  toggleRepository={this.toggleRepository}\n                />\n              ))}\n            </ul>\n          </DeferredSpinner>\n        </div>\n        {organization && (\n          <div className={classNames({ 'create-project-side-with-search': showSearchBox })}>\n            <div className=\"create-project-side-sticky\">\n              <SetupProjectBox\n                onProjectCreate={this.props.onProjectCreate}\n                onProvisionFail={this.handleProvisionFail}\n                organization={organization}\n                selectedRepositories={Object.keys(selectedRepositories)\n                  .map(r => selectedRepositories[r])\n                  .filter(isDefined)}\n              />\n              {showUpgradebox && (\n                <UpgradeOrganizationBox\n                  className={classNames({ highlight })}\n                  onOrganizationUpgrade={this.handleOrganizationUpgrade}\n                  organization={organization}\n                />\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { WithRouterProps, withRouter } from 'react-router';\nimport OrganizationSelect from '../components/OrganizationSelect';\nimport { ORGANIZATION_IMPORT_REDIRECT_TO_PROJECT_TIMESTAMP } from '../organization/utils';\nimport { translate } from '../../../helpers/l10n';\nimport { save } from '../../../helpers/storage';\n\ninterface Props {\n  autoImport?: boolean;\n  onChange: (organization: T.Organization) => void;\n  organization: string;\n  organizations: T.Organization[];\n}\n\nexport class OrganizationInput extends React.PureComponent<Props & WithRouterProps> {\n  handleLinkClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    save(ORGANIZATION_IMPORT_REDIRECT_TO_PROJECT_TIMESTAMP, Date.now().toString(10));\n    this.props.router.push({\n      pathname: '/create-organization',\n      state: { tab: this.props.autoImport ? 'auto' : 'manual' }\n    });\n  };\n\n  render() {\n    const { autoImport, onChange, organization, organizations } = this.props;\n    return (\n      <div className=\"form-field spacer-bottom\">\n        <label htmlFor=\"select-organization\">\n          <span className=\"text-middle\">\n            <strong>{translate('onboarding.create_project.organization')}</strong>\n            <em className=\"mandatory\">*</em>\n          </span>\n        </label>\n        <OrganizationSelect\n          hideIcons={!autoImport}\n          onChange={onChange}\n          organization={organization}\n          organizations={organizations}\n        />\n        <a className=\"big-spacer-left js-new-org\" href=\"#\" onClick={this.handleLinkClick}>\n          {autoImport\n            ? translate('onboarding.create_project.import_new_org')\n            : translate('onboarding.create_project.create_new_org')}\n        </a>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(OrganizationInput);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RemoteRepositories from './RemoteRepositories';\nimport OrganizationInput from './OrganizationInput';\nimport IdentityProviderLink from '../../../components/ui/IdentityProviderLink';\nimport {\n  ORGANIZATION_IMPORT_BINDING_IN_PROGRESS_TIMESTAMP,\n  ORGANIZATION_IMPORT_REDIRECT_TO_PROJECT_TIMESTAMP\n} from '../organization/utils';\nimport { translate } from '../../../helpers/l10n';\nimport { save } from '../../../helpers/storage';\n\ninterface Props {\n  almApplication: T.AlmApplication;\n  boundOrganizations: T.Organization[];\n  onOrganizationUpgrade: () => void;\n  onProjectCreate: (projectKeys: string[], organization: string) => void;\n  organization?: string;\n}\n\ninterface State {\n  selectedOrganization: string;\n}\n\nexport default class AutoProjectCreate extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { selectedOrganization: this.getInitialSelectedOrganization(props) };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getInitialSelectedOrganization(props: Props) {\n    if (props.organization) {\n      return props.organization;\n    } else if (props.boundOrganizations.length === 1) {\n      return props.boundOrganizations[0].key;\n    } else {\n      return '';\n    }\n  }\n\n  handleInstallAppClick = () => {\n    save(ORGANIZATION_IMPORT_BINDING_IN_PROGRESS_TIMESTAMP, Date.now().toString(10));\n    save(ORGANIZATION_IMPORT_REDIRECT_TO_PROJECT_TIMESTAMP, Date.now().toString(10));\n  };\n\n  handleOrganizationSelect = ({ key }: T.Organization) => {\n    this.setState({ selectedOrganization: key });\n  };\n\n  render() {\n    const { almApplication, boundOrganizations, onProjectCreate } = this.props;\n\n    if (boundOrganizations.length === 0) {\n      return (\n        <>\n          <p className=\"spacer-bottom\">\n            {translate('onboarding.create_project.install_app_description', almApplication.key)}\n          </p>\n          <IdentityProviderLink\n            className=\"display-inline-block\"\n            identityProvider={almApplication}\n            onClick={this.handleInstallAppClick}\n            small={true}\n            url={almApplication.installationUrl}>\n            {translate(\n              'onboarding.import_organization.choose_organization_button',\n              almApplication.key\n            )}\n          </IdentityProviderLink>\n        </>\n      );\n    }\n\n    const { selectedOrganization } = this.state;\n    const organization = boundOrganizations.find(o => o.key === selectedOrganization);\n\n    return (\n      <>\n        <OrganizationInput\n          autoImport={true}\n          onChange={this.handleOrganizationSelect}\n          organization={selectedOrganization}\n          organizations={this.props.boundOrganizations}\n        />\n        {organization && (\n          <RemoteRepositories\n            almApplication={almApplication}\n            onOrganizationUpgrade={this.props.onOrganizationUpgrade}\n            onProjectCreate={onProjectCreate}\n            organization={organization}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { debounce } from 'lodash';\nimport ValidationInput from '../../../components/controls/ValidationInput';\nimport { doesComponentExists } from '../../../api/components';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  value: string;\n  onChange: (value: string | undefined) => void;\n}\n\ninterface State {\n  error?: string;\n  touched: boolean;\n  validating: boolean;\n}\n\nexport default class ProjectKeyInput extends React.PureComponent<Props, State> {\n  mounted = false;\n  constructor(props: Props) {\n    super(props);\n    this.state = { error: undefined, touched: false, validating: false };\n    this.checkFreeKey = debounce(this.checkFreeKey, 250);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    if (this.props.value) {\n      this.validateKey(this.props.value);\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  checkFreeKey = (key: string) => {\n    this.setState({ validating: true });\n    return doesComponentExists({ component: key })\n      .then(alreadyExist => {\n        if (this.mounted && key === this.props.value) {\n          if (!alreadyExist) {\n            this.setState({ error: undefined, validating: false });\n          } else {\n            this.setState({\n              error: translate('onboarding.create_project.project_key.taken'),\n              touched: true,\n              validating: false\n            });\n          }\n        }\n      })\n      .catch(() => {\n        if (this.mounted && key === this.props.value) {\n          this.setState({ error: undefined, validating: false });\n        }\n      });\n  };\n\n  handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.currentTarget;\n    this.setState({ touched: true });\n    this.validateKey(value);\n    this.props.onChange(value);\n  };\n\n  validateKey(key: string) {\n    if (key.length > 400 || !/^[\\w-.:]*[a-zA-Z]+[\\w-.:]*$/.test(key)) {\n      this.setState({\n        error: translate('onboarding.create_project.project_key.error'),\n        touched: true\n      });\n    } else {\n      this.checkFreeKey(key);\n    }\n  }\n\n  render() {\n    const isInvalid = this.state.touched && this.state.error !== undefined;\n    const isValid = this.state.touched && !this.state.validating && this.state.error === undefined;\n    return (\n      <ValidationInput\n        className={this.props.className}\n        description={translate('onboarding.create_project.project_key.description')}\n        error={this.state.error}\n        help={translate('onboarding.create_project.project_key.help')}\n        id=\"project-key\"\n        isInvalid={isInvalid}\n        isValid={isValid}\n        label={translate('onboarding.create_project.project_key')}\n        required={true}>\n        <input\n          autoFocus={true}\n          className={classNames('input-super-large', {\n            'is-invalid': isInvalid,\n            'is-valid': isValid\n          })}\n          id=\"project-key\"\n          maxLength={400}\n          minLength={1}\n          onChange={this.handleChange}\n          type=\"text\"\n          value={this.props.value}\n        />\n      </ValidationInput>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport OrganizationInput from './OrganizationInput';\nimport { createProject } from '../../../api/components';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport { SubmitButton } from '../../../components/ui/buttons';\nimport ProjectKeyInput from '../components/ProjectKeyInput';\nimport VisibilitySelector from '../../../components/common/VisibilitySelector';\nimport UpgradeOrganizationBox from '../components/UpgradeOrganizationBox';\nimport HelpTooltip from '../../../components/controls/HelpTooltip';\nimport { translate } from '../../../helpers/l10n';\nimport { isSonarCloud } from '../../../helpers/system';\nimport './ManualProjectCreate.css';\n\ninterface Props {\n  currentUser: T.LoggedInUser;\n  fetchMyOrganizations?: () => Promise<void>;\n  onProjectCreate: (projectKeys: string[]) => void;\n  organization?: string;\n  userOrganizations?: T.Organization[];\n}\n\ninterface State {\n  projectName: string;\n  projectNameChanged: boolean;\n  projectKey: string;\n  selectedOrganization?: T.Organization;\n  selectedVisibility?: T.Visibility;\n  submitting: boolean;\n}\n\ntype ValidState = State & Required<Pick<State, 'projectKey' | 'projectName'>>;\n\nexport default class ManualProjectCreate extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      projectKey: '',\n      projectName: '',\n      projectNameChanged: false,\n      selectedOrganization: this.getInitialSelectedOrganization(props),\n      submitting: false\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  canChoosePrivate = (selectedOrganization: T.Organization | undefined) => {\n    return Boolean(selectedOrganization && selectedOrganization.subscription === 'PAID');\n  };\n\n  canSubmit(state: State): state is ValidState {\n    return Boolean(\n      state.projectKey && state.projectName && (!isSonarCloud() || state.selectedOrganization)\n    );\n  }\n\n  getInitialSelectedOrganization = (props: Props) => {\n    if (props.organization) {\n      return this.getOrganization(props.organization);\n    } else if (props.userOrganizations && props.userOrganizations.length === 1) {\n      return props.userOrganizations[0];\n    } else {\n      return undefined;\n    }\n  };\n\n  getOrganization = (organizationKey: string) => {\n    return (\n      this.props.userOrganizations &&\n      this.props.userOrganizations.find(({ key }: T.Organization) => key === organizationKey)\n    );\n  };\n\n  handleFormSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const { state } = this;\n    if (this.canSubmit(state)) {\n      this.setState({ submitting: true });\n      createProject({\n        project: state.projectKey,\n        name: (state.projectName || state.projectKey).trim(),\n        organization: state.selectedOrganization && state.selectedOrganization.key,\n        visibility: this.state.selectedVisibility\n      }).then(\n        ({ project }) => this.props.onProjectCreate([project.key]),\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n          }\n        }\n      );\n    }\n  };\n\n  handleOrganizationSelect = ({ key }: T.Organization) => {\n    const selectedOrganization = this.getOrganization(key);\n    let { selectedVisibility } = this.state;\n\n    if (selectedVisibility === undefined) {\n      selectedVisibility = this.canChoosePrivate(selectedOrganization) ? 'private' : 'public';\n    }\n\n    this.setState({\n      selectedOrganization,\n      selectedVisibility\n    });\n  };\n\n  handleOrganizationUpgrade = () => {\n    this.props.fetchMyOrganizations!().then(\n      () => {\n        this.setState(prevState => {\n          if (prevState.selectedOrganization) {\n            const selectedOrganization = this.getOrganization(prevState.selectedOrganization.key);\n            return {\n              selectedOrganization\n            };\n          }\n          return null;\n        });\n      },\n      () => {}\n    );\n  };\n\n  handleProjectNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const projectName = event.currentTarget.value;\n    this.setState({ projectName, projectNameChanged: true });\n  };\n\n  handleProjectKeyChange = (projectKey: string) => {\n    this.setState(state => ({\n      projectKey,\n      projectName: state.projectNameChanged ? state.projectName : projectKey || ''\n    }));\n  };\n\n  handleVisibilityChange = (selectedVisibility: T.Visibility) => {\n    this.setState({ selectedVisibility });\n  };\n\n  render() {\n    const { selectedOrganization, submitting } = this.state;\n    const canChoosePrivate = this.canChoosePrivate(selectedOrganization);\n\n    return (\n      <div className=\"create-project\">\n        <div className=\"flex-1 huge-spacer-right\">\n          <form className=\"manual-project-create\" onSubmit={this.handleFormSubmit}>\n            {isSonarCloud() && this.props.userOrganizations && (\n              <OrganizationInput\n                onChange={this.handleOrganizationSelect}\n                organization={selectedOrganization ? selectedOrganization.key : ''}\n                organizations={this.props.userOrganizations}\n              />\n            )}\n            <ProjectKeyInput\n              className=\"form-field\"\n              onChange={this.handleProjectKeyChange}\n              value={this.state.projectKey}\n            />\n            <div className=\"form-field\">\n              <label htmlFor=\"project-name\">\n                <span className=\"text-middle\">\n                  <strong>{translate('onboarding.create_project.display_name')}</strong>\n                  <em className=\"mandatory\">*</em>\n                </span>\n                <HelpTooltip\n                  className=\"spacer-left\"\n                  overlay={translate('onboarding.create_project.display_name.help')}\n                />\n              </label>\n              <div className=\"little-spacer-top spacer-bottom\">\n                <input\n                  className={'input-super-large'}\n                  id=\"project-name\"\n                  maxLength={255}\n                  minLength={1}\n                  onChange={this.handleProjectNameChange}\n                  type=\"text\"\n                  value={this.state.projectName}\n                />\n              </div>\n              <div className=\"note abs-width-400\">\n                {translate('onboarding.create_project.display_name.description')}\n              </div>\n            </div>\n            {isSonarCloud() && selectedOrganization && (\n              <div\n                className={classNames('visibility-select-wrapper', {\n                  open: Boolean(this.state.selectedOrganization)\n                })}>\n                <VisibilitySelector\n                  canTurnToPrivate={canChoosePrivate}\n                  onChange={this.handleVisibilityChange}\n                  showDetails={true}\n                  visibility={canChoosePrivate ? this.state.selectedVisibility : 'public'}\n                />\n              </div>\n            )}\n            <SubmitButton disabled={!this.canSubmit(this.state) || submitting}>\n              {translate('set_up')}\n            </SubmitButton>\n            <DeferredSpinner className=\"spacer-left\" loading={submitting} />\n          </form>\n        </div>\n\n        {isSonarCloud() && selectedOrganization && (\n          <div className=\"create-project-side-sticky\">\n            <UpgradeOrganizationBox\n              className={classNames('animated', { open: !canChoosePrivate })}\n              onOrganizationUpgrade={this.handleOrganizationUpgrade}\n              organization={selectedOrganization}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { WithRouterProps } from 'react-router';\nimport Helmet from 'react-helmet';\nimport AutoProjectCreate from './AutoProjectCreate';\nimport ManualProjectCreate from './ManualProjectCreate';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport Tabs from '../../../components/controls/Tabs';\nimport { whenLoggedIn } from '../../../components/hoc/whenLoggedIn';\nimport { withUserOrganizations } from '../../../components/hoc/withUserOrganizations';\nimport { getAlmAppInfo } from '../../../api/alm-integration';\nimport { hasAdvancedALMIntegration } from '../../../helpers/almIntegrations';\nimport { translate } from '../../../helpers/l10n';\nimport { addWhitePageClass, removeWhitePageClass } from '../../../helpers/pages';\nimport { getProjectUrl, getOrganizationUrl } from '../../../helpers/urls';\nimport { skipOnboarding } from '../../../store/users';\nimport './style.css';\n\ninterface Props {\n  currentUser: T.LoggedInUser;\n  fetchMyOrganizations: () => Promise<void>;\n  skipOnboarding: () => void;\n  userOrganizations: T.Organization[];\n}\n\ninterface State {\n  almApplication?: T.AlmApplication;\n  loading: boolean;\n}\n\ntype TabKeys = 'auto' | 'manual';\n\ninterface LocationState {\n  organization?: string;\n  tab?: TabKeys;\n}\n\nexport class CreateProjectPageSonarCloud extends React.PureComponent<\n  Props & WithRouterProps,\n  State\n> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    if (hasAdvancedALMIntegration(this.props.currentUser)) {\n      this.fetchAlmApplication();\n    } else {\n      this.setState({ loading: false });\n    }\n    addWhitePageClass();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    removeWhitePageClass();\n  }\n\n  handleProjectCreate = (projectKeys: string[], organization?: string) => {\n    this.props.skipOnboarding();\n    if (projectKeys.length > 1) {\n      this.props.router.push({\n        pathname: (organization ? getOrganizationUrl(organization) : '') + '/projects'\n      });\n    } else if (projectKeys.length === 1) {\n      this.props.router.push(getProjectUrl(projectKeys[0]));\n    }\n  };\n\n  fetchAlmApplication = () => {\n    return getAlmAppInfo().then(\n      ({ application }) => {\n        if (this.mounted) {\n          this.setState({ almApplication: application, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  onTabChange = (tab: TabKeys) => {\n    this.updateUrl({ tab });\n  };\n\n  updateUrl = (state: Partial<LocationState> = {}) => {\n    this.props.router.replace({\n      pathname: this.props.location.pathname,\n      query: this.props.location.query,\n      state: { ...(this.props.location.state || {}), ...state }\n    });\n  };\n\n  render() {\n    const { currentUser, location, userOrganizations } = this.props;\n    const { almApplication, loading } = this.state;\n    const state: LocationState = location.state || {};\n    const header = translate('onboarding.create_project.header');\n    const showManualTab = state.tab === 'manual';\n\n    return (\n      <>\n        <Helmet title={header} titleTemplate=\"%s\" />\n        <div className=\"page page-limited huge-spacer-top huge-spacer-bottom\">\n          <header className=\"page-header huge-spacer-bottom\">\n            <h1 className=\"page-title huge\">\n              <strong>{header}</strong>\n            </h1>\n          </header>\n          {loading ? (\n            <DeferredSpinner />\n          ) : (\n            <>\n              {almApplication && (\n                <Tabs<TabKeys>\n                  onChange={this.onTabChange}\n                  selected={state.tab || 'auto'}\n                  tabs={[\n                    {\n                      key: 'auto',\n                      node: translate('onboarding.create_project.select_repositories')\n                    },\n                    { key: 'manual', node: translate('onboarding.create_project.setup_manually') }\n                  ]}\n                />\n              )}\n\n              {showManualTab || !almApplication ? (\n                <ManualProjectCreate\n                  currentUser={currentUser}\n                  fetchMyOrganizations={this.props.fetchMyOrganizations}\n                  onProjectCreate={this.handleProjectCreate}\n                  organization={state.organization}\n                  userOrganizations={userOrganizations.filter(\n                    ({ actions = {} }) => actions.provision\n                  )}\n                />\n              ) : (\n                <AutoProjectCreate\n                  almApplication={almApplication}\n                  boundOrganizations={userOrganizations.filter(\n                    ({ alm, actions = {} }) => alm && actions.provision\n                  )}\n                  onOrganizationUpgrade={this.props.fetchMyOrganizations}\n                  onProjectCreate={this.handleProjectCreate}\n                  organization={state.organization}\n                />\n              )}\n            </>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapDispatchToProps = { skipOnboarding };\n\nexport default whenLoggedIn(\n  withUserOrganizations(\n    connect(\n      null,\n      mapDispatchToProps\n    )(CreateProjectPageSonarCloud)\n  )\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { WithRouterProps } from 'react-router';\nimport Helmet from 'react-helmet';\nimport ManualProjectCreate from './ManualProjectCreate';\nimport { whenLoggedIn } from '../../../components/hoc/whenLoggedIn';\nimport { translate } from '../../../helpers/l10n';\nimport { addWhitePageClass, removeWhitePageClass } from '../../../helpers/pages';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport './style.css';\n\ninterface Props {\n  currentUser: T.LoggedInUser;\n}\n\nexport class CreateProjectPageSonarQube extends React.PureComponent<Props & WithRouterProps> {\n  componentDidMount() {\n    addWhitePageClass();\n  }\n\n  componentWillUnmount() {\n    removeWhitePageClass();\n  }\n\n  handleProjectCreate = (projectKeys: string[]) => {\n    if (projectKeys.length === 1) {\n      this.props.router.push(getProjectUrl(projectKeys[0]));\n    }\n  };\n\n  render() {\n    const { currentUser } = this.props;\n    const header = translate('my_account.create_new.TRK');\n    return (\n      <>\n        <Helmet title={header} titleTemplate=\"%s\" />\n        <div className=\"page page-limited huge-spacer-top huge-spacer-bottom\">\n          <header className=\"page-header bordered-bottom big-spacer-bottom\">\n            <h1 className=\"page-title huge big-spacer-bottom\">\n              <strong>{header}</strong>\n            </h1>\n          </header>\n          <ManualProjectCreate\n            currentUser={currentUser}\n            onProjectCreate={this.handleProjectCreate}\n          />\n        </div>\n      </>\n    );\n  }\n}\n\nexport default whenLoggedIn(CreateProjectPageSonarQube);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { WithRouterProps } from 'react-router';\nimport CreateProjectPageSonarCloud from './CreateProjectPageSonarCloud';\nimport CreateProjectPageSonarQube from './CreateProjectPageSonarQube';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport { isSonarCloud } from '../../../helpers/system';\n\nexport default function CreateProjectPage(props: WithRouterProps) {\n  return (\n    <>\n      <A11ySkipTarget anchor=\"create_project_main\" />\n      {isSonarCloud() ? (\n        <CreateProjectPageSonarCloud {...props} />\n      ) : (\n        <CreateProjectPageSonarQube {...props} />\n      )}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as ReactModal from 'react-modal';\nimport * as classNames from 'classnames';\n\nReactModal.setAppElement('#content');\n\nexport interface ModalProps {\n  children: React.ReactNode;\n  size?: 'small' | 'medium' | 'large';\n  noBackdrop?: boolean;\n}\n\ntype MandatoryProps = Pick<ReactModal.Props, 'contentLabel'>;\n\ntype Props = Partial<ReactModal.Props> & MandatoryProps & ModalProps;\n\nexport default function Modal(props: Props) {\n  return (\n    <ReactModal\n      className={classNames('modal', {\n        'modal-small': props.size === 'small',\n        'modal-medium': props.size === 'medium',\n        'modal-large': props.size === 'large'\n      })}\n      isOpen={true}\n      overlayClassName={classNames('modal-overlay', { 'modal-no-backdrop': props.noBackdrop })}\n      {...props}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DeferredSpinner from '../common/DeferredSpinner';\n\ninterface Props {\n  checked: boolean;\n  disabled?: boolean;\n  children?: React.ReactNode;\n  className?: string;\n  id?: string;\n  loading?: boolean;\n  onCheck: (checked: boolean, id?: string) => void;\n  right?: boolean;\n  thirdState?: boolean;\n  title?: string;\n}\n\nexport default class Checkbox extends React.PureComponent<Props> {\n  static defaultProps = {\n    thirdState: false\n  };\n\n  handleClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (!this.props.disabled) {\n      this.props.onCheck(!this.props.checked, this.props.id);\n    }\n  };\n\n  render() {\n    const { checked, children, disabled, id, loading, right, thirdState, title } = this.props;\n    const className = classNames('icon-checkbox', {\n      'icon-checkbox-checked': checked,\n      'icon-checkbox-single': thirdState,\n      'icon-checkbox-disabled': disabled\n    });\n\n    if (children) {\n      return (\n        <a\n          aria-checked={checked}\n          className={classNames('link-checkbox', this.props.className, {\n            note: disabled,\n            disabled\n          })}\n          href=\"#\"\n          id={id}\n          onClick={this.handleClick}\n          role=\"checkbox\"\n          title={title}>\n          {right && children}\n          <DeferredSpinner loading={Boolean(loading)}>\n            <i className={className} />\n          </DeferredSpinner>\n          {!right && children}\n        </a>\n      );\n    }\n\n    if (loading) {\n      return <DeferredSpinner />;\n    }\n\n    return (\n      <a\n        aria-checked={checked}\n        className={classNames(className, this.props.className)}\n        href=\"#\"\n        id={id}\n        onClick={this.handleClick}\n        role=\"checkbox\"\n        title={title}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function isPaidOrganization(organization: T.Organization | undefined): boolean {\n  return Boolean(organization && organization.subscription === 'PAID');\n}\n\nexport function hasPrivateAccess(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return (\n    !isPaidOrganization(organization) ||\n    isCurrentUserMemberOf(currentUser, organization, userOrganizations)\n  );\n}\n\nexport function isCurrentUserMemberOf(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return Boolean(\n    organization &&\n      isLoggedIn(currentUser) &&\n      ((organization.actions && organization.actions.admin) ||\n        userOrganizations.some(org => org.key === organization.key))\n  );\n}\n","var createAggregator = require('./_createAggregator');\n\n/**\n * Creates an array of elements split into two groups, the first of which\n * contains elements `predicate` returns truthy for, the second of which\n * contains elements `predicate` returns falsey for. The predicate is\n * invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of grouped elements.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': false },\n *   { 'user': 'fred',    'age': 40, 'active': true },\n *   { 'user': 'pebbles', 'age': 1,  'active': false }\n * ];\n *\n * _.partition(users, function(o) { return o.active; });\n * // => objects for [['fred'], ['barney', 'pebbles']]\n *\n * // The `_.matches` iteratee shorthand.\n * _.partition(users, { 'age': 1, 'active': false });\n * // => objects for [['pebbles'], ['barney', 'fred']]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.partition(users, ['active', false]);\n * // => objects for [['barney', 'pebbles'], ['fred']]\n *\n * // The `_.property` iteratee shorthand.\n * _.partition(users, 'active');\n * // => objects for [['fred'], ['barney', 'pebbles']]\n */\nvar partition = createAggregator(function(result, value, key) {\n  result[key ? 0 : 1].push(value);\n}, function() { return [[], []]; });\n\nmodule.exports = partition;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport BillingFormShim from './BillingFormShim';\nimport UpgradeOrganizationAdvantages from './UpgradeOrganizationAdvantages';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport Modal from '../../../components/controls/Modal';\nimport { ResetButtonLink } from '../../../components/ui/buttons';\nimport { withCurrentUser } from '../../../components/hoc/withCurrentUser';\nimport { getExtensionStart } from '../../../helpers/extensions';\nimport { translate } from '../../../helpers/l10n';\n\nconst BillingForm = withCurrentUser(BillingFormShim);\n\ninterface Props {\n  insideModal?: boolean;\n  onUpgradeDone: () => void;\n  onClose: () => void;\n  organization: T.Organization;\n  subscriptionPlans: T.SubscriptionPlan[];\n}\n\ninterface State {\n  ready: boolean;\n}\n\nexport default class UpgradeOrganizationModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { ready: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    getExtensionStart('billing/billing').then(\n      () => {\n        if (this.mounted) {\n          this.setState({ ready: true });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const header = translate('billing.upgrade_box.upgrade_to_paid_plan');\n\n    if (!this.state.ready) {\n      return null;\n    }\n\n    return (\n      <Modal\n        contentLabel={header}\n        noBackdrop={this.props.insideModal}\n        onRequestClose={this.props.onClose}\n        shouldCloseOnOverlayClick={false}\n        size={'medium'}>\n        <div className=\"modal-head\">\n          <h2>{header}</h2>\n        </div>\n        <BillingForm\n          onCommit={this.props.onUpgradeDone}\n          organizationKey={this.props.organization.key}\n          subscriptionPlans={this.props.subscriptionPlans}>\n          {({\n            onSubmit,\n            processingUpgrade,\n            renderFormFields,\n            renderNextCharge,\n            renderRecap,\n            renderSubmitButton\n          }) => (\n            <form id=\"organization-paid-plan-form\" onSubmit={onSubmit}>\n              <div className=\"modal-body modal-container\">\n                <div className=\"huge-spacer-bottom\">\n                  <p className=\"spacer-bottom\">\n                    <FormattedMessage\n                      defaultMessage={translate('billing.upgrade.org_x_advantages')}\n                      id=\"billing.coupon.description\"\n                      values={{\n                        org: <strong>{this.props.organization.name}</strong>\n                      }}\n                    />\n                  </p>\n                  <UpgradeOrganizationAdvantages />\n                </div>\n                {renderFormFields()}\n                <div className=\"big-spacer-top\">{renderRecap()}</div>\n              </div>\n              <footer className=\"modal-foot display-flex-center display-flex-space-between\">\n                {renderNextCharge() || <span />}\n                <div>\n                  <DeferredSpinner loading={processingUpgrade} />\n                  {renderSubmitButton()}\n                  <ResetButtonLink onClick={this.props.onClose}>\n                    {translate('cancel')}\n                  </ResetButtonLink>\n                </div>\n              </footer>\n            </form>\n          )}\n        </BillingForm>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport UpgradeOrganizationAdvantages from './UpgradeOrganizationAdvantages';\nimport UpgradeOrganizationModal from './UpgradeOrganizationModal';\nimport RadioCard from '../../../components/controls/RadioCard';\nimport { Button } from '../../../components/ui/buttons';\nimport { formatPrice } from '../organization/utils';\nimport { getSubscriptionPlans } from '../../../api/billing';\nimport { translate, hasMessage } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  insideModal?: boolean;\n  onOrganizationUpgrade: () => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  subscriptionPlans: T.SubscriptionPlan[];\n  upgradeOrganizationModal: boolean;\n}\n\nexport default class UpgradeOrganizationBox extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { subscriptionPlans: [], upgradeOrganizationModal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchSubscriptionPlans();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchSubscriptionPlans = () => {\n    return getSubscriptionPlans().then(subscriptionPlans => {\n      if (this.mounted) {\n        this.setState({ subscriptionPlans });\n      }\n    });\n  };\n\n  handleUpgradeClick = () => {\n    this.setState({ upgradeOrganizationModal: true });\n  };\n\n  handleUpgradeOrganizationModalClose = () => {\n    if (this.mounted) {\n      this.setState({ upgradeOrganizationModal: false });\n    }\n  };\n\n  handleOrganizationUpgrade = () => {\n    this.props.onOrganizationUpgrade();\n    this.handleUpgradeOrganizationModalClose();\n  };\n\n  render() {\n    if (!hasMessage('billing.upgrade_box.header')) {\n      return null;\n    }\n\n    const { subscriptionPlans, upgradeOrganizationModal } = this.state;\n    const startingPrice = subscriptionPlans[0] && subscriptionPlans[0].price;\n\n    return (\n      <>\n        <RadioCard\n          className={this.props.className}\n          title={translate('billing.upgrade_box.header')}\n          titleInfo={\n            startingPrice !== undefined && (\n              <FormattedMessage\n                defaultMessage={translate('billing.price_from_x')}\n                id=\"billing.price_from_x\"\n                values={{\n                  price: <span className=\"big\">{formatPrice(startingPrice)}</span>\n                }}\n              />\n            )\n          }>\n          <>\n            <UpgradeOrganizationAdvantages />\n            <div className=\"big-spacer-left\">\n              <Button className=\"js-upgrade-organization\" onClick={this.handleUpgradeClick}>\n                {translate('billing.paid_plan.upgrade')}\n              </Button>\n              <Link className=\"spacer-left\" target=\"_blank\" to=\"/about/pricing\">\n                {translate('billing.pricing.learn_more')}\n              </Link>\n            </div>\n          </>\n        </RadioCard>\n        {upgradeOrganizationModal && (\n          <UpgradeOrganizationModal\n            insideModal={this.props.insideModal}\n            onClose={this.handleUpgradeOrganizationModalClose}\n            onUpgradeDone={this.handleOrganizationUpgrade}\n            organization={this.props.organization}\n            subscriptionPlans={subscriptionPlans}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  canTurnToPrivate?: boolean;\n  className?: string;\n  onChange: (visibility: T.Visibility) => void;\n  showDetails?: boolean;\n  visibility?: T.Visibility;\n}\n\nexport default class VisibilitySelector extends React.PureComponent<Props> {\n  handlePublicClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onChange('public');\n  };\n\n  handlePrivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onChange('private');\n  };\n\n  render() {\n    return (\n      <div className={classNames('visibility-select', this.props.className)}>\n        <a\n          className=\"link-base-color link-no-underline visibility-select-option\"\n          href=\"#\"\n          id=\"visibility-public\"\n          onClick={this.handlePublicClick}>\n          <i\n            className={classNames('icon-radio', {\n              'is-checked': this.props.visibility === 'public'\n            })}\n          />\n          <span className=\"spacer-left\">{translate('visibility.public')}</span>\n        </a>\n        {this.props.showDetails && (\n          <span className=\"visibility-details note\">\n            {translate('visibility.public.description.long')}\n          </span>\n        )}\n\n        {this.props.canTurnToPrivate ? (\n          <>\n            <a\n              className=\"link-base-color link-no-underline huge-spacer-left visibility-select-option\"\n              href=\"#\"\n              id=\"visibility-private\"\n              onClick={this.handlePrivateClick}>\n              <i\n                className={classNames('icon-radio', {\n                  'is-checked': this.props.visibility === 'private'\n                })}\n              />\n              <span className=\"spacer-left\">{translate('visibility.private')}</span>\n            </a>\n            {this.props.showDetails && (\n              <span className=\"visibility-details note\">\n                {translate('visibility.private.description.long')}\n              </span>\n            )}\n          </>\n        ) : (\n          <>\n            <span\n              className=\"huge-spacer-left text-muted cursor-not-allowed visibility-select-option\"\n              id=\"visibility-private\">\n              <i\n                className={classNames('icon-radio', {\n                  'is-checked': this.props.visibility === 'private'\n                })}\n              />\n              <span className=\"spacer-left\">{translate('visibility.private')}</span>\n            </span>\n            {this.props.showDetails && (\n              <span className=\"visibility-details note\">\n                {translate('visibility.private.description.long')}\n              </span>\n            )}\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function LockIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M5.455 7.364h5.09v-1.91A2.55 2.55 0 0 0 8 2.91a2.55 2.55 0 0 0-2.545 2.546v1.909zm8.272.954v5.727a.955.955 0 0 1-.954.955H3.227a.955.955 0 0 1-.954-.955V8.318c0-.527.427-.954.954-.954h.318v-1.91C3.545 3.01 5.554 1 8 1s4.455 2.009 4.455 4.455v1.909h.318c.527 0 .954.427.954.954z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n"],"sourceRoot":""}