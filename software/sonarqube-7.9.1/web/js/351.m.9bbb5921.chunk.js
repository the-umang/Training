(window.webpackJsonp=window.webpackJsonp||[]).push([[351],{378:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(365),s=a(405),l=a(366);function i(e){return n.createElement(s,Object.assign({className:l("modal",{"modal-small":"small"===e.size,"modal-medium":"medium"===e.size,"modal-large":"large"===e.size}),isOpen:!0,overlayClassName:l("modal-overlay",{"modal-no-backdrop":e.noBackdrop})},e))}s.setAppElement("#content")},432:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(365),s=a(532),l=a(0);function i(e){let t=e.className,a=e.severity;return a?n.createElement("span",{className:t},n.createElement(s.a,{className:"little-spacer-right",severity:a}),Object(l.l)("severity",a)):null}},505:function(e,t,a){var n;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var s=!("undefined"==typeof window||!window.document||!window.document.createElement),l={canUseDOM:s,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:s&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:s&&!!window.screen};void 0===(n=function(){return l}.call(t,a,t,e))||(e.exports=n)}()},971:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return h});var n=a(365),s=a(378),l=a(386),i=a(432),r=a(410),o=a(489),c=a(0),m=a(476),d=a(367),u=a(385);class h extends n.PureComponent{constructor(e){var t;super(e),t=this,this.mounted=!1,this.getParams=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props,a=e.activation,n=e.rule;const s={};if(n&&n.params){for(const e of n.params)s[e.key]=e.defaultValue||"";if(a&&a.params)for(const e of a.params)s[e.key]=e.value}return s},this.getQualityProfilesWithDepth=function(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props).profiles;return Object(m.g)(e.filter(e=>!e.isBuiltIn&&e.actions&&e.actions.edit&&e.language===t.props.rule.lang)).map(e=>Object.assign({},e,{depth:e.depth-1}))},this.handleFormSubmit=e=>{e.preventDefault(),this.setState({submitting:!0});const t={key:this.state.profile,organization:this.props.organization,params:this.state.params,rule:this.props.rule.key,severity:this.state.severity};Object(r.a)(t).then(()=>this.props.onDone(t.severity)).then(()=>{this.mounted&&(this.setState({submitting:!1}),this.props.onClose())},()=>{this.mounted&&this.setState({submitting:!1})})},this.handleParameterChange=e=>{const t=e.currentTarget,a=t.name,n=t.value;this.setState(e=>({params:Object.assign({},e.params,{[a]:n})}))},this.handleProfileChange=e=>{let t=e.value;this.setState({profile:t})},this.handleSeverityChange=e=>{let t=e.value;this.setState({severity:t})},this.renderSeverityOption=e=>{let t=e.value;return n.createElement(i.a,{severity:t})};const a=this.getQualityProfilesWithDepth(e);this.state={params:this.getParams(e),profile:a.length>0?a[0].key:"",severity:e.activation?e.activation.severity:e.rule.severity,submitting:!1}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props,t=e.activation,a=e.rule,i=this.state,r=i.profile,m=i.severity,h=i.submitting,p=a.params,v=void 0===p?[]:p,f=this.getQualityProfilesWithDepth(),y=!!a.templateKey,g=f.length<=0,b=!!t;return n.createElement(s.a,{contentLabel:this.props.modalHeader,onRequestClose:this.props.onClose,size:"small"},n.createElement("form",{onSubmit:this.handleFormSubmit},n.createElement("div",{className:"modal-head"},n.createElement("h2",null,this.props.modalHeader)),n.createElement("div",{className:"modal-body modal-container"},!b&&g&&n.createElement(u.a,{variant:"info"},Object(c.l)("coding_rules.active_in_all_profiles")),n.createElement("div",{className:"modal-field"},n.createElement("label",null,Object(c.l)("coding_rules.quality_profile")),n.createElement(l.c,{className:"js-profile",clearable:!1,disabled:h||1===f.length,onChange:this.handleProfileChange,options:f.map(e=>({label:"   ".repeat(e.depth)+e.name,value:e.key})),value:r})),n.createElement("div",{className:"modal-field"},n.createElement("label",null,Object(c.l)("severity")),n.createElement(l.c,{className:"js-severity",clearable:!1,disabled:h,onChange:this.handleSeverityChange,optionRenderer:this.renderSeverityOption,options:o.e.map(e=>({label:Object(c.l)("severity",e),value:e})),searchable:!1,value:m,valueRenderer:this.renderSeverityOption})),y?n.createElement("div",{className:"modal-field"},n.createElement("p",{className:"note"},Object(c.l)("coding_rules.custom_rule.activation_notice"))):v.map(e=>n.createElement("div",{className:"modal-field",key:e.key},n.createElement("label",{title:e.key},e.key),"TEXT"===e.type?n.createElement("textarea",{disabled:h,name:e.key,onChange:this.handleParameterChange,placeholder:e.defaultValue,rows:3,value:this.state.params[e.key]||""}):n.createElement("input",{disabled:h,name:e.key,onChange:this.handleParameterChange,placeholder:e.defaultValue,type:"text",value:this.state.params[e.key]||""}),n.createElement("div",{className:"note",dangerouslySetInnerHTML:{__html:e.htmlDesc||""}})))),n.createElement("footer",{className:"modal-foot"},h&&n.createElement("i",{className:"spinner spacer-right"}),n.createElement(d.i,{disabled:h||g},b?Object(c.l)("save"):Object(c.l)("coding_rules.activate")),n.createElement(d.h,{disabled:h,onClick:this.props.onClose},Object(c.l)("cancel")))))}}}}]);
//# sourceMappingURL=351.m.9bbb5921.chunk.js.map