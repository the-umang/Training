{"version":3,"sources":["webpack:///./src/main/js/components/common/VisibilitySelector.tsx","webpack:///./src/main/js/apps/permissions/project/components/ApplyTemplate.tsx","webpack:///./src/main/js/apps/permissions/project/components/AllHoldersList.tsx","webpack:///./src/main/js/apps/permissions/project/components/PageHeader.tsx","webpack:///./src/main/js/apps/permissions/project/components/PublicProjectDisclaimer.tsx","webpack:///./src/main/js/apps/permissions/project/components/App.tsx","webpack:///./src/main/js/apps/permissions/project/components/AppContainer.ts","webpack:///./src/main/js/components/controls/Modal.tsx","webpack:///./src/main/js/components/controls/Select.tsx","webpack:///./src/main/js/components/controls/SimpleModal.tsx","webpack:///./src/main/js/components/controls/ConfirmModal.tsx","webpack:///./src/main/js/components/controls/react-select.css?4060","webpack:///./src/main/js/components/controls/react-select.css","webpack:///./src/main/js/components/controls/ListFooter.tsx","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationModal.tsx","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationBox.tsx"],"names":["VisibilitySelector","_super","_this","apply","this","arguments","handlePublicClick","event","preventDefault","currentTarget","blur","props","onChange","handlePrivateClick","__extends","prototype","render","react__WEBPACK_IMPORTED_MODULE_0__","className","classnames__WEBPACK_IMPORTED_MODULE_1__","href","id","onClick","is-checked","visibility","Object","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","showDetails","canTurnToPrivate","ApplyTemplate","mounted","state","done","loading","fetchPermissionTemplates","_api_permissions__WEBPACK_IMPORTED_MODULE_1__","organization","then","_a","permissionTemplates","setState","handleSubmit","permissionTemplate","projectKey","project","key","templateId","onApply","Promise","reject","undefined","handlePermissionTemplateChange","value","componentDidMount","componentWillUnmount","header","_helpers_l10n__WEBPACK_IMPORTED_MODULE_6__","name","_components_controls_SimpleModal__WEBPACK_IMPORTED_MODULE_3__","onClose","onSubmit","size","onCloseClick","onFormSubmit","submitting","_components_ui_Alert__WEBPACK_IMPORTED_MODULE_7__","variant","htmlFor","_components_controls_Select__WEBPACK_IMPORTED_MODULE_4__","clearable","options","map","label","_components_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","_components_ui_buttons__WEBPACK_IMPORTED_MODULE_5__","disabled","AllHoldersList","handleToggleUser","user","permission","permissions","includes","revokePermissionFromUser","login","grantPermissionToUser","handleToggleGroup","group","revokePermissionFromGroup","grantPermissionToGroup","handleSelectPermission","onPermissionSelect","filter","groups","groupsPaging","users","usersPaging","order","utils","component","qualifier","without_default","count","total","length","index_js_exposed","HoldersList","onSelectPermission","onToggleGroup","onToggleUser","query","selectedPermission","SearchForm","onFilter","onFilterChange","onSearch","onQueryChange","ListFooter","loadMore","onLoadMore","PageHeader","applyTemplateModal","handleApplyTemplate","handleApplyTemplateClose","PageHeader_extends","configuration","canApplyPermissionTemplate","description","l10n","visibilityDescription","buttons","loadHolders","PublicProjectDisclaimer","onConfirm","ConfirmModal","confirmButtonText","Alert","App","call","stopLoading","loadUsersAndGroups","userPage","groupsPage","getUsers","api_permissions","q","p","resolve","paging","getGroups","all","usersResponse","groupsResponse","pageIndex","concat","handleFilterChange","handleQueryChange","handlePermissionSelect","addPermissionToGroup","candidate","__assign","addPermissionToUser","removePermissionFromGroup","removePermissionFromUser","groupName","handleOrganizationUpgrade","onComponentChange","canUpdateProjectVisibilityToPrivate","fetchOrganization","handleVisibilityChange","openDisclaimer","turnProjectToPrivate","turnProjectToPublic","disclaimer","closeDisclaimer","App_extends","showUpgradeBox","actions","admin","canUpdateProjectsVisibilityToPrivate","Helmet_default","a","title","components_PageHeader","UpgradeOrganizationBox","onOrganizationUpgrade","components_AllHoldersList","mapDispatchToProps","__webpack_exports__","es","currentUser","rootReducer","components_App","Modal","react_modal__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_2__","modal-small","modal-medium","modal-large","isOpen","overlayClassName","modal-no-backdrop","noBackdrop","ReactSelectLib","__webpack_require__","e","bind","ReactSelect","_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","ReactCreatable","lib","default","Creatable","ReactAsync","Async","renderInput","_ui_buttons__WEBPACK_IMPORTED_MODULE_1__","iconProps","Select","innerRef","__rest","ReactSelectAny","Boolean","clearRenderer","ref","ReactCreatableAny","AsyncSelect","SimpleModal","stopSubmitting","handleCloseClick","handleFormSubmit","submit","handleSubmitClick","result","children","modalProps","_Modal__WEBPACK_IMPORTED_MODULE_1__","contentLabel","onRequestClose","onSubmitClick","confirmData","renderModalContent","_b","confirmDisable","headerDescription","isDestructive","_c","cancelButtonText","_helpers_l10n__WEBPACK_IMPORTED_MODULE_4__","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","_ui_buttons__WEBPACK_IMPORTED_MODULE_3__","autoFocus","_SimpleModal__WEBPACK_IMPORTED_MODULE_1__","content","module","i","hmr","transform","insertInto","locals","exports","push","link","ready","hasMore","loadMoreLink","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","reloadLink","reload","new-loading","needReload","_helpers_measures__WEBPACK_IMPORTED_MODULE_4__","BillingForm","withCurrentUser","BillingFormShim","UpgradeOrganizationModal","extensions","insideModal","shouldCloseOnOverlayClick","onCommit","onUpgradeDone","organizationKey","subscriptionPlans","processingUpgrade","renderFormFields","renderNextCharge","renderRecap","renderSubmitButton","index_es","defaultMessage","values","org","UpgradeOrganizationAdvantages","DeferredSpinner","UpgradeOrganizationBox_UpgradeOrganizationBox","upgradeOrganizationModal","fetchSubscriptionPlans","billing","handleUpgradeClick","handleUpgradeOrganizationModalClose","UpgradeOrganizationBox_extends","startingPrice","price","RadioCard","titleInfo","target","to","components_UpgradeOrganizationModal"],"mappings":"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","file":"js/318.1562761687107.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  canTurnToPrivate?: boolean;\n  className?: string;\n  onChange: (visibility: T.Visibility) => void;\n  showDetails?: boolean;\n  visibility?: T.Visibility;\n}\n\nexport default class VisibilitySelector extends React.PureComponent<Props> {\n  handlePublicClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onChange('public');\n  };\n\n  handlePrivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onChange('private');\n  };\n\n  render() {\n    return (\n      <div className={classNames('visibility-select', this.props.className)}>\n        <a\n          className=\"link-base-color link-no-underline visibility-select-option\"\n          href=\"#\"\n          id=\"visibility-public\"\n          onClick={this.handlePublicClick}>\n          <i\n            className={classNames('icon-radio', {\n              'is-checked': this.props.visibility === 'public'\n            })}\n          />\n          <span className=\"spacer-left\">{translate('visibility.public')}</span>\n        </a>\n        {this.props.showDetails && (\n          <span className=\"visibility-details note\">\n            {translate('visibility.public.description.long')}\n          </span>\n        )}\n\n        {this.props.canTurnToPrivate ? (\n          <>\n            <a\n              className=\"link-base-color link-no-underline huge-spacer-left visibility-select-option\"\n              href=\"#\"\n              id=\"visibility-private\"\n              onClick={this.handlePrivateClick}>\n              <i\n                className={classNames('icon-radio', {\n                  'is-checked': this.props.visibility === 'private'\n                })}\n              />\n              <span className=\"spacer-left\">{translate('visibility.private')}</span>\n            </a>\n            {this.props.showDetails && (\n              <span className=\"visibility-details note\">\n                {translate('visibility.private.description.long')}\n              </span>\n            )}\n          </>\n        ) : (\n          <>\n            <span\n              className=\"huge-spacer-left text-muted cursor-not-allowed visibility-select-option\"\n              id=\"visibility-private\">\n              <i\n                className={classNames('icon-radio', {\n                  'is-checked': this.props.visibility === 'private'\n                })}\n              />\n              <span className=\"spacer-left\">{translate('visibility.private')}</span>\n            </span>\n            {this.props.showDetails && (\n              <span className=\"visibility-details note\">\n                {translate('visibility.private.description.long')}\n              </span>\n            )}\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getPermissionTemplates, applyTemplateToProject } from '../../../../api/permissions';\nimport DeferredSpinner from '../../../../components/common/DeferredSpinner';\nimport SimpleModal from '../../../../components/controls/SimpleModal';\nimport Select from '../../../../components/controls/Select';\nimport { SubmitButton, ResetButtonLink } from '../../../../components/ui/buttons';\nimport { translateWithParameters, translate } from '../../../../helpers/l10n';\nimport { Alert } from '../../../../components/ui/Alert';\n\ninterface Props {\n  onApply?: () => void;\n  onClose: () => void;\n  organization: string | undefined;\n  project: { key: string; name: string };\n}\n\ninterface State {\n  done: boolean;\n  loading: boolean;\n  permissionTemplate?: string;\n  permissionTemplates?: T.PermissionTemplate[];\n}\n\nexport default class ApplyTemplate extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { done: false, loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchPermissionTemplates();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchPermissionTemplates = () => {\n    getPermissionTemplates(this.props.organization).then(\n      ({ permissionTemplates }) => {\n        if (this.mounted) {\n          this.setState({ loading: false, permissionTemplates });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleSubmit = () => {\n    if (this.state.permissionTemplate) {\n      return applyTemplateToProject({\n        organization: this.props.organization,\n        projectKey: this.props.project.key,\n        templateId: this.state.permissionTemplate\n      }).then(() => {\n        if (this.mounted) {\n          if (this.props.onApply) {\n            this.props.onApply();\n          }\n          this.setState({ done: true });\n        }\n      });\n    } else {\n      return Promise.reject(undefined);\n    }\n  };\n\n  handlePermissionTemplateChange = ({ value }: { value: string }) => {\n    this.setState({ permissionTemplate: value });\n  };\n\n  render() {\n    const header = translateWithParameters(\n      'projects_role.apply_template_to_xxx',\n      this.props.project.name\n    );\n\n    return (\n      <SimpleModal\n        header={header}\n        onClose={this.props.onClose}\n        onSubmit={this.handleSubmit}\n        size=\"small\">\n        {({ onCloseClick, onFormSubmit, submitting }) => (\n          <form id=\"project-permissions-apply-template-form\" onSubmit={onFormSubmit}>\n            <header className=\"modal-head\">\n              <h2>{header}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              {this.state.done ? (\n                <Alert variant=\"success\">{translate('projects_role.apply_template.success')}</Alert>\n              ) : (\n                <>\n                  {this.state.loading ? (\n                    <i className=\"spinner\" />\n                  ) : (\n                    <div className=\"modal-field\">\n                      <label htmlFor=\"project-permissions-template\">\n                        {translate('template')}\n                        <em className=\"mandatory\">*</em>\n                      </label>\n                      {this.state.permissionTemplates && (\n                        <Select\n                          clearable={false}\n                          id=\"project-permissions-template\"\n                          onChange={this.handlePermissionTemplateChange}\n                          options={this.state.permissionTemplates.map(permissionTemplate => ({\n                            label: permissionTemplate.name,\n                            value: permissionTemplate.id\n                          }))}\n                          value={this.state.permissionTemplate}\n                        />\n                      )}\n                    </div>\n                  )}\n                </>\n              )}\n            </div>\n\n            <footer className=\"modal-foot\">\n              <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n              {!this.state.done && (\n                <SubmitButton disabled={submitting || !this.state.permissionTemplate}>\n                  {translate('apply')}\n                </SubmitButton>\n              )}\n              <ResetButtonLink onClick={onCloseClick}>\n                {translate(this.state.done ? 'close' : 'cancel')}\n              </ResetButtonLink>\n            </footer>\n          </form>\n        )}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { without } from 'lodash';\nimport SearchForm from '../../shared/components/SearchForm';\nimport HoldersList from '../../shared/components/HoldersList';\nimport ListFooter from '../../../../components/controls/ListFooter';\nimport { PERMISSIONS_ORDER_BY_QUALIFIER, convertToPermissionDefinitions } from '../../utils';\n\ninterface Props {\n  component: T.Component;\n  filter: string;\n  grantPermissionToGroup: (group: string, permission: string) => Promise<void>;\n  grantPermissionToUser: (user: string, permission: string) => Promise<void>;\n  groups: T.PermissionGroup[];\n  groupsPaging?: T.Paging;\n  onLoadMore: () => void;\n  onFilterChange: (filter: string) => void;\n  onPermissionSelect: (permissions?: string) => void;\n  onQueryChange: (query: string) => void;\n  query: string;\n  revokePermissionFromGroup: (group: string, permission: string) => Promise<void>;\n  revokePermissionFromUser: (user: string, permission: string) => Promise<void>;\n  selectedPermission?: string;\n  users: T.PermissionUser[];\n  usersPaging?: T.Paging;\n  visibility?: T.Visibility;\n}\n\nexport default class AllHoldersList extends React.PureComponent<Props> {\n  handleToggleUser = (user: T.PermissionUser, permission: string) => {\n    const hasPermission = user.permissions.includes(permission);\n\n    if (hasPermission) {\n      return this.props.revokePermissionFromUser(user.login, permission);\n    } else {\n      return this.props.grantPermissionToUser(user.login, permission);\n    }\n  };\n\n  handleToggleGroup = (group: T.PermissionGroup, permission: string) => {\n    const hasPermission = group.permissions.includes(permission);\n\n    if (hasPermission) {\n      return this.props.revokePermissionFromGroup(group.name, permission);\n    } else {\n      return this.props.grantPermissionToGroup(group.name, permission);\n    }\n  };\n\n  handleSelectPermission = (permission?: string) => {\n    this.props.onPermissionSelect(permission);\n  };\n\n  render() {\n    const { filter, groups, groupsPaging, users, usersPaging } = this.props;\n    let order = PERMISSIONS_ORDER_BY_QUALIFIER[this.props.component.qualifier];\n    if (this.props.visibility === 'public') {\n      order = without(order, 'user', 'codeviewer');\n    }\n    const permissions = convertToPermissionDefinitions(order, 'projects_role');\n\n    let count = 0;\n    let total = 0;\n    if (filter !== 'users') {\n      count += groups.length;\n      total += groupsPaging ? groupsPaging.total : groups.length;\n    }\n    if (filter !== 'groups') {\n      count += users.length;\n      total += usersPaging ? usersPaging.total : users.length;\n    }\n\n    return (\n      <>\n        <HoldersList\n          filter={this.props.filter}\n          groups={this.props.groups}\n          onSelectPermission={this.handleSelectPermission}\n          onToggleGroup={this.handleToggleGroup}\n          onToggleUser={this.handleToggleUser}\n          permissions={permissions}\n          query={this.props.query}\n          selectedPermission={this.props.selectedPermission}\n          users={this.props.users}>\n          <SearchForm\n            filter={this.props.filter}\n            onFilter={this.props.onFilterChange}\n            onSearch={this.props.onQueryChange}\n            query={this.props.query}\n          />\n        </HoldersList>\n        <ListFooter count={count} loadMore={this.props.onLoadMore} total={total} />\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ApplyTemplate from './ApplyTemplate';\nimport { Button } from '../../../../components/ui/buttons';\nimport { translate } from '../../../../helpers/l10n';\n\ninterface Props {\n  component: T.Component;\n  loadHolders: () => void;\n  loading: boolean;\n}\n\ninterface State {\n  applyTemplateModal: boolean;\n}\n\nexport default class PageHeader extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { applyTemplateModal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleApplyTemplate = () => {\n    this.setState({ applyTemplateModal: true });\n  };\n\n  handleApplyTemplateClose = () => {\n    if (this.mounted) {\n      this.setState({ applyTemplateModal: false });\n    }\n  };\n\n  render() {\n    const { component } = this.props;\n    const { configuration } = component;\n    const canApplyPermissionTemplate =\n      configuration != null && configuration.canApplyPermissionTemplate;\n\n    const description = ['VW', 'SVW', 'APP'].includes(component.qualifier)\n      ? translate('roles.page.description_portfolio')\n      : translate('roles.page.description2');\n\n    const visibilityDescription =\n      component.qualifier === 'TRK' && component.visibility\n        ? translate('visibility', component.visibility, 'description', component.qualifier)\n        : undefined;\n\n    return (\n      <header className=\"page-header\">\n        <h1 className=\"page-title\">{translate('permissions.page')}</h1>\n\n        {this.props.loading && <i className=\"spinner\" />}\n\n        {canApplyPermissionTemplate && (\n          <div className=\"page-actions\">\n            <Button className=\"js-apply-template\" onClick={this.handleApplyTemplate}>\n              {translate('projects_role.apply_template')}\n            </Button>\n\n            {this.state.applyTemplateModal && (\n              <ApplyTemplate\n                onApply={this.props.loadHolders}\n                onClose={this.handleApplyTemplateClose}\n                organization={component.organization}\n                project={component}\n              />\n            )}\n          </div>\n        )}\n\n        <div className=\"page-description\">\n          <p>{description}</p>\n          {visibilityDescription && <p>{visibilityDescription}</p>}\n        </div>\n      </header>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConfirmModal from '../../../../components/controls/ConfirmModal';\nimport { translate, translateWithParameters } from '../../../../helpers/l10n';\nimport { Alert } from '../../../../components/ui/Alert';\n\ninterface Props {\n  component: {\n    name: string;\n    qualifier: string;\n  };\n  onClose: () => void;\n  onConfirm: () => void;\n}\n\nexport default function PublicProjectDisclaimer({ component, onClose, onConfirm }: Props) {\n  const { qualifier } = component;\n  return (\n    <ConfirmModal\n      confirmButtonText={translate('projects_role.turn_project_to_public', qualifier)}\n      header={translateWithParameters('projects_role.turn_x_to_public', component.name)}\n      onClose={onClose}\n      onConfirm={onConfirm}>\n      <Alert variant=\"warning\">\n        {translate('projects_role.are_you_sure_to_turn_project_to_public.warning', qualifier)}\n      </Alert>\n      <p>{translate('projects_role.are_you_sure_to_turn_project_to_public', qualifier)}</p>\n    </ConfirmModal>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport { without } from 'lodash';\nimport AllHoldersList from './AllHoldersList';\nimport PageHeader from './PageHeader';\nimport PublicProjectDisclaimer from './PublicProjectDisclaimer';\nimport UpgradeOrganizationBox from '../../../create/components/UpgradeOrganizationBox';\nimport VisibilitySelector from '../../../../components/common/VisibilitySelector';\nimport * as api from '../../../../api/permissions';\nimport { translate } from '../../../../helpers/l10n';\nimport '../../styles.css';\n\ninterface Props {\n  component: T.Component;\n  fetchOrganization: (organization: string) => void;\n  onComponentChange: (changes: Partial<T.Component>) => void;\n  organization?: T.Organization;\n}\n\ninterface State {\n  disclaimer: boolean;\n  filter: string;\n  groups: T.PermissionGroup[];\n  groupsPaging?: T.Paging;\n  loading: boolean;\n  query: string;\n  selectedPermission?: string;\n  users: T.PermissionUser[];\n  usersPaging?: T.Paging;\n}\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      disclaimer: false,\n      filter: 'all',\n      groups: [],\n      loading: true,\n      query: '',\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadHolders();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  loadUsersAndGroups = (userPage?: number, groupsPage?: number) => {\n    const { component } = this.props;\n    const { filter, query, selectedPermission } = this.state;\n\n    const getUsers: Promise<{ paging?: T.Paging; users: T.PermissionUser[] }> =\n      filter !== 'groups'\n        ? api.getPermissionsUsersForComponent({\n            projectKey: component.key,\n            q: query || undefined,\n            permission: selectedPermission,\n            organization: component.organization,\n            p: userPage\n          })\n        : Promise.resolve({ paging: undefined, users: [] });\n\n    const getGroups: Promise<{ paging?: T.Paging; groups: T.PermissionGroup[] }> =\n      filter !== 'users'\n        ? api.getPermissionsGroupsForComponent({\n            projectKey: component.key,\n            q: query || undefined,\n            permission: selectedPermission,\n            organization: component.organization,\n            p: groupsPage\n          })\n        : Promise.resolve({ paging: undefined, groups: [] });\n\n    return Promise.all([getUsers, getGroups]);\n  };\n\n  loadHolders = () => {\n    this.setState({ loading: true });\n    return this.loadUsersAndGroups().then(([usersResponse, groupsResponse]) => {\n      if (this.mounted) {\n        this.setState({\n          groups: groupsResponse.groups,\n          groupsPaging: groupsResponse.paging,\n          loading: false,\n          users: usersResponse.users,\n          usersPaging: usersResponse.paging\n        });\n      }\n    }, this.stopLoading);\n  };\n\n  onLoadMore = () => {\n    const { usersPaging, groupsPaging } = this.state;\n    this.setState({ loading: true });\n    return this.loadUsersAndGroups(\n      usersPaging ? usersPaging.pageIndex + 1 : 1,\n      groupsPaging ? groupsPaging.pageIndex + 1 : 1\n    ).then(([usersResponse, groupsResponse]) => {\n      if (this.mounted) {\n        this.setState(({ groups, users }) => ({\n          groups: [...groups, ...groupsResponse.groups],\n          groupsPaging: groupsResponse.paging,\n          loading: false,\n          users: [...users, ...usersResponse.users],\n          usersPaging: usersResponse.paging\n        }));\n      }\n    }, this.stopLoading);\n  };\n\n  handleFilterChange = (filter: string) => {\n    if (this.mounted) {\n      this.setState({ filter }, this.loadHolders);\n    }\n  };\n\n  handleQueryChange = (query: string) => {\n    if (this.mounted) {\n      this.setState({ query }, this.loadHolders);\n    }\n  };\n\n  handlePermissionSelect = (selectedPermission?: string) => {\n    if (this.mounted) {\n      this.setState(\n        (state: State) => ({\n          selectedPermission:\n            state.selectedPermission === selectedPermission ? undefined : selectedPermission\n        }),\n        this.loadHolders\n      );\n    }\n  };\n\n  addPermissionToGroup = (group: string, permission: string) => {\n    return this.state.groups.map(candidate =>\n      candidate.name === group\n        ? { ...candidate, permissions: [...candidate.permissions, permission] }\n        : candidate\n    );\n  };\n\n  addPermissionToUser = (user: string, permission: string) => {\n    return this.state.users.map(candidate =>\n      candidate.login === user\n        ? { ...candidate, permissions: [...candidate.permissions, permission] }\n        : candidate\n    );\n  };\n\n  removePermissionFromGroup = (group: string, permission: string) => {\n    return this.state.groups.map(candidate =>\n      candidate.name === group\n        ? { ...candidate, permissions: without(candidate.permissions, permission) }\n        : candidate\n    );\n  };\n\n  removePermissionFromUser = (user: string, permission: string) => {\n    return this.state.users.map(candidate =>\n      candidate.login === user\n        ? { ...candidate, permissions: without(candidate.permissions, permission) }\n        : candidate\n    );\n  };\n\n  grantPermissionToGroup = (group: string, permission: string) => {\n    if (this.mounted) {\n      this.setState({\n        loading: true,\n        groups: this.addPermissionToGroup(group, permission)\n      });\n      return api\n        .grantPermissionToGroup({\n          projectKey: this.props.component.key,\n          groupName: group,\n          permission,\n          organization: this.props.component.organization\n        })\n        .then(this.stopLoading, () => {\n          if (this.mounted) {\n            this.setState({\n              loading: false,\n              groups: this.removePermissionFromGroup(group, permission)\n            });\n          }\n        });\n    }\n    return Promise.resolve();\n  };\n\n  grantPermissionToUser = (user: string, permission: string) => {\n    if (this.mounted) {\n      this.setState({\n        loading: true,\n        users: this.addPermissionToUser(user, permission)\n      });\n      return api\n        .grantPermissionToUser({\n          projectKey: this.props.component.key,\n          login: user,\n          permission,\n          organization: this.props.component.organization\n        })\n        .then(this.stopLoading, () => {\n          if (this.mounted) {\n            this.setState({\n              loading: false,\n              users: this.removePermissionFromUser(user, permission)\n            });\n          }\n        });\n    }\n    return Promise.resolve();\n  };\n\n  revokePermissionFromGroup = (group: string, permission: string) => {\n    if (this.mounted) {\n      this.setState({\n        loading: true,\n        groups: this.removePermissionFromGroup(group, permission)\n      });\n      return api\n        .revokePermissionFromGroup({\n          projectKey: this.props.component.key,\n          groupName: group,\n          permission,\n          organization: this.props.component.organization\n        })\n        .then(this.stopLoading, () => {\n          if (this.mounted) {\n            this.setState({\n              loading: false,\n              groups: this.addPermissionToGroup(group, permission)\n            });\n          }\n        });\n    }\n    return Promise.resolve();\n  };\n\n  revokePermissionFromUser = (user: string, permission: string) => {\n    if (this.mounted) {\n      this.setState({\n        loading: true,\n        users: this.removePermissionFromUser(user, permission)\n      });\n      return api\n        .revokePermissionFromUser({\n          projectKey: this.props.component.key,\n          login: user,\n          permission,\n          organization: this.props.component.organization\n        })\n        .then(this.stopLoading, () => {\n          if (this.mounted) {\n            this.setState({\n              loading: false,\n              users: this.addPermissionToUser(user, permission)\n            });\n          }\n        });\n    }\n    return Promise.resolve();\n  };\n\n  handleOrganizationUpgrade = () => {\n    const { component, organization } = this.props;\n    if (organization) {\n      this.props.onComponentChange({\n        configuration: { ...component.configuration, canUpdateProjectVisibilityToPrivate: true }\n      });\n      this.props.fetchOrganization(organization.key);\n    }\n  };\n\n  handleVisibilityChange = (visibility: string) => {\n    if (visibility === 'public') {\n      this.openDisclaimer();\n    } else {\n      this.turnProjectToPrivate();\n    }\n  };\n\n  turnProjectToPublic = () => {\n    this.props.onComponentChange({ visibility: 'public' });\n    api.changeProjectVisibility(this.props.component.key, 'public').then(\n      () => {\n        this.loadHolders();\n      },\n      () => {\n        this.props.onComponentChange({\n          visibility: 'private'\n        });\n      }\n    );\n  };\n\n  turnProjectToPrivate = () => {\n    this.props.onComponentChange({ visibility: 'private' });\n    api.changeProjectVisibility(this.props.component.key, 'private').then(\n      () => {\n        this.loadHolders();\n      },\n      () => {\n        this.props.onComponentChange({\n          visibility: 'public'\n        });\n      }\n    );\n  };\n\n  openDisclaimer = () => {\n    if (this.mounted) {\n      this.setState({ disclaimer: true });\n    }\n  };\n\n  closeDisclaimer = () => {\n    if (this.mounted) {\n      this.setState({ disclaimer: false });\n    }\n  };\n\n  render() {\n    const { component, organization } = this.props;\n    const canTurnToPrivate =\n      component.configuration && component.configuration.canUpdateProjectVisibilityToPrivate;\n\n    let showUpgradeBox;\n    if (organization && !canTurnToPrivate) {\n      const isOrgAdmin = organization.actions && organization.actions.admin;\n      showUpgradeBox =\n        isOrgAdmin &&\n        this.props.component.qualifier === 'TRK' &&\n        !organization.canUpdateProjectsVisibilityToPrivate;\n    }\n\n    return (\n      <div className=\"page page-limited\" id=\"project-permissions-page\">\n        <Helmet title={translate('permissions.page')} />\n\n        <PageHeader\n          component={component}\n          loadHolders={this.loadHolders}\n          loading={this.state.loading}\n        />\n        <div>\n          <VisibilitySelector\n            canTurnToPrivate={canTurnToPrivate}\n            className=\"big-spacer-top big-spacer-bottom\"\n            onChange={this.handleVisibilityChange}\n            visibility={component.visibility}\n          />\n          {showUpgradeBox && organization && (\n            <UpgradeOrganizationBox\n              className=\"big-spacer-bottom\"\n              onOrganizationUpgrade={this.handleOrganizationUpgrade}\n              organization={organization}\n            />\n          )}\n          {this.state.disclaimer && (\n            <PublicProjectDisclaimer\n              component={component}\n              onClose={this.closeDisclaimer}\n              onConfirm={this.turnProjectToPublic}\n            />\n          )}\n        </div>\n        <AllHoldersList\n          component={component}\n          filter={this.state.filter}\n          grantPermissionToGroup={this.grantPermissionToGroup}\n          grantPermissionToUser={this.grantPermissionToUser}\n          groups={this.state.groups}\n          groupsPaging={this.state.groupsPaging}\n          onFilterChange={this.handleFilterChange}\n          onLoadMore={this.onLoadMore}\n          onPermissionSelect={this.handlePermissionSelect}\n          onQueryChange={this.handleQueryChange}\n          query={this.state.query}\n          revokePermissionFromGroup={this.revokePermissionFromGroup}\n          revokePermissionFromUser={this.revokePermissionFromUser}\n          selectedPermission={this.state.selectedPermission}\n          users={this.state.users}\n          usersPaging={this.state.usersPaging}\n          visibility={component.visibility}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport App from './App';\nimport { getCurrentUser, getOrganizationByKey, Store } from '../../../../store/rootReducer';\nimport { fetchOrganization } from '../../../../store/rootActions';\n\ninterface OwnProps {\n  component: T.Component;\n  onComponentChange: (changes: Partial<T.Component>) => void;\n}\n\nconst mapStateToProps = (state: Store, { component }: OwnProps) => ({\n  currentUser: getCurrentUser(state),\n  organization: getOrganizationByKey(state, component.organization)\n});\n\nconst mapDispatchToProps = { fetchOrganization };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as ReactModal from 'react-modal';\nimport * as classNames from 'classnames';\n\nReactModal.setAppElement('#content');\n\nexport interface ModalProps {\n  children: React.ReactNode;\n  size?: 'small' | 'medium' | 'large';\n  noBackdrop?: boolean;\n}\n\ntype MandatoryProps = Pick<ReactModal.Props, 'contentLabel'>;\n\ntype Props = Partial<ReactModal.Props> & MandatoryProps & ModalProps;\n\nexport default function Modal(props: Props) {\n  return (\n    <ReactModal\n      className={classNames('modal', {\n        'modal-small': props.size === 'small',\n        'modal-medium': props.size === 'medium',\n        'modal-large': props.size === 'large'\n      })}\n      isOpen={true}\n      overlayClassName={classNames('modal-overlay', { 'modal-no-backdrop': props.noBackdrop })}\n      {...props}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ReactSelectProps, ReactCreatableSelectProps, ReactAsyncSelectProps } from 'react-select';\nimport { ClearButton } from '../ui/buttons';\nimport { lazyLoad } from '../lazyLoad';\nimport './react-select.css';\n\nconst ReactSelectLib = import('react-select');\nconst ReactSelect = lazyLoad(() => ReactSelectLib);\nconst ReactCreatable = lazyLoad(() => ReactSelectLib.then(lib => ({ default: lib.Creatable })));\nconst ReactAsync = lazyLoad(() => ReactSelectLib.then(lib => ({ default: lib.Async })));\n\nfunction renderInput() {\n  return <ClearButton className=\"button-tiny spacer-left text-middle\" iconProps={{ size: 12 }} />;\n}\n\ninterface WithInnerRef {\n  innerRef?: (element: React.Component) => void;\n}\n\nexport default function Select({ innerRef, ...props }: WithInnerRef & ReactSelectProps) {\n  // TODO try to define good defaults, if any\n  // ReactSelect doesn't declare `clearRenderer` prop\n  const ReactSelectAny = ReactSelect as any;\n  // hide the \"x\" icon when select is empty\n  const clearable = props.clearable ? Boolean(props.value) : false;\n  return (\n    <ReactSelectAny {...props} clearRenderer={renderInput} clearable={clearable} ref={innerRef} />\n  );\n}\n\nexport function Creatable(props: ReactCreatableSelectProps) {\n  // ReactSelect doesn't declare `clearRenderer` prop\n  const ReactCreatableAny = ReactCreatable as any;\n  return <ReactCreatableAny {...props} clearRenderer={renderInput} />;\n}\n\n// TODO figure out why `ref` prop is incompatible\nexport function AsyncSelect(props: ReactAsyncSelectProps & { ref?: any }) {\n  return <ReactAsync {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal, { ModalProps } from './Modal';\n\nexport interface ChildrenProps {\n  onCloseClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  onFormSubmit: (event: React.SyntheticEvent<HTMLFormElement>) => void;\n  onSubmitClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  submitting: boolean;\n}\n\ninterface Props extends ModalProps {\n  children: (props: ChildrenProps) => React.ReactNode;\n  header: string;\n  onClose: () => void;\n  onSubmit: () => void | Promise<void>;\n}\n\ninterface State {\n  submitting: boolean;\n}\n\nexport default class SimpleModal extends React.Component<Props, State> {\n  mounted = false;\n  state: State = { submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopSubmitting = () => {\n    if (this.mounted) {\n      this.setState({ submitting: false });\n    }\n  };\n\n  handleCloseClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.props.onClose();\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.submit();\n  };\n\n  handleSubmitClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.submit();\n  };\n\n  submit = () => {\n    const result = this.props.onSubmit();\n    if (result) {\n      this.setState({ submitting: true });\n      result.then(this.stopSubmitting, this.stopSubmitting);\n    }\n  };\n\n  render() {\n    const { children, header, onClose, onSubmit, ...modalProps } = this.props;\n    return (\n      <Modal contentLabel={header} onRequestClose={onClose} {...modalProps}>\n        {children({\n          onCloseClick: this.handleCloseClick,\n          onFormSubmit: this.handleFormSubmit,\n          onSubmitClick: this.handleSubmitClick,\n          submitting: this.state.submitting\n        })}\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ModalProps } from './Modal';\nimport SimpleModal, { ChildrenProps } from './SimpleModal';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { SubmitButton, ResetButtonLink } from '../ui/buttons';\nimport { translate } from '../../helpers/l10n';\n\nexport interface ConfirmModalProps<T> extends ModalProps {\n  cancelButtonText?: string;\n  confirmButtonText: string;\n  confirmData?: T;\n  confirmDisable?: boolean;\n  isDestructive?: boolean;\n  onConfirm: (data?: T) => void | Promise<void | Response>;\n}\n\ninterface Props<T> extends ConfirmModalProps<T> {\n  header: string;\n  headerDescription?: React.ReactNode;\n  onClose: () => void;\n}\n\nexport default class ConfirmModal<T = string> extends React.PureComponent<Props<T>> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleSubmit = () => {\n    const result = this.props.onConfirm(this.props.confirmData);\n    if (result) {\n      return result.then(this.props.onClose, () => {});\n    } else {\n      this.props.onClose();\n      return undefined;\n    }\n  };\n\n  renderModalContent = ({ onCloseClick, onFormSubmit, submitting }: ChildrenProps) => {\n    const {\n      children,\n      confirmButtonText,\n      confirmDisable,\n      header,\n      headerDescription,\n      isDestructive,\n      cancelButtonText = translate('cancel')\n    } = this.props;\n    return (\n      <form onSubmit={onFormSubmit}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n          {headerDescription}\n        </header>\n        <div className=\"modal-body\">{children}</div>\n        <footer className=\"modal-foot\">\n          <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n          <SubmitButton\n            autoFocus={true}\n            className={isDestructive ? 'button-red' : undefined}\n            disabled={submitting || confirmDisable}>\n            {confirmButtonText}\n          </SubmitButton>\n          <ResetButtonLink disabled={submitting} onClick={onCloseClick}>\n            {cancelButtonText}\n          </ResetButtonLink>\n        </footer>\n      </form>\n    );\n  };\n\n  render() {\n    const { header, onClose, noBackdrop, size } = this.props;\n    const modalProps = { header, onClose, noBackdrop, size };\n    return (\n      <SimpleModal onSubmit={this.handleSubmit} {...modalProps}>\n        {this.renderModalContent}\n      </SimpleModal>\n    );\n  }\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./react-select.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./react-select.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./react-select.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".Select{position:relative;display:inline-block;vertical-align:middle;font-size:12px;text-align:left}.Select,.Select div,.Select input,.Select span{box-sizing:border-box}.Select.is-disabled>.Select-control{background-color:#ebebeb!important;border-color:#ddd!important}.Select.is-disabled>.Select-control:hover{box-shadow:none!important}.Select.is-disabled .Select-arrow-zone{cursor:not-allowed!important;pointer-events:none!important}.Select.is-disabled .Select-placeholder,.Select.is-disabled .Select-value{color:#bbb!important}.Select-control{position:relative;display:table;width:100%;height:24px;line-height:22px;border:1px solid #cdcdcd;border-collapse:separate;border-radius:2px;background-color:#fff;color:#444;cursor:default;outline:none;overflow:hidden}.is-searchable.is-open>.Select-control{cursor:text}.is-open>.Select-control{border-bottom-right-radius:0;border-bottom-left-radius:0;background:#fff}.is-open>.Select-control>.Select-arrow{border-color:transparent transparent #999;border-width:0 5px 5px}.is-searchable.is-focused:not(.is-open)>.Select-control{cursor:text}.is-focused:not(.is-open)>.Select-control{border-color:#4b9fd5}.Select-placeholder{color:#777}.Select-placeholder,:not(.Select--multi)>.Select-control .Select-value{bottom:0;left:0;line-height:23px;padding-left:8px;padding-right:24px;position:absolute;right:0;top:0;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select-value [class^=icon-]{padding-top:5px}.Select-value img,.Select-value svg{padding-top:4px}.Select-option .outline-badge,.Select-value .outline-badge{height:20px;line-height:19px;margin-top:1px}.Select-option [class^=icon-],.Select-option img,.Select-option svg{padding-top:2px}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value .Select-value-label,.has-value:not(.Select--multi)>.Select-control>.Select-value .Select-value-label{color:#444}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label{cursor:pointer;text-decoration:none}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:focus,.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:hover,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:focus,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:hover{color:#007eff;outline:none;text-decoration:underline}.Select-input{vertical-align:top;height:22px;padding-left:8px;padding-right:8px;outline:none}.Select-input>input{background:none transparent;border:0;cursor:default;display:inline-block;font-family:inherit;font-size:12px;height:22px;margin:0;outline:none;padding:0;box-shadow:none;-webkit-appearance:none}.is-focused .Select-input>input{cursor:text}.has-value.is-pseudo-focused .Select-input{opacity:0}.Select-control:not(.is-searchable)>.Select-input{outline:none}.Select-loading-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:16px}.Select-loading{animation:Select-animation-spin .4s linear infinite;box-sizing:border-box;border-radius:50%;border:2px solid #ccc;border-right-color:#444;display:inline-block}.Select-clear-zone,.Select-loading{width:16px;height:16px;position:relative;vertical-align:middle}.Select-clear-zone{animation:Select-animation-fadeIn .2s;color:#999;cursor:pointer;display:table-cell;text-align:center;padding-right:4px}.Select-clear-zone:hover .Select-clear{background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxLjQxNCI+PHBhdGggZD0iTTEzLjk2OSAxLjQwNkw4LjM5IDYuOTg0bDUuNTc4IDUuNTc5LTEuNDA2IDEuNDA2TDYuOTg0IDguMzlsLTUuNTc4IDUuNTc4TDAgMTIuNTYzbDUuNTc4LTUuNTc5TDAgMS40MDYgMS40MDYgMGw1LjU3OCA1LjU3OEwxMi41NjMgMGwxLjQwNiAxLjQwNnoiIGZpbGw9IiNlNzE0MzgiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==)}.Select-clear{display:block;width:9px;height:9px;background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxLjQxNCI+PHBhdGggZD0iTTEzLjk2OSAxLjQwNkw4LjM5IDYuOTg0bDUuNTc4IDUuNTc5LTEuNDA2IDEuNDA2TDYuOTg0IDguMzlsLTUuNTc4IDUuNTc4TDAgMTIuNTYzbDUuNTc4LTUuNTc5TDAgMS40MDYgMS40MDYgMGw1LjU3OCA1LjU3OEwxMi41NjMgMGwxLjQwNiAxLjQwNnoiIGZpbGw9IiM5OTkiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==);background-size:9px 9px;text-indent:-9999px}.Select--multi .Select-clear-zone{width:17px}.Select-arrow-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:20px;padding-right:5px}.Select-arrow{border-color:#999 transparent transparent;border-style:solid;border-width:4px 4px 2px;display:inline-block;height:0;width:0}.is-open .Select-arrow,.Select-arrow-zone:hover>.Select-arrow{border-top-color:#666}@keyframes Select-animation-fadeIn{0%{opacity:0}to{opacity:1}}.Select-menu-outer{border-bottom-right-radius:4px;border-bottom-left-radius:4px;background-color:#fff;border:1px solid #ccc;border-top-color:#e6e6e6;box-sizing:border-box;margin-top:-1px;max-height:200px;position:absolute;top:100%;width:100%;z-index:7500;-webkit-overflow-scrolling:touch;box-shadow:0 6px 12px rgba(0,0,0,.175)}.Select-menu{max-height:198px;padding:5px 0;overflow-y:auto}.Select-option{display:block;line-height:20px;padding:0 8px;box-sizing:border-box;color:#444;font-size:12px;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.Select-option:last-child{border-bottom-right-radius:2px;border-bottom-left-radius:2px}.Select-option.is-focused{background-color:#f3f3f3}.Select-option.is-disabled{font-weight:600;cursor:default}.Select-noresults{box-sizing:border-box;color:#999;cursor:default;display:block;padding:8px 10px}.Select--multi .Select-value{background-color:rgba(0,126,255,.08);border-radius:2px;border:1px solid rgba(0,126,255,.24);color:#444;display:inline-block;font-size:12px;line-height:14px;margin:1px 4px 1px 1px;vertical-align:top}.Select-value-label{font-size:12px}.is-searchable.is-open .Select-value-label{opacity:.5}.Select-big .Select-control{padding-top:4px;padding-bottom:4px}.Select-big .Select-placeholder{margin-top:4px;margin-bottom:4px}.Select-big .Select-value-label{display:inline-block;margin-top:7px;line-height:16px}.Select-big .Select-option{padding:7px 8px;line-height:16px}.Select-big img,.Select-big svg{padding-top:0}.Select--multi .Select-value-icon,.Select--multi .Select-value-label{display:inline-block;vertical-align:middle}.Select--multi .Select-value-label{display:inline-block;max-width:200px;border-bottom-right-radius:2px;border-top-right-radius:2px;cursor:default;padding:2px 5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select--multi a.Select-value-label{color:#007eff;cursor:pointer;text-decoration:none}.Select--multi a.Select-value-label:hover{text-decoration:underline}.Select--multi .Select-value-icon{cursor:pointer;border-bottom-left-radius:2px;border-top-left-radius:2px;border-right:1px solid rgba(0,126,255,.24);padding:1px 5px}.Select--multi .Select-value-icon:focus,.Select--multi .Select-value-icon:hover{background-color:rgba(0,113,230,.08);color:#0071e6}.Select--multi .Select-value-icon:active{background-color:rgba(0,126,255,.24)}.Select--multi.is-disabled .Select-value{background-color:#fcfcfc;border:1px solid #e3e3e3;color:#444}.Select--multi.is-disabled .Select-value-icon{cursor:not-allowed;border-right:1px solid #e3e3e3}.Select--multi.is-disabled .Select-value-icon:active,.Select--multi.is-disabled .Select-value-icon:focus,.Select--multi.is-disabled .Select-value-icon:hover{background-color:#fcfcfc}.Select-aria-only{display:none}@keyframes Select-animation-spin{to{transform:rotate(1turn)}}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\nexport interface Props {\n  count: number;\n  className?: string;\n  loading?: boolean;\n  loadMore?: () => void;\n  needReload?: boolean;\n  reload?: () => void;\n  ready?: boolean;\n  total?: number;\n}\n\nexport default function ListFooter({ ready = true, ...props }: Props) {\n  const handleLoadMore = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (props.loadMore) {\n      props.loadMore();\n    }\n  };\n\n  const handleReload = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (props.reload) {\n      props.reload();\n    }\n  };\n\n  const hasMore = props.total && props.total > props.count;\n\n  const loadMoreLink = (\n    <a className=\"spacer-left\" href=\"#\" onClick={handleLoadMore}>\n      {translate('show_more')}\n    </a>\n  );\n\n  const reloadLink = (\n    <a className=\"spacer-left\" href=\"#\" onClick={handleReload}>\n      {translate('reload')}\n    </a>\n  );\n\n  const className = classNames(\n    'spacer-top note text-center',\n    { 'new-loading': !ready },\n    props.className\n  );\n\n  let link;\n\n  if (props.needReload && props.reload) {\n    link = reloadLink;\n  } else if (hasMore && props.loadMore) {\n    link = loadMoreLink;\n  }\n\n  return (\n    <footer className={className}>\n      {translateWithParameters(\n        'x_of_y_shown',\n        formatMeasure(props.count, 'INT', null),\n        formatMeasure(props.total, 'INT', null)\n      )}\n      {link}\n      {props.loading && <DeferredSpinner className=\"text-bottom spacer-left position-absolute\" />}\n    </footer>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport BillingFormShim from './BillingFormShim';\nimport UpgradeOrganizationAdvantages from './UpgradeOrganizationAdvantages';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport Modal from '../../../components/controls/Modal';\nimport { ResetButtonLink } from '../../../components/ui/buttons';\nimport { withCurrentUser } from '../../../components/hoc/withCurrentUser';\nimport { getExtensionStart } from '../../../helpers/extensions';\nimport { translate } from '../../../helpers/l10n';\n\nconst BillingForm = withCurrentUser(BillingFormShim);\n\ninterface Props {\n  insideModal?: boolean;\n  onUpgradeDone: () => void;\n  onClose: () => void;\n  organization: T.Organization;\n  subscriptionPlans: T.SubscriptionPlan[];\n}\n\ninterface State {\n  ready: boolean;\n}\n\nexport default class UpgradeOrganizationModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { ready: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    getExtensionStart('billing/billing').then(\n      () => {\n        if (this.mounted) {\n          this.setState({ ready: true });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const header = translate('billing.upgrade_box.upgrade_to_paid_plan');\n\n    if (!this.state.ready) {\n      return null;\n    }\n\n    return (\n      <Modal\n        contentLabel={header}\n        noBackdrop={this.props.insideModal}\n        onRequestClose={this.props.onClose}\n        shouldCloseOnOverlayClick={false}\n        size={'medium'}>\n        <div className=\"modal-head\">\n          <h2>{header}</h2>\n        </div>\n        <BillingForm\n          onCommit={this.props.onUpgradeDone}\n          organizationKey={this.props.organization.key}\n          subscriptionPlans={this.props.subscriptionPlans}>\n          {({\n            onSubmit,\n            processingUpgrade,\n            renderFormFields,\n            renderNextCharge,\n            renderRecap,\n            renderSubmitButton\n          }) => (\n            <form id=\"organization-paid-plan-form\" onSubmit={onSubmit}>\n              <div className=\"modal-body modal-container\">\n                <div className=\"huge-spacer-bottom\">\n                  <p className=\"spacer-bottom\">\n                    <FormattedMessage\n                      defaultMessage={translate('billing.upgrade.org_x_advantages')}\n                      id=\"billing.coupon.description\"\n                      values={{\n                        org: <strong>{this.props.organization.name}</strong>\n                      }}\n                    />\n                  </p>\n                  <UpgradeOrganizationAdvantages />\n                </div>\n                {renderFormFields()}\n                <div className=\"big-spacer-top\">{renderRecap()}</div>\n              </div>\n              <footer className=\"modal-foot display-flex-center display-flex-space-between\">\n                {renderNextCharge() || <span />}\n                <div>\n                  <DeferredSpinner loading={processingUpgrade} />\n                  {renderSubmitButton()}\n                  <ResetButtonLink onClick={this.props.onClose}>\n                    {translate('cancel')}\n                  </ResetButtonLink>\n                </div>\n              </footer>\n            </form>\n          )}\n        </BillingForm>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport UpgradeOrganizationAdvantages from './UpgradeOrganizationAdvantages';\nimport UpgradeOrganizationModal from './UpgradeOrganizationModal';\nimport RadioCard from '../../../components/controls/RadioCard';\nimport { Button } from '../../../components/ui/buttons';\nimport { formatPrice } from '../organization/utils';\nimport { getSubscriptionPlans } from '../../../api/billing';\nimport { translate, hasMessage } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  insideModal?: boolean;\n  onOrganizationUpgrade: () => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  subscriptionPlans: T.SubscriptionPlan[];\n  upgradeOrganizationModal: boolean;\n}\n\nexport default class UpgradeOrganizationBox extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { subscriptionPlans: [], upgradeOrganizationModal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchSubscriptionPlans();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchSubscriptionPlans = () => {\n    return getSubscriptionPlans().then(subscriptionPlans => {\n      if (this.mounted) {\n        this.setState({ subscriptionPlans });\n      }\n    });\n  };\n\n  handleUpgradeClick = () => {\n    this.setState({ upgradeOrganizationModal: true });\n  };\n\n  handleUpgradeOrganizationModalClose = () => {\n    if (this.mounted) {\n      this.setState({ upgradeOrganizationModal: false });\n    }\n  };\n\n  handleOrganizationUpgrade = () => {\n    this.props.onOrganizationUpgrade();\n    this.handleUpgradeOrganizationModalClose();\n  };\n\n  render() {\n    if (!hasMessage('billing.upgrade_box.header')) {\n      return null;\n    }\n\n    const { subscriptionPlans, upgradeOrganizationModal } = this.state;\n    const startingPrice = subscriptionPlans[0] && subscriptionPlans[0].price;\n\n    return (\n      <>\n        <RadioCard\n          className={this.props.className}\n          title={translate('billing.upgrade_box.header')}\n          titleInfo={\n            startingPrice !== undefined && (\n              <FormattedMessage\n                defaultMessage={translate('billing.price_from_x')}\n                id=\"billing.price_from_x\"\n                values={{\n                  price: <span className=\"big\">{formatPrice(startingPrice)}</span>\n                }}\n              />\n            )\n          }>\n          <>\n            <UpgradeOrganizationAdvantages />\n            <div className=\"big-spacer-left\">\n              <Button className=\"js-upgrade-organization\" onClick={this.handleUpgradeClick}>\n                {translate('billing.paid_plan.upgrade')}\n              </Button>\n              <Link className=\"spacer-left\" target=\"_blank\" to=\"/about/pricing\">\n                {translate('billing.pricing.learn_more')}\n              </Link>\n            </div>\n          </>\n        </RadioCard>\n        {upgradeOrganizationModal && (\n          <UpgradeOrganizationModal\n            insideModal={this.props.insideModal}\n            onClose={this.handleUpgradeOrganizationModalClose}\n            onUpgradeDone={this.handleOrganizationUpgrade}\n            organization={this.props.organization}\n            subscriptionPlans={subscriptionPlans}\n          />\n        )}\n      </>\n    );\n  }\n}\n"],"sourceRoot":""}