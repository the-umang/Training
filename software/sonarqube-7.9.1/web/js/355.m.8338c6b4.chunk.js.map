{"version":3,"sources":["webpack:///./src/main/js/app/components/notifications/notifications.css?c35b","webpack:///./src/main/js/app/components/notifications/notifications.css","webpack:///./src/main/js/components/icons-components/NotificationIcon.tsx","webpack:///./src/main/js/app/components/notifications/NavLatestNotification.tsx"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","NotificationIcon","_ref","className","_ref$fill","fill","hasUnread","size","index_js_exposed","Icon","d","style","cx","cy","r","theme","__webpack_exports__","NavLatestNotification_NavLatestNotification","[object Object]","this","mounted","checkHasUnread","_this$props","props","notificationsLastReadDate","lastNews","Object","dates","publicationDate","handleClick","event","preventDefault","currentTarget","blur","onClick","handleDismiss","stopPropagation","setCurrentUserSetting","key","value","Date","now","toString","_this$props2","notificationsOptOut","showNotifications","Boolean","l10n","notification","href","ClearIcon","thin"],"mappings":"gFACA,IAAAA,EAAcC,EAAQ,MAEtB,iBAAAD,MAAA,EAA4CE,EAAAC,EAASH,EAAA,MAOrD,IAAAI,EAAA,CAAeC,KAAA,EAEfC,eAPAA,EAQAC,gBAAAC,GAEaP,EAAQ,IAARA,CAAuED,EAAAI,GAEpFJ,EAAAS,SAAAP,EAAAQ,QAAAV,EAAAS,+BCjBAP,EAAAQ,QAA2BT,EAAQ,IAARA,EAAuE,IAElGU,KAAA,CAAcT,EAAAC,EAAS,0nEAA0nE,uFCyBloE,SAASS,EAAVC,GAKN,IAJNC,EAIMD,EAJNC,UAIMC,EAAAF,EAHNG,YAGM,IAAAD,EAHC,eAGDA,EAFNE,EAEMJ,EAFNI,UACAC,EACML,EADNK,KAEA,OACEC,EAAA,cAACC,EAAA,EAAI,CAACN,UAAWA,EAAWI,KAAMA,GAC/BD,EACCE,EAAA,cAAAA,EAAA,cACEA,EAAA,sBACEE,EAAE,8ZACFC,MAAO,CAAEN,UAEXG,EAAA,wBAAQI,GAAG,SAASC,GAAG,QAAQC,EAAE,IAAIH,MAAO,CAAEN,KAAMU,EAAA,SAGtDP,EAAA,sBACEE,EAAE,uVACFC,MAAO,CAAEN,sCC9CnBf,EAAAoB,EAAAM,EAAA,4BAAAC,IAmCe,MAAMA,UAA8BT,EAAA,cAAnDU,kCACEC,KAAAC,SAAU,EAEVD,KAAAE,eAAiB,KAAK,MAAAC,EAC4BH,KAAKI,MAA7CC,EADYF,EACZE,0BAA2BC,EADfH,EACeG,SACnC,OACGD,GACDE,OAAAC,EAAA,EAAAD,CAAoBA,OAAAC,EAAA,EAAAD,CAAUD,EAASG,iBAAkBJ,GAA6B,GAI1FL,KAAAU,YAAeC,IACbA,EAAMC,iBACND,EAAME,cAAcC,OACpBd,KAAKI,MAAMW,WAGbf,KAAAgB,cAAiBL,IACfA,EAAMC,iBACND,EAAMM,kBAENjB,KAAKI,MAAMc,sBAAsB,CAC/BC,IAAK,yBACLC,MAAOC,KAAKC,MAAMC,cAItBxB,SAAM,MAAAyB,EACsCxB,KAAKI,MAAvCqB,EADJD,EACIC,oBAAqBnB,EADzBkB,EACyBlB,SACvBnB,EAAYa,KAAKE,iBACjBwB,EAAoBC,SAASF,GAAuBnB,GAAYnB,GACtE,OACEE,EAAA,cAAAA,EAAA,cACGqC,GACCrC,EAAA,cAAAA,EAAA,cACEA,EAAA,oBAAIL,UAAU,6BAA6B+B,QAASf,KAAKI,MAAMW,SAC7D1B,EAAA,qBAAKL,UAAU,sCACbK,EAAA,sBAAML,UAAU,mBAAmBuB,OAAAqB,EAAA,EAAArB,CAAU,QAC7ClB,EAAA,sBAAML,UAAU,SAASsB,EAASuB,gBAGtCxC,EAAA,oBAAIL,UAAU,sCACZK,EAAA,mBAAGL,UAAU,cAAc8C,KAAK,IAAIf,QAASf,KAAKgB,eAChD3B,EAAA,cAAC0C,EAAA,EAAS,CAAC3C,KAAM,GAAI4C,MAAM,OAKnC3C,EAAA,wBACEA,EAAA,mBAAGL,UAAU,cAAc8C,KAAK,IAAIf,QAASf,KAAKU,aAChDrB,EAAA,cAACP,EAAgB,CAACK,UAAWA,IAAcsC","file":"js/355.m.8338c6b4.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./notifications.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./notifications.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./notifications.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".navbar-latest-notification{flex:0 1 240px;text-align:right;overflow:hidden}.navbar-latest-notification-wrapper{position:relative;display:inline-block;padding:8px 8px 8px 50px;height:28px;max-width:100%;box-sizing:border-box;overflow:hidden;vertical-align:middle;font-size:12px;text-overflow:ellipsis;white-space:nowrap;color:#8a8c8f;background-color:#000;border-radius:3px 0 0 3px;cursor:pointer}.navbar-latest-notification-wrapper:hover{color:#cfd3d7}.navbar-latest-notification-wrapper .badge-new{position:absolute;margin-right:8px;left:4px;top:5px}.navbar-latest-notification-wrapper .label{display:block;max-width:330px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.navbar-latest-notification-dismiss .navbar-icon{height:28px;background-color:#000;border-radius:0 3px 3px 0;padding:8px 7px!important;margin-left:1px;margin-right:8px;color:#8a8c8f!important}.navbar-latest-notification-dismiss .navbar-icon:hover{color:#cfd3d7!important}.notifications-sidebar{position:fixed;top:0;right:0;bottom:0;width:400px;display:flex;flex-direction:column;background:#f9f9fb}.notifications-sidebar-top{position:relative;display:flex;align-items:center;justify-content:space-between;padding:16px;border-bottom:1px solid #e6e8ea;background-color:#fff}.notifications-sidebar-top h3{font-weight:400;font-size:16px}.notifications-sidebar-content{flex:1 1;overflow-y:auto}.notifications-sidebar-footer{padding-top:8px;border-top:1px solid #e6e8ea;flex:0 0 40px}.notifications-sidebar-slice h4{padding:16px 16px 4px;background-color:#f9f9fb;font-weight:400;font-size:12px;text-align:right;color:#8a8c8f}.notifications-sidebar-slice .feature:last-of-type{border-bottom:1px solid #e6e8ea}.notifications-sidebar-slice .feature{padding:16px;background-color:#fff;border-top:1px solid #e6e8ea;overflow:hidden}.notifications-sidebar-slice.unread .feature{background-color:#e6f6ff;border-color:#cee4f2}.notifications-sidebar-slice .learn-more{clear:both;float:right;margin-top:8px}.notifications-sidebar-slice .categories li{display:inline-block;padding:4px;margin-right:8px;font-size:9px;line-height:8px;text-transform:uppercase;font-weight:700;color:#fff;border-radius:3px}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport { blue } from '../../app/theme';\n\ninterface Props extends IconProps {\n  hasUnread?: boolean;\n}\n\nexport default function NotificationIcon({\n  className,\n  fill = 'currentColor',\n  hasUnread,\n  size\n}: Props) {\n  return (\n    <Icon className={className} size={size}>\n      {hasUnread ? (\n        <>\n          <path\n            d=\"M8 1a.875.875 0 0 0-.875.875v.57c-2.009.418-3.498 2.118-3.498 4.242 0 2.798-.987 3.652-1.516 4.22a.856.856 0 0 0-.236.593.875.875 0 0 0 .877.875h10.496a.875.875 0 0 0 .877-.875.854.854 0 0 0-.236-.594c-.497-.534-1.388-1.342-1.494-3.76a2.814 2.814 0 0 1-.768.108A2.814 2.814 0 0 1 8.814 4.44a2.814 2.814 0 0 1 .665-1.818 4.543 4.543 0 0 0-.604-.178v-.57A.875.875 0 0 0 8 1zM6.25 13.25a1.75 1.75 0 0 0 3.5 0h-3.5z\"\n            style={{ fill }}\n          />\n          <circle cx=\"11.627\" cy=\"4.441\" r=\"2\" style={{ fill: blue }} />\n        </>\n      ) : (\n        <path\n          d=\"M8 15a1.75 1.75 0 0 0 1.75-1.75h-3.5c0 .967.784 1.75 1.75 1.75zm5.89-4.094c-.529-.567-1.517-1.421-1.517-4.218 0-2.125-1.49-3.826-3.499-4.243v-.57a.875.875 0 1 0-1.748 0v.57c-2.01.417-3.499 2.118-3.499 4.243 0 2.797-.988 3.65-1.517 4.218a.854.854 0 0 0-.235.594.876.876 0 0 0 .878.875h10.494a.876.876 0 0 0 .878-.875.853.853 0 0 0-.235-.594z\"\n          style={{ fill }}\n        />\n      )}\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ClearIcon from '../../../components/icons-components/ClearIcon';\nimport NotificationIcon from '../../../components/icons-components/NotificationIcon';\nimport { PrismicFeatureNews } from '../../../api/news';\nimport { differenceInSeconds, parseDate } from '../../../helpers/dates';\nimport { translate } from '../../../helpers/l10n';\nimport './notifications.css';\n\ninterface Props {\n  lastNews: PrismicFeatureNews;\n  notificationsLastReadDate?: Date;\n  notificationsOptOut?: boolean;\n  onClick: () => void;\n  setCurrentUserSetting: (setting: T.CurrentUserSetting) => void;\n}\n\nexport default class NavLatestNotification extends React.PureComponent<Props> {\n  mounted = false;\n\n  checkHasUnread = () => {\n    const { notificationsLastReadDate, lastNews } = this.props;\n    return (\n      !notificationsLastReadDate ||\n      differenceInSeconds(parseDate(lastNews.publicationDate), notificationsLastReadDate) > 0\n    );\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick();\n  };\n\n  handleDismiss = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.props.setCurrentUserSetting({\n      key: 'notifications.readDate',\n      value: Date.now().toString()\n    });\n  };\n\n  render() {\n    const { notificationsOptOut, lastNews } = this.props;\n    const hasUnread = this.checkHasUnread();\n    const showNotifications = Boolean(!notificationsOptOut && lastNews && hasUnread);\n    return (\n      <>\n        {showNotifications && (\n          <>\n            <li className=\"navbar-latest-notification\" onClick={this.props.onClick}>\n              <div className=\"navbar-latest-notification-wrapper\">\n                <span className=\"badge badge-new\">{translate('new')}</span>\n                <span className=\"label\">{lastNews.notification}</span>\n              </div>\n            </li>\n            <li className=\"navbar-latest-notification-dismiss\">\n              <a className=\"navbar-icon\" href=\"#\" onClick={this.handleDismiss}>\n                <ClearIcon size={12} thin={true} />\n              </a>\n            </li>\n          </>\n        )}\n        <li>\n          <a className=\"navbar-icon\" href=\"#\" onClick={this.handleClick}>\n            <NotificationIcon hasUnread={hasUnread && !notificationsOptOut} />\n          </a>\n        </li>\n      </>\n    );\n  }\n}\n"],"sourceRoot":""}