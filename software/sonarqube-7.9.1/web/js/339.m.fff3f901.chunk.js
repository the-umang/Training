(window.webpackJsonp=window.webpackJsonp||[]).push([[339],{1240:function(e,t,a){var n=a(1241);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(369)(n,i);n.locals&&(e.exports=n.locals)},1241:function(e,t,a){(e.exports=a(368)(!1)).push([e.i,".billing-downgrade-feedback>.alert{max-width:400px;margin:30px auto 50px}.billing-downgrade-feedback .boxed-group{margin-top:5vh}.billing-downgrade-feedback .boxed-group-header{padding-top:40px;text-align:center}.billing-downgrade-feedback .boxed-group-inner{padding:50px 50px 40px}.billing-downgrade-feedback h2{font-weight:700;font-size:18px;margin-bottom:20px}.billing-downgrade-feedback .boxed-group-list li{margin-left:0;padding-left:0}.billing-downgrade-feedback input[type=radio]{margin-right:1em}.billing-downgrade-feedback-form-actions{margin-top:36px}.billing-downgrade-feedback-explain-wrapper{margin-left:25px;padding-top:20px}.billing-downgrade-feedback-explain-wrapper label{display:block;margin-bottom:4px;font-weight:700}.billing-downgrade-feedback-explain-wrapper label .note{font-weight:400;margin-left:.5em}.billing-downgrade-feedback-explain-wrapper textarea{display:block;min-height:70px;width:100%;padding:6px 8px;border:1px solid #cdcdcd;border-radius:2px}",""])},1639:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return b});var n,i=a(365),r=a(385),o=a(367),l=a(0),c=a(638),d=a(372),s=a(446),p=a(794);a(1240);!function(e){e.doesntWork="did_not_work",e.doesntMeetExpectations="did_not_match_expectations",e.doesntMeetCompanyPolicy="company_policy",e.onlyTesting="just_testing",e.other="other"}(n||(n={}));class b extends i.PureComponent{constructor(){super(...arguments),this.state={additionalFeedback:""},this.handleChange=e=>{this.setState({additionalFeedback:e.currentTarget.value})},this.handleChoice=e=>{this.setState({feedback:e})},this.handleSkip=e=>{e.preventDefault(),this.navigateAway()},this.handleSubmit=e=>{e.preventDefault();const t=this.getLocationState().organization;t&&(Object(c.b)({organization:t.key,feedback:this.state.feedback,additionalFeedback:this.state.additionalFeedback}),this.navigateAway(Object(l.l)("billing.downgrade.thankyou_for_feedback")))},this.getLocationState=()=>{return this.props.location.state||{}},this.navigateAway=e=>{e&&Object(s.a)(e);const t=this.getLocationState().returnTo;this.props.router.replace({pathname:t||Object(d.b)()})}}render(){const e=this.getLocationState(),t=e.organization,a=e.confirmationMessage,c=e.title;return t?i.createElement("div",{className:"billing-downgrade-feedback"},a&&i.createElement(r.a,{variant:"success"},a),i.createElement("div",{className:"boxed-group boxed-group-centered"},i.createElement("div",{className:"boxed-group-header"},i.createElement("h2",null,c),i.createElement("div",null,Object(l.l)("billing.downgrade.reason.explanation"))),i.createElement("div",{className:"boxed-group-inner"},i.createElement("form",{className:"billing-downgrade-feedback-form",onSubmit:this.handleSubmit},i.createElement("ul",{className:"boxed-group-list"},Object.keys(n).map(e=>{const t=n[e];return i.createElement("li",{key:t},i.createElement(p.a,{checked:this.state.feedback===t,onCheck:this.handleChoice,value:t},Object(l.l)("billing.downgrade.reason.option",t,"label")),this.state.feedback===t&&i.createElement("div",{className:"billing-downgrade-feedback-explain-wrapper"},i.createElement("label",{htmlFor:"reason_text_".concat(t)},Object(l.l)("billing.why"),i.createElement("span",{className:"note"},Object(l.l)("billing.optional"))),i.createElement("textarea",{id:"reason_text_".concat(t),name:"reason_text_".concat(t),onChange:this.handleChange,placeholder:Object(l.l)("billing.downgrade.reason.option",t,"placeholder"),value:this.state.additionalFeedback})))})),i.createElement("div",{className:"billing-downgrade-feedback-form-actions"},i.createElement(o.i,{className:"spacer-right",disabled:!this.state.feedback},Object(l.l)("billing.send")),i.createElement("a",{href:"#",onClick:this.handleSkip},Object(l.l)("billing.skip"))))))):null}}},446:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(428),i=a(422);function r(e){Object(n.default)().dispatch(i.b(e))}},638:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return o});var n=a(4),i=a(383);function r(){return Object(n.getJSON)("/api/billing/show_subscription_plans").then(e=>{return e.subscriptionPlans},i.a)}function o(e){return Object(n.post)("/api/billing/send_feedback",e)}},794:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(365),i=a(366);class r extends n.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.onCheck(this.props.value)}}render(){return n.createElement("a",{"aria-checked":this.props.checked,className:i("display-inline-flex-center link-checkbox",this.props.className),href:"#",onClick:this.handleClick,role:"radio"},n.createElement("i",{className:i("icon-radio","spacer-right",{"is-checked":this.props.checked})}),this.props.children)}}}}]);
//# sourceMappingURL=339.m.fff3f901.chunk.js.map