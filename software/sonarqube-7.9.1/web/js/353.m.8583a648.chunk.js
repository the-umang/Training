(window.webpackJsonp=window.webpackJsonp||[]).push([[353],{1718:function(e,t,n){"use strict";n.r(t);var r=n(365),o=n(371);class a extends r.Component{render(){const e=window.SonarGovernance.CreateForm;return r.createElement(e,Object.assign({},this.props))}}var c=n(388),i=n(370);function l(e){let t=e.className,n=e.fill,o=void 0===n?"currentColor":n,a=e.size;return r.createElement(i.a,{className:t,size:a},r.createElement("path",{d:"M1,7L7,7L7,1L9,1L9,7L15,7L15,9L9,9L9,15L7,15L7,9L1,9L1,7Z",style:{fill:o}}))}var s=n(568),u=n(439),p=n(0),m=n(14),f=n(372),d=n(392);n.d(t,"GlobalNavPlus",function(){return h});class h extends r.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={createPortfolio:!1,governanceReady:!1},this.handleNewProjectClick=e=>{e.preventDefault(),this.props.openProjectOnboarding()},this.openCreatePortfolioForm=()=>{this.setState({createPortfolio:!0})},this.closeCreatePortfolioForm=()=>{this.setState({createPortfolio:!1})},this.handleNewPortfolioClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.openCreatePortfolioForm()},this.handleCreatePortfolio=e=>{let t=e.key,n=e.qualifier;return Object(s.a)({component:t}).then(e=>{e.configuration&&e.configuration.extensions&&e.configuration.extensions.find(e=>"governance/console"===e.key)?this.props.router.push(Object(f.t)(t,n)):this.props.router.push(Object(f.u)(t)),this.closeCreatePortfolioForm()})}}componentDidMount(){this.mounted=!0,this.props.appState.qualifiers.includes("VW")&&Object(u.a)("governance/console").then(()=>{this.mounted&&this.setState({governanceReady:!0})},()=>{})}componentWillUnmount(){this.mounted=!1}renderCreateProject(e){return e?r.createElement("li",null,r.createElement("a",{className:"js-new-project",href:"#",onClick:this.handleNewProjectClick},Object(m.isSonarCloud)()?Object(p.l)("provisioning.analyze_new_project"):Object(p.l)("my_account.create_new.TRK"))):null}renderCreateOrganization(e){return e?r.createElement("li",null,r.createElement(o.Link,{className:"js-new-organization",to:"/create-organization"},Object(p.l)("my_account.create_new_organization"))):null}renderCreatePortfolio(e,t){return this.props.appState.qualifiers.includes("VW")&&e?r.createElement("li",null,r.createElement("a",{className:"js-new-portfolio",href:"#",onClick:this.handleNewPortfolioClick},t?Object(p.l)("my_account.create_new",t):Object(p.l)("my_account.create_new_portfolio_application"))):null}render(){const e=this.props.currentUser,t=Object(d.a)(e,"applicationcreator"),n=Object(m.isSonarCloud)(),o=Object(d.a)(e,"portfoliocreator"),i=Object(m.isSonarCloud)()||Object(d.a)(e,"provisioning");if(!(i||t||o||n))return null;let s;return t?o||(s="APP"):s="VW",r.createElement(r.Fragment,null,r.createElement(c.b,{overlay:r.createElement("ul",{className:"menu"},this.renderCreateProject(i),this.renderCreateOrganization(n),this.renderCreatePortfolio(t||o,s)),tagName:"li"},r.createElement("a",{className:"navbar-icon navbar-plus",href:"#",title:Object(m.isSonarCloud)()?Object(p.l)("my_account.create_new_project_or_organization"):Object(p.l)("my_account.create_new_project_portfolio_or_application")},r.createElement(l,null))),this.state.governanceReady&&this.state.createPortfolio&&r.createElement(a,{defaultQualifier:s,onClose:this.closeCreatePortfolioForm,onCreate:this.handleCreatePortfolio}))}}t.default=Object(o.withRouter)(h)},439:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return i});var r=n(372),o=n(9);let a=!1;function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body";return new Promise(n=>{const o=document.createElement("script");o.src="".concat(Object(r.b)()).concat(e),o.onload=n,document.getElementsByTagName(t)[0].appendChild(o)})}async function i(e){const t=Object(o.a)(e);if(t)return Promise.resolve(t);if(!a){(0,(await Promise.all([n.e(0),n.e(1),n.e(14),n.e(283)]).then(n.bind(null,584))).default)(),a=!0}await c("/static/".concat(e,".js"));const r=Object(o.a)(e);return r||Promise.reject()}},568:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return i});var r=n(4),o=n(383);function a(e){return Object(r.getJSON)("/api/navigation/component",e).catch(o.a)}function c(){return Object(r.getJSON)("/api/navigation/marketplace").catch(o.a)}function i(){return Object(r.getJSON)("/api/navigation/settings").catch(o.a)}}}]);
//# sourceMappingURL=353.m.8583a648.chunk.js.map