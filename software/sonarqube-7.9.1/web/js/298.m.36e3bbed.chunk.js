(window.webpackJsonp=window.webpackJsonp||[]).push([[298],{1725:function(e,t,i){"use strict";i.r(t);var n=i(365),r=i(900),a=i(473),s=i.n(a),l=i(506),o=i(375),c=i(902),d=i(905),p=i(434);i(802);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(n=(s=l.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m=Object(l.a)(class extends n.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!0,referencedRepositories:{}},this.fetchRuleDetails=()=>{this.setState({loading:!0}),Promise.all([Object(p.e)({organization:this.props.organizationKey}),Object(p.c)({key:this.props.ruleKey,organization:this.props.organizationKey})]).then(e=>{let t=u(e,2),i=t[0].repositories,n=t[1].rule;this.mounted&&(this.setState({loading:!1,referencedRepositories:s()(i,"key"),ruleDetails:n}),this.props.onLoad({name:n.name}))},()=>{this.mounted&&this.setState({loading:!1})})},this.noOp=()=>{}}componentDidMount(){this.mounted=!0,this.fetchRuleDetails()}componentDidUpdate(e){e.ruleKey===this.props.ruleKey&&e.organizationKey===this.props.organizationKey||this.fetchRuleDetails()}componentWillUnmount(){this.mounted=!1}render(){const e=this.props.organizationKey,t=this.props.appState.organizationsEnabled?e:void 0;return n.createElement(o.a,{loading:this.state.loading},this.state.ruleDetails&&n.createElement(n.Fragment,null,n.createElement(c.a,{canWrite:!1,hideSimilarRulesFilter:!0,onFilterChange:this.noOp,onTagsChange:this.noOp,organization:t,referencedRepositories:this.state.referencedRepositories,ruleDetails:this.state.ruleDetails}),n.createElement(d.a,{canWrite:!1,onChange:this.noOp,organization:t,ruleDetails:this.state.ruleDetails})))}}),h=i(906);i.d(t,"default",function(){return g});class g extends n.PureComponent{constructor(){super(...arguments),this.state={loading:!0},this.handleClose=()=>{this.props.onClose(this.props.rule.key)},this.handleLoaded=e=>{this.props.onLoad({key:this.props.rule.key,name:e.name}),setTimeout(()=>{this.setState({loading:!1})},1e3)}}componentDidUpdate(e){e.rule.key!==this.props.rule.key&&this.setState({loading:!0})}render(){const e=this.props.rule,t=this.state.loading;return n.createElement("div",{className:"workspace-viewer"},n.createElement(r.a,{maximized:this.props.maximized,onClose:this.handleClose,onCollapse:this.props.onCollapse,onMaximize:this.props.onMaximize,onMinimize:this.props.onMinimize,onResize:this.props.onResize},n.createElement(h.a,{rule:e})),n.createElement("div",{"aria-busy":t,"aria-live":"polite",className:"workspace-viewer-container",style:{height:this.props.height}},n.createElement(m,{onLoad:this.handleLoaded,organizationKey:e.organization,ruleKey:e.key})))}}},384:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(365),r=i(366),a=i(374),s=i(423),l=i(373);i(393);function o(e){const t=e.children,i=void 0===t?n.createElement(s.a,{fill:l.gray71,size:12}):t,o=e.tagName,c=void 0===o?"div":o;return n.createElement(c,{className:r("help-tooltip",e.className)},n.createElement(a.a,{mouseLeaveDelay:.25,onShow:e.onShow,overlay:e.overlay,placement:e.placement},n.createElement("span",{className:"display-inline-flex-center"},i)))}},387:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(365),r=i(378),a=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(i[n[r]]=e[n[r]])}return i};class s extends n.Component{constructor(){super(...arguments),this.mounted=!1,this.state={submitting:!1},this.stopSubmitting=()=>{this.mounted&&this.setState({submitting:!1})},this.handleCloseClick=e=>{e&&(e.preventDefault(),e.currentTarget.blur()),this.props.onClose()},this.handleFormSubmit=e=>{e.preventDefault(),this.submit()},this.handleSubmitClick=e=>{e&&(e.preventDefault(),e.currentTarget.blur()),this.submit()},this.submit=()=>{const e=this.props.onSubmit();e&&(this.setState({submitting:!0}),e.then(this.stopSubmitting,this.stopSubmitting))}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props,t=e.children,i=e.header,s=e.onClose,l=(e.onSubmit,a(e,["children","header","onClose","onSubmit"]));return n.createElement(r.a,Object.assign({contentLabel:i,onRequestClose:s},l),t({onCloseClick:this.handleCloseClick,onFormSubmit:this.handleFormSubmit,onSubmitClick:this.handleSubmitClick,submitting:this.state.submitting}))}}},393:function(e,t,i){var n=i(394);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(369)(n,r);n.locals&&(e.exports=n.locals)},394:function(e,t,i){(e.exports=i(368)(!1)).push([e.i,".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}",""])},395:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(365),r=i(384),a=i(380);const s=Object(a.a)(()=>Promise.all([i.e(7),i.e(20)]).then(i.bind(null,485)));class l extends n.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={open:!1},this.close=()=>{this.mounted&&this.setState({open:!1})}}componentDidMount(){this.mounted=!0,this.props.doc.then(e=>{let t=e.default;this.mounted&&this.setState({content:t})},()=>{}),document.addEventListener("scroll",this.close,!0)}componentWillUnmount(){this.mounted=!1,document.removeEventListener("scroll",this.close,!0)}render(){return this.state.content?n.createElement(r.a,{className:this.props.className,overlay:n.createElement("div",{className:"abs-width-300"},n.createElement(s,{childProps:this.props.overlayProps,className:"cut-margins",content:this.state.content,isTooltip:!0}))},this.props.children):this.props.children||null}}},434:function(e,t,i){"use strict";i.d(t,"e",function(){return a}),i.d(t,"f",function(){return s}),i.d(t,"g",function(){return l}),i.d(t,"c",function(){return o}),i.d(t,"d",function(){return c}),i.d(t,"a",function(){return d}),i.d(t,"b",function(){return p}),i.d(t,"h",function(){return u});var n=i(4),r=i(383);function a(e){return Object(n.getJSON)("/api/rules/app",e).catch(r.a)}function s(e){return Object(n.getJSON)("/api/rules/search",e).catch(r.a)}function l(e,t){const i=e.facets.find(e=>e.property===t);return i?i.values:[]}function o(e){return Object(n.getJSON)("/api/rules/show",e).catch(r.a)}function c(e){return Object(n.getJSON)("/api/rules/tags",e).then(e=>e.tags,r.a)}function d(e){return Object(n.postJSON)("/api/rules/create",e).then(e=>e.rule,e=>e&&e.response&&409===e.response.status?Promise.reject(e.response):Object(r.a)(e))}function p(e){return Object(n.post)("/api/rules/delete",e).catch(r.a)}function u(e){return Object(n.postJSON)("/api/rules/update",e).then(e=>e.rule,r.a)}},505:function(e,t,i){var n;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),a={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen};void 0===(n=function(){return a}.call(t,i,t,e))||(e.exports=n)}()},506:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(365),r=i(377),a=i(454),s=i(379);function l(e){class t extends n.Component{render(){return n.createElement(e,Object.assign({},this.props))}}return t.displayName=Object(a.a)(e,"withAppState"),Object(r.connect)(function(e){return{appState:Object(s.getAppState)(e)}})(t)}},729:function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(365),r=i(388),a=i(0),s=i(432),l=i(676),o=i(391),c=i(468);class d extends n.PureComponent{constructor(){super(...arguments),this.handleLanguageClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.rule.lang&&this.props.onFilterChange({languages:[this.props.rule.lang]})},this.handleTypeClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.onFilterChange({types:[this.props.rule.type]})},this.handleSeverityClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.rule.severity&&this.props.onFilterChange({severities:[this.props.rule.severity]})},this.handleTagClick=e=>{e.preventDefault(),e.currentTarget.blur();const t=e.currentTarget.dataset.tag;t&&this.props.onFilterChange({tags:[t]})}}render(){const e=this.props.rule,t=e.tags,i=void 0===t?[]:t,d=e.sysTags,p=void 0===d?[]:d,u=e.severity,m=[...i,...p];return n.createElement(r.b,{className:"display-inline-block",overlay:n.createElement(n.Fragment,null,n.createElement("ul",{className:"menu"},n.createElement("li",{className:"menu-header"},Object(a.l)("coding_rules.filter_similar_rules")),n.createElement("li",null,n.createElement("a",{"data-field":"language",href:"#",onClick:this.handleLanguageClick},e.langName)),n.createElement("li",null,n.createElement("a",{"data-field":"type",href:"#",onClick:this.handleTypeClick},Object(a.l)("issue.type",e.type))),u&&n.createElement("li",null,n.createElement("a",{"data-field":"severity",href:"#",onClick:this.handleSeverityClick},n.createElement(s.a,{severity:e.severity}))),m.length>0&&n.createElement(n.Fragment,null,n.createElement("li",{className:"divider"}),m.map(e=>n.createElement("li",{key:e},n.createElement("a",{"data-field":"tag","data-tag":e,href:"#",onClick:this.handleTagClick},n.createElement(c.a,{className:"icon-half-transparent little-spacer-right text-middle"}),n.createElement("span",{className:"text-middle"},e)))))))},n.createElement("a",{className:"js-rule-filter link-no-underline spacer-left dropdown-toggle",href:"#",title:Object(a.l)("coding_rules.filter_similar_rules")},n.createElement(l.a,{className:"icon-half-transparent"}),n.createElement(o.a,{className:"icon-half-transparent"})))}}},801:function(e,t,i){"use strict";i.r(t),t.default="Custom rules are created by administrators from templates, and are the only fully-editable rules.\n"},802:function(e,t,i){var n=i(803);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(369)(n,r);n.locals&&(e.exports=n.locals)},803:function(e,t,i){(e.exports=i(368)(!1)).push([e.i,".coding-rules-extended-view .coding-rules-list{display:none}.coding-rules-extended-view .coding-rules-details{display:block}.coding-rules-detail-title{position:relative;display:inline-block;margin:16px 0;font-size:16px;font-weight:400}.coding-rules-detail-quality-profile-parameter{display:block;height:100%;padding-top:0;padding-right:10px}.coding-rules-detail-quality-profile-parameter .key,.coding-rules-detail-quality-profile-parameter .sep,.coding-rules-detail-quality-profile-parameter .value{display:inline;vertical-align:top}.coding-rules-detail-quality-profile-parameter .value{display:inline-block;vertical-align:top;line-height:23px;max-width:300px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Consolas,Liberation Mono,Menlo,Courier,monospace}.coding-rules-detail-quality-profile-parameter+.coding-rules-detail-quality-profile-parameter{margin-top:0}.coding-rules-detail-properties{display:flex;flex-wrap:wrap;align-items:center;margin-top:8px}.coding-rules-detail-properties+.coding-rules-detail-properties{margin-top:-10px}.coding-rules-detail-property{display:flex;align-items:center;margin-right:16px;margin-bottom:8px;font-size:12px}.coding-rules-detail-tag+.coding-rules-detail-tag{margin-left:10px}.coding-rules-detail-tags-change{cursor:pointer}.coding-rules-detail-tags-change:hover span{text-decoration:underline}.coding-rules-detail-tag-edit{line-height:1}.coding-rules-details-tag-edit-cancel{vertical-align:middle}.coding-rules-detail-description{margin:20px 0}.coding-rules-detail-description-extra{margin-top:-10px}.coding-rules-detail-extend-description-form{margin:10px 0}.coding-rules-detail-parameters{width:100%;margin:10px 0 20px}.coding-rules-detail-parameter-name{width:1px;vertical-align:top;padding:5px 10px 5px 0;font-weight:700}.coding-rules-detail-parameter-description{vertical-align:top;padding:5px}.coding-rules-detail-parameter-value{font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;word-break:break-all}.coding-rules-detail-list,.coding-rules-detail-quality-profiles{width:100%;line-height:22px}.coding-rules-detail-list td,.coding-rules-detail-quality-profiles td{border-top:1px solid #e6e6e6}.coding-rules-detail-list tr:first-child td,.coding-rules-detail-quality-profiles tr:first-child td{border-top:none}.coding-rules-detail-list-name,.coding-rules-detail-quality-profile-name{vertical-align:top;width:1px;padding:8px 5px 8px 0;font-weight:600;white-space:nowrap}.coding-rules-detail-list-severity,.coding-rules-detail-quality-profile-severity{vertical-align:top;width:1px;padding:8px 5px;white-space:nowrap}.coding-rules-detail-quality-profile-severity i{margin-top:2px}.coding-rules-detail-list-parameters,.coding-rules-detail-quality-profile-parameters{vertical-align:top;padding:8px 5px}.coding-rules-detail-list-actions,.coding-rules-detail-quality-profile-actions{vertical-align:top;width:1px;padding:8px 0 8px 5px;text-align:right;white-space:nowrap}.coding-rules-detail-quality-profile-inheritance{font-size:12px;font-weight:400}.coding-rules-detail-quality-profiles-activation{margin-top:-3px;margin-left:10px}.coding-rules-most-violated-projects td{border-top-color:transparent}.coding-rules-most-violated-projects tr:first-child+tr td{border-top-color:#e6e6e6}.coding-rules-most-violated-projects .coding-rules-detail-list-name{font-weight:400}.coding-rule{padding:8px 10px 8px 8px;border:1px solid transparent;background-color:#fff}.coding-rule.selected{border-color:#4b9fd5!important}.coding-rule+.coding-rule{border-top-color:#e6e6e6}.coding-rule.selected+.coding-rule{border-top-color:transparent}.coding-rule-table{width:100%}.coding-rule-table td{vertical-align:top}.coding-rule-table+.coding-rule-table{margin-top:5px}.coding-rule-table-meta-cell{width:1px;white-space:nowrap}@media (max-width:1320px){.coding-rule-table .tags-list span{max-width:100px}}.coding-rule-title{line-height:20px;font-size:13px}.coding-rule-meta{padding:2px 2px 2px 30px;font-size:12px}.coding-rule-activation{width:40px;line-height:19.5px}.coding-rule-activation-actions{padding-left:20px}.coding-rule-section-separator{height:0;margin:10px 0;border-top:1px solid #e6e6e6}",""])},900:function(e,t,i){"use strict";var n=i(365),r=i(728),a=i(0),s=i(367),l=i(657),o=i(370);function c(e){let t=e.className,i=e.fill,r=void 0===i?"currentColor":i,a=e.size;return n.createElement(o.a,{className:t,size:a},n.createElement("path",{d:"M8 8.509v3.56c0 .138-.05.257-.151.357-.1.101-.22.151-.358.151a.489.489 0 0 1-.357-.15l-1.145-1.145-2.638 2.639a.251.251 0 0 1-.366 0l-.906-.906a.251.251 0 0 1 0-.366l2.639-2.638-1.144-1.145a.489.489 0 0 1-.151-.357c0-.138.05-.257.15-.358.101-.1.22-.151.358-.151h3.56c.138 0 .257.05.358.151.1.1.151.22.151.358zm6-5.34c0 .068-.026.129-.08.182l-2.638 2.638 1.144 1.145c.101.1.151.22.151.357 0 .138-.05.257-.15.358-.101.1-.22.151-.358.151h-3.56a.489.489 0 0 1-.358-.151A.489.489 0 0 1 8 7.491v-3.56c0-.138.05-.257.151-.357.1-.101.22-.151.358-.151.137 0 .257.05.357.15l1.145 1.145 2.638-2.639a.251.251 0 0 1 .366 0l.906.906c.053.053.079.114.079.183z",style:{fill:r}}))}function d(e){let t=e.className,i=e.fill,r=void 0===i?"currentColor":i,a=e.size;return n.createElement(o.a,{className:t,size:a},n.createElement("path",{d:"M7.898 9.25a.247.247 0 0 1-.078.18l-2.593 2.593 1.125 1.125a.48.48 0 0 1 .148.352.48.48 0 0 1-.148.352A.48.48 0 0 1 6 14H2.5a.48.48 0 0 1-.352-.148A.48.48 0 0 1 2 13.5V10a.48.48 0 0 1 .148-.352A.48.48 0 0 1 2.5 9.5a.48.48 0 0 1 .352.148l1.125 1.125L6.57 8.18a.247.247 0 0 1 .36 0l.89.89a.247.247 0 0 1 .078.18zM14 2.5V6a.48.48 0 0 1-.148.352.48.48 0 0 1-.352.148.48.48 0 0 1-.352-.148l-1.125-1.125L9.43 7.82a.247.247 0 0 1-.36 0l-.89-.89a.247.247 0 0 1 0-.36l2.593-2.593-1.125-1.125A.48.48 0 0 1 9.5 2.5a.48.48 0 0 1 .148-.352A.48.48 0 0 1 10 2h3.5a.48.48 0 0 1 .352.148A.48.48 0 0 1 14 2.5z",style:{fill:r}}))}function p(e){let t=e.className,i=e.fill,r=void 0===i?"currentColor":i,a=e.size;return n.createElement(o.a,{className:t,size:a},n.createElement("path",{d:"M14 12.1v1.267c0 .176-.08.325-.239.448a.918.918 0 0 1-.58.185H2.819a.918.918 0 0 1-.58-.185C2.08 13.692 2 13.543 2 13.367V12.1c0-.176.08-.326.239-.449a.918.918 0 0 1 .58-.185h10.363c.227 0 .42.062.58.185.158.123.238.273.238.449z",style:{fill:r}}))}i.d(t,"a",function(){return u});class u extends n.PureComponent{constructor(){super(...arguments),this.handleDrag=(e,t)=>{this.props.onResize(t.deltaY)}}render(){return n.createElement("header",{className:"workspace-viewer-header"},n.createElement("h6",{className:"workspace-viewer-name"},this.props.children),n.createElement(r.DraggableCore,{offsetParent:document.body,onDrag:this.handleDrag},n.createElement("div",{className:"workspace-viewer-resize js-resize"})),n.createElement("div",{className:"workspace-viewer-actions"},n.createElement(m,{icon:p,onClick:this.props.onCollapse,tooltip:"workspace.minimize"}),this.props.maximized?n.createElement(m,{icon:c,onClick:this.props.onMinimize,tooltip:"workspace.normal_size"}):n.createElement(m,{icon:d,onClick:this.props.onMaximize,tooltip:"workspace.full_window"}),n.createElement(m,{icon:l.a,onClick:this.props.onClose,tooltip:"workspace.close"})))}}function m(e){let t=e.icon,i=e.onClick,r=e.tooltip;return n.createElement(s.b,{className:"workspace-header-icon",color:"#fff",onClick:i,tooltip:Object(a.l)(r)},n.createElement(t,{fill:void 0}))}},902:function(e,t,i){"use strict";var n=i(365),r=i(371),a=i(460),s=i.n(a),l=i(441),o=i.n(l),c=i(417),d=i.n(c),p=i(613),u=i(434);const m=10;class h extends n.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={searchResult:[]},this.onSearch=e=>Object(u.d)({q:e,ps:Math.min(this.props.tags.length+m,100),organization:this.props.organization}).then(e=>{this.mounted&&this.setState({searchResult:d()(e,...this.props.sysTags)})},()=>{}),this.onSelect=e=>{this.props.setTags(o()([...this.props.tags,e]))},this.onUnselect=e=>{this.props.setTags(d()(this.props.tags,e))}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=s()(this.state.searchResult,this.props.tags);return n.createElement(p.a,{listSize:m,onSearch:this.onSearch,onSelect:this.onSelect,onUnselect:this.onUnselect,selectedTags:this.props.tags,tags:e})}}var g=i(729),f=i(401),v=i(395),y=i(388),b=i(429),E=i(554),x=i(370);function C(e){let t=e.className,i=e.fill,r=void 0===i?"currentColor":i,a=e.size;return n.createElement(x.a,{className:t,size:a},n.createElement("path",{d:"M8 3.071c2.724 0 4.929 2.204 4.929 4.929s-2.204 4.929-4.929 4.929c-2.724 0-4.929-2.204-4.929-4.929s2.204-4.929 4.929-4.929zM8 1.357c-3.669 0-6.643 2.974-6.643 6.643s2.974 6.643 6.643 6.643 6.643-2.974 6.643-6.643-2.974-6.643-6.643-6.643zM8 6.286c0.945 0 1.714 0.769 1.714 1.714s-0.769 1.714-1.714 1.714-1.714-0.769-1.714-1.714 0.769-1.714 1.714-1.714zM8 4.571c-1.893 0-3.429 1.535-3.429 3.429s1.535 3.429 3.429 3.429 3.429-1.535 3.429-3.429-1.535-3.429-3.429-3.429z",style:{fill:r}}))}var N=i(432),w=i(533),k=i(374),O=i(367),S=i(453),D=i(372),z=i(0);i.d(t,"a",function(){return _});const j="external_";class _ extends n.PureComponent{constructor(){super(...arguments),this.renderType=()=>{const e=this.props.ruleDetails;return n.createElement(k.a,{overlay:Object(z.l)("coding_rules.type.tooltip",e.type)},n.createElement("li",{className:"coding-rules-detail-property","data-meta":"type"},n.createElement(b.a,{className:"little-spacer-right",query:e.type}),Object(z.l)("issue.type",e.type)))},this.renderSeverity=()=>n.createElement(k.a,{overlay:Object(z.l)("default_severity")},n.createElement("li",{className:"coding-rules-detail-property","data-meta":"severity"},n.createElement(N.a,{className:"display-inline-flex-center",severity:this.props.ruleDetails.severity}))),this.renderStatus=()=>{const e=this.props.ruleDetails;return"READY"===e.status?null:n.createElement(k.a,{overlay:Object(z.l)("status")},n.createElement("li",{className:"coding-rules-detail-property","data-meta":"status"},n.createElement("span",{className:"badge badge-normal-size badge-danger-light"},Object(z.l)("rules.status",e.status))))},this.renderTags=()=>{const e=this.props,t=e.canWrite,i=e.ruleDetails,r=i.sysTags,a=void 0===r?[]:r,s=i.tags,l=void 0===s?[]:s,o=[...a,...l];return n.createElement("li",{className:"coding-rules-detail-property","data-meta":"tags"},this.props.canWrite?n.createElement(y.b,{closeOnClick:!1,closeOnClickOutside:!0,overlay:n.createElement(h,{organization:this.props.organization,setTags:this.props.onTagsChange,sysTags:a,tags:l}),overlayPlacement:S.b.BottomLeft},n.createElement(O.c,null,n.createElement(w.a,{allowUpdate:t,tags:o.length>0?o:[Object(z.l)("coding_rules.no_tags")]}))):n.createElement(w.a,{allowUpdate:t,className:"display-flex-center",tags:o.length>0?o:[Object(z.l)("coding_rules.no_tags")]}))},this.renderCreationDate=()=>n.createElement("li",{className:"coding-rules-detail-property","data-meta":"available-since"},n.createElement("span",{className:"little-spacer-right"},Object(z.l)("coding_rules.available_since")),n.createElement(f.a,{date:this.props.ruleDetails.createdAt})),this.renderRepository=()=>{const e=this.props,t=e.referencedRepositories,i=e.ruleDetails,r=t[i.repo];return r?n.createElement(k.a,{overlay:Object(z.l)("coding_rules.repository_language")},n.createElement("li",{className:"coding-rules-detail-property","data-meta":"repository"},r.name," (",i.langName,")")):null},this.renderTemplate=()=>this.props.ruleDetails.isTemplate?n.createElement(k.a,{overlay:Object(z.l)("coding_rules.rule_template.title")},n.createElement("li",{className:"coding-rules-detail-property"},Object(z.l)("coding_rules.rule_template"))):null,this.renderParentTemplate=()=>{const e=this.props.ruleDetails;return e.templateKey?n.createElement("li",{className:"coding-rules-detail-property"},Object(z.l)("coding_rules.custom_rule")," (",n.createElement(r.Link,{to:Object(D.B)(e.templateKey,this.props.organization)},Object(z.l)("coding_rules.show_template")),")",n.createElement(v.a,{className:"little-spacer-left",doc:Promise.resolve().then(i.bind(null,801))})):null},this.renderRemediation=()=>{const e=this.props.ruleDetails;return e.debtRemFnType?n.createElement(k.a,{overlay:Object(z.l)("coding_rules.remediation_function")},n.createElement("li",{className:"coding-rules-detail-property","data-meta":"remediation-function"},Object(z.l)("coding_rules.remediation_function",e.debtRemFnType),":",void 0!==e.debtRemFnOffset&&" ".concat(e.debtRemFnOffset),void 0!==e.debtRemFnCoeff&&" +".concat(e.debtRemFnCoeff),void 0!==e.effortToFixDescription&&" ".concat(e.effortToFixDescription))):null},this.renderScope=()=>{const e=this.props.ruleDetails.scope||"MAIN";return n.createElement(k.a,{overlay:Object(z.l)("coding_rules.scope.title")},n.createElement("li",{className:"coding-rules-detail-property"},n.createElement(C,{className:"little-spacer-right"}),Object(z.l)("coding_rules.scope",e)))},this.renderExternalBadge=()=>{const e=this.props.ruleDetails;if(!e.repo)return null;const t=e.repo.replace(new RegExp("^".concat(j)),"");return t?n.createElement(k.a,{overlay:Object(z.m)("coding_rules.external_rule.engine",t)},n.createElement("li",{className:"coding-rules-detail-property"},n.createElement("div",{className:"outline-badge badge-tiny-height spacer-left text-text-top"},t))):null}}renderKey(){const e=this.props.ruleDetails,t=e.key.startsWith("external_")?e.key.substr("external_".length):e.key;return n.createElement("span",{className:"note text-middle"},t)}render(){const e=this.props.ruleDetails,t=!e.isExternal||"UNKNOWN"!==e.type;return n.createElement("div",{className:"js-rule-meta"},n.createElement("header",{className:"page-header"},n.createElement("div",{className:"pull-right"},this.renderKey(),!e.isExternal&&n.createElement(r.Link,{className:"coding-rules-detail-permalink link-no-underline spacer-left text-middle",title:Object(z.l)("permalink"),to:Object(D.B)(e.key,this.props.organization)},n.createElement(E.a,null)),!this.props.hideSimilarRulesFilter&&n.createElement(g.a,{onFilterChange:this.props.onFilterChange,rule:e})),n.createElement("h3",{className:"page-title coding-rules-detail-header"},n.createElement("big",null,e.name))),t&&n.createElement("ul",{className:"coding-rules-detail-properties"},this.renderType(),this.renderSeverity(),!e.isExternal&&n.createElement(n.Fragment,null,this.renderStatus(),this.renderScope()),this.renderTags(),!e.isExternal&&this.renderCreationDate(),this.renderRepository(),!e.isExternal&&n.createElement(n.Fragment,null,this.renderTemplate(),this.renderParentTemplate(),this.renderRemediation()),e.isExternal&&this.renderExternalBadge()))}}},905:function(e,t,i){"use strict";var n=i(365),r=i(387),a=i(367),s=i(0);function l(e){let t=e.onCancel,i=e.onSubmit;const l=Object(s.l)("coding_rules.remove_extended_description");return n.createElement(r.a,{header:l,onClose:t,onSubmit:i},e=>{let t=e.onCloseClick,i=e.onFormSubmit,r=e.submitting;return n.createElement("form",{onSubmit:i},n.createElement("header",{className:"modal-head"},n.createElement("h2",null,l)),n.createElement("div",{className:"modal-body"},Object(s.l)("coding_rules.remove_extended_description.confirm")),n.createElement("footer",{className:"modal-foot"},r&&n.createElement("i",{className:"spinner spacer-right"}),n.createElement(a.i,{className:"button-red",disabled:r},Object(s.l)("remove")),n.createElement(a.h,{onClick:t},Object(s.l)("cancel"))))})}var o=i(434),c=i(615);i.d(t,"a",function(){return d});class d extends n.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={description:"",descriptionForm:!1,submitting:!1,removeDescriptionModal:!1},this.handleDescriptionChange=e=>this.setState({description:e.currentTarget.value}),this.handleCancelClick=()=>{this.setState({descriptionForm:!1})},this.handleSaveClick=()=>{this.updateDescription(this.state.description)},this.handleRemoveDescriptionClick=()=>{this.setState({removeDescriptionModal:!0})},this.handleCancelRemoving=()=>this.setState({removeDescriptionModal:!1}),this.handleConfirmRemoving=()=>{this.setState({removeDescriptionModal:!1}),this.updateDescription("")},this.updateDescription=e=>{this.setState({submitting:!0}),Object(o.h)({key:this.props.ruleDetails.key,markdown_note:e,organization:this.props.organization}).then(e=>{this.props.onChange(e),this.mounted&&this.setState({submitting:!1,descriptionForm:!1})},()=>{this.mounted&&this.setState({submitting:!1})})},this.handleExtendDescriptionClick=()=>{this.setState({description:this.props.ruleDetails.mdNote||"",descriptionForm:!0})},this.renderDescription=()=>n.createElement("div",{id:"coding-rules-detail-description-extra"},void 0!==this.props.ruleDetails.htmlNote&&n.createElement("div",{className:"rule-desc spacer-bottom markdown",dangerouslySetInnerHTML:{__html:this.props.ruleDetails.htmlNote}}),this.props.canWrite&&n.createElement(a.a,{id:"coding-rules-detail-extend-description",onClick:this.handleExtendDescriptionClick},Object(s.l)("coding_rules.extend_description"))),this.renderForm=()=>n.createElement("div",{className:"coding-rules-detail-extend-description-form"},n.createElement("table",{className:"width-100"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{colSpan:2},n.createElement("textarea",{autoFocus:!0,className:"width-100 little-spacer-bottom",id:"coding-rules-detail-extend-description-text",onChange:this.handleDescriptionChange,rows:4,value:this.state.description}))),n.createElement("tr",null,n.createElement("td",null,n.createElement(a.a,{disabled:this.state.submitting,id:"coding-rules-detail-extend-description-submit",onClick:this.handleSaveClick},Object(s.l)("save")),void 0!==this.props.ruleDetails.mdNote&&n.createElement(n.Fragment,null,n.createElement(a.a,{className:"button-red spacer-left",disabled:this.state.submitting,id:"coding-rules-detail-extend-description-remove",onClick:this.handleRemoveDescriptionClick},Object(s.l)("remove")),this.state.removeDescriptionModal&&n.createElement(l,{onCancel:this.handleCancelRemoving,onSubmit:this.handleConfirmRemoving})),n.createElement(a.h,{className:"spacer-left",disabled:this.state.submitting,id:"coding-rules-detail-extend-description-cancel",onClick:this.handleCancelClick},Object(s.l)("cancel")),this.state.submitting&&n.createElement("i",{className:"spinner spacer-left"})),n.createElement("td",{className:"text-right"},n.createElement(c.a,null))))))}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props.ruleDetails,t=!e.isExternal||"UNKNOWN"!==e.type;return n.createElement("div",{className:"js-rule-description"},t?n.createElement("div",{className:"coding-rules-detail-description rule-desc markdown",dangerouslySetInnerHTML:{__html:e.htmlDesc||""}}):n.createElement("div",{className:"coding-rules-detail-description rule-desc markdown"},Object(s.m)("issue.external_issue_description",e.name)),!e.templateKey&&n.createElement("div",{className:"coding-rules-detail-description coding-rules-detail-description-extra"},!this.state.descriptionForm&&this.renderDescription(),this.state.descriptionForm&&this.props.canWrite&&this.renderForm()))}}},906:function(e,t,i){"use strict";var n=i(365),r=i(370);function a(e){let t=e.className,i=e.fill,a=void 0===i?"currentColor":i,s=e.size;return n.createElement(r.a,{className:t,size:s},n.createElement("path",{d:"M10.042 5.083a.3.3 0 0 1-.292.292.3.3 0 0 1-.292-.292c0-.629-.975-.875-1.458-.875a.3.3 0 0 1-.292-.291A.3.3 0 0 1 8 3.625c.848 0 2.042.447 2.042 1.458zm1.458 0c0-1.823-1.85-2.916-3.5-2.916S4.5 3.26 4.5 5.083c0 .584.237 1.194.62 1.641.173.2.373.392.556.602.647.774 1.194 1.686 1.285 2.716h2.078c.091-1.03.638-1.942 1.285-2.716.183-.21.383-.402.556-.602.383-.447.62-1.057.62-1.64zm1.167 0c0 .94-.31 1.75-.94 2.443-.628.693-1.457 1.668-1.53 2.643a.876.876 0 0 1 .428.748.852.852 0 0 1-.228.583.852.852 0 0 1 .228.583c0 .301-.155.575-.41.739a.89.89 0 0 1 .118.428c0 .592-.465.875-.993.875A1.479 1.479 0 0 1 8 15a1.479 1.479 0 0 1-1.34-.875c-.528 0-.993-.283-.993-.875 0-.146.045-.3.118-.428a.876.876 0 0 1-.41-.739c0-.218.082-.428.228-.583a.852.852 0 0 1-.228-.583c0-.301.164-.593.428-.748-.073-.975-.902-1.95-1.53-2.643a3.507 3.507 0 0 1-.94-2.443C3.333 2.604 5.694 1 8 1c2.306 0 4.667 1.604 4.667 4.083z",style:{fill:a}}))}var s=i(373);function l(e){let t=e.limited;const i=e.rule.name,r=void 0===i?"â€”":i;return n.createElement(n.Fragment,null,n.createElement(a,{className:"little-spacer-right",fill:s.blue}),t?n.createElement("span",{className:"text-limited"},r):r)}i.d(t,"a",function(){return l})}}]);
//# sourceMappingURL=298.m.36e3bbed.chunk.js.map