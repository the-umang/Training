{"version":3,"sources":["webpack:///./src/main/js/apps/permissions/project/components/AllHoldersList.tsx","webpack:///./src/main/js/apps/permissions/project/components/PageHeader.tsx","webpack:///./src/main/js/apps/permissions/project/components/PublicProjectDisclaimer.tsx","webpack:///./src/main/js/apps/permissions/project/components/AppContainer.ts","webpack:///./src/main/js/apps/permissions/project/components/App.tsx","webpack:///./src/main/js/components/controls/Modal.tsx","webpack:///./src/main/js/components/controls/Select.tsx","webpack:///./src/main/js/components/controls/SimpleModal.tsx","webpack:///./src/main/js/components/controls/ConfirmModal.tsx","webpack:///./src/main/js/components/controls/ListFooter.tsx","webpack:///./src/main/js/components/controls/react-select.css?4060","webpack:///./src/main/js/components/controls/react-select.css","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationModal.tsx","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationBox.tsx","webpack:///./src/main/js/components/common/VisibilitySelector.tsx","webpack:///./src/main/js/apps/permissions/project/components/ApplyTemplate.tsx"],"names":["AllHoldersList_AllHoldersList","index_js_exposed","[object Object]","this","handleToggleUser","user","permission","permissions","includes","props","revokePermissionFromUser","login","grantPermissionToUser","handleToggleGroup","group","revokePermissionFromGroup","name","grantPermissionToGroup","handleSelectPermission","onPermissionSelect","_this$props","filter","groups","groupsPaging","users","usersPaging","order","utils","component","qualifier","visibility","without_default","Object","count","total","length","HoldersList","onSelectPermission","onToggleGroup","onToggleUser","query","selectedPermission","SearchForm","onFilter","onFilterChange","onSearch","onQueryChange","ListFooter","loadMore","onLoadMore","PageHeader_PageHeader","mounted","state","applyTemplateModal","handleApplyTemplate","setState","handleApplyTemplateClose","configuration","canApplyPermissionTemplate","description","l10n","visibilityDescription","undefined","className","loading","buttons","onClick","ApplyTemplate","onApply","loadHolders","onClose","organization","project","PublicProjectDisclaimer","_ref","onConfirm","ConfirmModal","confirmButtonText","header","Alert","variant","mapDispatchToProps","fetchOrganization","__webpack_exports__","es","currentUser","rootReducer","super","stopLoading","loadUsersAndGroups","userPage","groupsPage","_this$state","getUsers","api_permissions","projectKey","key","q","p","Promise","resolve","paging","getGroups","all","then","_ref2","_slicedToArray","usersResponse","groupsResponse","_this$state2","pageIndex","_ref3","_ref4","_ref5","handleFilterChange","handleQueryChange","handlePermissionSelect","addPermissionToGroup","map","candidate","assign","addPermissionToUser","removePermissionFromGroup","removePermissionFromUser","groupName","handleOrganizationUpgrade","onComponentChange","canUpdateProjectVisibilityToPrivate","handleVisibilityChange","openDisclaimer","turnProjectToPrivate","turnProjectToPublic","disclaimer","closeDisclaimer","_this$props2","canTurnToPrivate","showUpgradeBox","actions","admin","canUpdateProjectsVisibilityToPrivate","id","Helmet_default","a","title","VisibilitySelector","onChange","UpgradeOrganizationBox","onOrganizationUpgrade","__webpack_require__","d","Modal","react__WEBPACK_IMPORTED_MODULE_0__","react_modal__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_2__","modal-small","size","modal-medium","modal-large","isOpen","overlayClassName","modal-no-backdrop","noBackdrop","ReactSelectLib","e","bind","ReactSelect","_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","ReactCreatable","lib","default","Creatable","ReactAsync","Async","renderInput","_ui_buttons__WEBPACK_IMPORTED_MODULE_1__","iconProps","Select","_a","innerRef","__rest","ReactSelectAny","clearable","Boolean","value","clearRenderer","ref","ReactCreatableAny","AsyncSelect","SimpleModal","submitting","stopSubmitting","handleCloseClick","event","preventDefault","currentTarget","blur","handleFormSubmit","submit","handleSubmitClick","result","onSubmit","children","modalProps","_Modal__WEBPACK_IMPORTED_MODULE_1__","contentLabel","onRequestClose","onCloseClick","onFormSubmit","onSubmitClick","_SimpleModal__WEBPACK_IMPORTED_MODULE_1__","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","_ui_buttons__WEBPACK_IMPORTED_MODULE_3__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_4__","handleSubmit","confirmData","renderModalContent","confirmDisable","headerDescription","isDestructive","_this$props$cancelBut","cancelButtonText","autoFocus","disabled","_a$ready","ready","hasMore","loadMoreLink","href","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","reloadLink","reload","classnames__WEBPACK_IMPORTED_MODULE_1__","new-loading","link","needReload","_helpers_measures__WEBPACK_IMPORTED_MODULE_4__","content","module","i","options","hmr","transform","insertInto","locals","exports","push","BillingForm","withCurrentUser","BillingFormShim","UpgradeOrganizationModal_UpgradeOrganizationModal","extensions","insideModal","shouldCloseOnOverlayClick","onCommit","onUpgradeDone","organizationKey","subscriptionPlans","processingUpgrade","renderFormFields","renderNextCharge","renderRecap","renderSubmitButton","index_es","defaultMessage","values","org","UpgradeOrganizationAdvantages","DeferredSpinner","UpgradeOrganizationBox_UpgradeOrganizationBox","upgradeOrganizationModal","fetchSubscriptionPlans","billing","handleUpgradeClick","handleUpgradeOrganizationModalClose","startingPrice","price","RadioCard","titleInfo","target","to","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","handlePublicClick","handlePrivateClick","is-checked","showDetails","_api_permissions__WEBPACK_IMPORTED_MODULE_1__","_components_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","_components_controls_SimpleModal__WEBPACK_IMPORTED_MODULE_3__","_components_controls_Select__WEBPACK_IMPORTED_MODULE_4__","_components_ui_buttons__WEBPACK_IMPORTED_MODULE_5__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_6__","_components_ui_Alert__WEBPACK_IMPORTED_MODULE_7__","done","fetchPermissionTemplates","permissionTemplates","permissionTemplate","templateId","reject","handlePermissionTemplateChange","htmlFor","label"],"mappings":"kMA8Ce,MAAMA,UAAuBC,EAAA,cAA5CC,kCACEC,KAAAC,iBAAmB,CAACC,EAAwBC,KAG1C,OAFsBD,EAAKE,YAAYC,SAASF,GAGvCH,KAAKM,MAAMC,yBAAyBL,EAAKM,MAAOL,GAEhDH,KAAKM,MAAMG,sBAAsBP,EAAKM,MAAOL,IAIxDH,KAAAU,kBAAoB,CAACC,EAA0BR,KAG7C,OAFsBQ,EAAMP,YAAYC,SAASF,GAGxCH,KAAKM,MAAMM,0BAA0BD,EAAME,KAAMV,GAEjDH,KAAKM,MAAMQ,uBAAuBH,EAAME,KAAMV,IAIzDH,KAAAe,uBAA0BZ,IACxBH,KAAKM,MAAMU,mBAAmBb,IAGhCJ,SAAM,MAAAkB,EACyDjB,KAAKM,MAA1DY,EADJD,EACIC,OAAQC,EADZF,EACYE,OAAQC,EADpBH,EACoBG,aAAcC,EADlCJ,EACkCI,MAAOC,EADzCL,EACyCK,YAC7C,IAAIC,EAAQC,EAAA,EAA+BxB,KAAKM,MAAMmB,UAAUC,WAClC,WAA1B1B,KAAKM,MAAMqB,aACbJ,EAAQK,IAAQL,EAAO,OAAQ,eAEjC,MAAMnB,EAAcyB,OAAAL,EAAA,EAAAK,CAA+BN,EAAO,iBAE1D,IAAIO,EAAQ,EACRC,EAAQ,EAUZ,MATe,UAAXb,IACFY,GAASX,EAAOa,OAChBD,GAASX,EAAeA,EAAaW,MAAQZ,EAAOa,QAEvC,WAAXd,IACFY,GAAST,EAAMW,OACfD,GAAST,EAAcA,EAAYS,MAAQV,EAAMW,QAIjDlC,EAAA,cAAAA,EAAA,cACEA,EAAA,cAACmC,EAAA,EAAW,CACVf,OAAQlB,KAAKM,MAAMY,OACnBC,OAAQnB,KAAKM,MAAMa,OACnBe,mBAAoBlC,KAAKe,uBACzBoB,cAAenC,KAAKU,kBACpB0B,aAAcpC,KAAKC,iBACnBG,YAAaA,EACbiC,MAAOrC,KAAKM,MAAM+B,MAClBC,mBAAoBtC,KAAKM,MAAMgC,mBAC/BjB,MAAOrB,KAAKM,MAAMe,OAClBvB,EAAA,cAACyC,EAAA,EAAU,CACTrB,OAAQlB,KAAKM,MAAMY,OACnBsB,SAAUxC,KAAKM,MAAMmC,eACrBC,SAAU1C,KAAKM,MAAMqC,cACrBN,MAAOrC,KAAKM,MAAM+B,SAGtBvC,EAAA,cAAC8C,EAAA,EAAU,CAACd,MAAOA,EAAOe,SAAU7C,KAAKM,MAAMwC,WAAYf,MAAOA,mCC3E3D,MAAMgB,UAAmBjD,EAAA,cAAxCC,kCACEC,KAAAgD,SAAU,EACVhD,KAAAiD,MAAe,CAAEC,oBAAoB,GAUrClD,KAAAmD,oBAAsB,KACpBnD,KAAKoD,SAAS,CAAEF,oBAAoB,KAGtClD,KAAAqD,yBAA2B,KACrBrD,KAAKgD,SACPhD,KAAKoD,SAAS,CAAEF,oBAAoB,KAdxCnD,oBACEC,KAAKgD,SAAU,EAGjBjD,uBACEC,KAAKgD,SAAU,EAajBjD,SAAM,MACI0B,EAAczB,KAAKM,MAAnBmB,UACA6B,EAAkB7B,EAAlB6B,cACFC,EACa,MAAjBD,GAAyBA,EAAcC,2BAEnCC,EAAc,CAAC,KAAM,MAAO,OAAOnD,SAASoB,EAAUC,WACxDG,OAAA4B,EAAA,EAAA5B,CAAU,oCACVA,OAAA4B,EAAA,EAAA5B,CAAU,2BAER6B,EACoB,QAAxBjC,EAAUC,WAAuBD,EAAUE,WACvCE,OAAA4B,EAAA,EAAA5B,CAAU,aAAcJ,EAAUE,WAAY,cAAeF,EAAUC,gBACvEiC,EAEN,OACE7D,EAAA,wBAAQ8D,UAAU,eAChB9D,EAAA,oBAAI8D,UAAU,cAAc/B,OAAA4B,EAAA,EAAA5B,CAAU,qBAErC7B,KAAKM,MAAMuD,SAAW/D,EAAA,mBAAG8D,UAAU,YAEnCL,GACCzD,EAAA,qBAAK8D,UAAU,gBACb9D,EAAA,cAACgE,EAAA,EAAM,CAACF,UAAU,oBAAoBG,QAAS/D,KAAKmD,qBACjDtB,OAAA4B,EAAA,EAAA5B,CAAU,iCAGZ7B,KAAKiD,MAAMC,oBACVpD,EAAA,cAACkE,EAAA,EAAa,CACZC,QAASjE,KAAKM,MAAM4D,YACpBC,QAASnE,KAAKqD,yBACde,aAAc3C,EAAU2C,aACxBC,QAAS5C,KAMjB3B,EAAA,qBAAK8D,UAAU,oBACb9D,EAAA,uBAAI0D,GACHE,GAAyB5D,EAAA,uBAAI4D,4BC/DzB,SAASY,EAAVC,GAA0E,IAAtC9C,EAAsC8C,EAAtC9C,UAAW0C,EAA2BI,EAA3BJ,QAASK,EAAkBD,EAAlBC,UAAkB,MAC9E9C,EAAcD,EAAdC,UACR,OACE5B,EAAA,cAAC2E,EAAA,EAAY,CACXC,kBAAmB7C,OAAA4B,EAAA,EAAA5B,CAAU,uCAAwCH,GACrEiD,OAAQ9C,OAAA4B,EAAA,EAAA5B,CAAwB,iCAAkCJ,EAAUZ,MAC5EsD,QAASA,EACTK,UAAWA,GACX1E,EAAA,cAAC8E,EAAA,EAAK,CAACC,QAAQ,WACZhD,OAAA4B,EAAA,EAAA5B,CAAU,+DAAgEH,IAE7E5B,EAAA,uBAAI+B,OAAA4B,EAAA,EAAA5B,CAAU,uDAAwDH,0cCf5E,MAKMoD,EAAqB,CAAEC,yBAAA,GAEdC,EAAA,QAAAnD,OAAAoD,EAAA,QAAApD,CAPS,CAACoB,EAADsB,KAAA,IAAiB9C,EAAjB8C,EAAiB9C,UAAjB,MAA4C,CAClEyD,YAAarD,OAAAsD,EAAA,eAAAtD,CAAeoB,GAC5BmB,aAAcvC,OAAAsD,EAAA,qBAAAtD,CAAqBoB,EAAOxB,EAAU2C,gBAOpDU,EAFa,CCcA,cAAkBhF,EAAA,cAG/BC,YAAYO,GACV8E,MAAM9E,GAHRN,KAAAgD,SAAU,EAuBVhD,KAAAqF,YAAc,KACRrF,KAAKgD,SACPhD,KAAKoD,SAAS,CAAES,SAAS,KAI7B7D,KAAAsF,mBAAqB,CAACC,EAAmBC,KAAuB,MACtD/D,EAAczB,KAAKM,MAAnBmB,UADsDgE,EAEhBzF,KAAKiD,MAA3C/B,EAFsDuE,EAEtDvE,OAAQmB,EAF8CoD,EAE9CpD,MAAOC,EAFuCmD,EAEvCnD,mBAEjBoD,EACO,WAAXxE,EACIyE,EAAA,EAAoC,CAClCC,WAAYnE,EAAUoE,IACtBC,EAAGzD,QAASsB,EACZxD,WAAYmC,EACZ8B,aAAc3C,EAAU2C,aACxB2B,EAAGR,IAELS,QAAQC,QAAQ,CAAEC,YAAQvC,EAAWtC,MAAO,KAE5C8E,EACO,UAAXjF,EACIyE,EAAA,EAAqC,CACnCC,WAAYnE,EAAUoE,IACtBC,EAAGzD,QAASsB,EACZxD,WAAYmC,EACZ8B,aAAc3C,EAAU2C,aACxB2B,EAAGP,IAELQ,QAAQC,QAAQ,CAAEC,YAAQvC,EAAWxC,OAAQ,KAEnD,OAAO6E,QAAQI,IAAI,CAACV,EAAUS,KAGhCnG,KAAAkE,YAAc,KACZlE,KAAKoD,SAAS,CAAES,SAAS,IAClB7D,KAAKsF,qBAAqBe,KAAK9B,IAAoC,IAAA+B,EAAAC,EAAAhC,EAAA,GAAlCiC,EAAkCF,EAAA,GAAnBG,EAAmBH,EAAA,GACpEtG,KAAKgD,SACPhD,KAAKoD,SAAS,CACZjC,OAAQsF,EAAetF,OACvBC,aAAcqF,EAAeP,OAC7BrC,SAAS,EACTxC,MAAOmF,EAAcnF,MACrBC,YAAakF,EAAcN,UAG9BlG,KAAKqF,cAGVrF,KAAA8C,WAAa,KAAK,MAAA4D,EACsB1G,KAAKiD,MAAnC3B,EADQoF,EACRpF,YAAaF,EADLsF,EACKtF,aAErB,OADApB,KAAKoD,SAAS,CAAES,SAAS,IAClB7D,KAAKsF,mBACVhE,EAAcA,EAAYqF,UAAY,EAAI,EAC1CvF,EAAeA,EAAauF,UAAY,EAAI,GAC5CN,KAAKO,IAAoC,IAAAC,EAAAN,EAAAK,EAAA,GAAlCJ,EAAkCK,EAAA,GAAnBJ,EAAmBI,EAAA,GACrC7G,KAAKgD,SACPhD,KAAKoD,SAAS0D,IAAA,IAAG3F,EAAH2F,EAAG3F,OAAQE,EAAXyF,EAAWzF,MAAX,MAAwB,CACpCF,OAAQ,IAAIA,KAAWsF,EAAetF,QACtCC,aAAcqF,EAAeP,OAC7BrC,SAAS,EACTxC,MAAO,IAAIA,KAAUmF,EAAcnF,OACnCC,YAAakF,EAAcN,WAG9BlG,KAAKqF,cAGVrF,KAAA+G,mBAAsB7F,IAChBlB,KAAKgD,SACPhD,KAAKoD,SAAS,CAAElC,UAAUlB,KAAKkE,cAInClE,KAAAgH,kBAAqB3E,IACfrC,KAAKgD,SACPhD,KAAKoD,SAAS,CAAEf,SAASrC,KAAKkE,cAIlClE,KAAAiH,uBAA0B3E,IACpBtC,KAAKgD,SACPhD,KAAKoD,SACFH,IAAD,CACEX,mBACEW,EAAMX,qBAAuBA,OAAqBqB,EAAYrB,IAElEtC,KAAKkE,cAKXlE,KAAAkH,qBAAuB,CAACvG,EAAeR,IAC9BH,KAAKiD,MAAM9B,OAAOgG,IAAIC,GAC3BA,EAAUvG,OAASF,EAChBkB,OAAAwF,OAAA,GAAMD,EAAS,CAAEhH,YAAa,IAAIgH,EAAUhH,YAAaD,KACxDiH,GAIRpH,KAAAsH,oBAAsB,CAACpH,EAAcC,IAC5BH,KAAKiD,MAAM5B,MAAM8F,IAAIC,GAC1BA,EAAU5G,QAAUN,EACjB2B,OAAAwF,OAAA,GAAMD,EAAS,CAAEhH,YAAa,IAAIgH,EAAUhH,YAAaD,KACxDiH,GAIRpH,KAAAuH,0BAA4B,CAAC5G,EAAeR,IACnCH,KAAKiD,MAAM9B,OAAOgG,IAAIC,GAC3BA,EAAUvG,OAASF,EAChBkB,OAAAwF,OAAA,GAAMD,EAAS,CAAEhH,YAAawB,IAAQwF,EAAUhH,YAAaD,KAC5DiH,GAIRpH,KAAAwH,yBAA2B,CAACtH,EAAcC,IACjCH,KAAKiD,MAAM5B,MAAM8F,IAAIC,GAC1BA,EAAU5G,QAAUN,EACjB2B,OAAAwF,OAAA,GAAMD,EAAS,CAAEhH,YAAawB,IAAQwF,EAAUhH,YAAaD,KAC5DiH,GAIRpH,KAAAc,uBAAyB,CAACH,EAAeR,IACnCH,KAAKgD,SACPhD,KAAKoD,SAAS,CACZS,SAAS,EACT1C,OAAQnB,KAAKkH,qBAAqBvG,EAAOR,KAEpCwF,EAAA,EACmB,CACtBC,WAAY5F,KAAKM,MAAMmB,UAAUoE,IACjC4B,UAAW9G,EACXR,aACAiE,aAAcpE,KAAKM,MAAMmB,UAAU2C,eAEpCiC,KAAKrG,KAAKqF,YAAa,KAClBrF,KAAKgD,SACPhD,KAAKoD,SAAS,CACZS,SAAS,EACT1C,OAAQnB,KAAKuH,0BAA0B5G,EAAOR,QAKjD6F,QAAQC,UAGjBjG,KAAAS,sBAAwB,CAACP,EAAcC,IACjCH,KAAKgD,SACPhD,KAAKoD,SAAS,CACZS,SAAS,EACTxC,MAAOrB,KAAKsH,oBAAoBpH,EAAMC,KAEjCwF,EAAA,EACkB,CACrBC,WAAY5F,KAAKM,MAAMmB,UAAUoE,IACjCrF,MAAON,EACPC,aACAiE,aAAcpE,KAAKM,MAAMmB,UAAU2C,eAEpCiC,KAAKrG,KAAKqF,YAAa,KAClBrF,KAAKgD,SACPhD,KAAKoD,SAAS,CACZS,SAAS,EACTxC,MAAOrB,KAAKwH,yBAAyBtH,EAAMC,QAK9C6F,QAAQC,UAGjBjG,KAAAY,0BAA4B,CAACD,EAAeR,IACtCH,KAAKgD,SACPhD,KAAKoD,SAAS,CACZS,SAAS,EACT1C,OAAQnB,KAAKuH,0BAA0B5G,EAAOR,KAEzCwF,EAAA,EACsB,CACzBC,WAAY5F,KAAKM,MAAMmB,UAAUoE,IACjC4B,UAAW9G,EACXR,aACAiE,aAAcpE,KAAKM,MAAMmB,UAAU2C,eAEpCiC,KAAKrG,KAAKqF,YAAa,KAClBrF,KAAKgD,SACPhD,KAAKoD,SAAS,CACZS,SAAS,EACT1C,OAAQnB,KAAKkH,qBAAqBvG,EAAOR,QAK5C6F,QAAQC,UAGjBjG,KAAAO,yBAA2B,CAACL,EAAcC,IACpCH,KAAKgD,SACPhD,KAAKoD,SAAS,CACZS,SAAS,EACTxC,MAAOrB,KAAKwH,yBAAyBtH,EAAMC,KAEtCwF,EAAA,EACqB,CACxBC,WAAY5F,KAAKM,MAAMmB,UAAUoE,IACjCrF,MAAON,EACPC,aACAiE,aAAcpE,KAAKM,MAAMmB,UAAU2C,eAEpCiC,KAAKrG,KAAKqF,YAAa,KAClBrF,KAAKgD,SACPhD,KAAKoD,SAAS,CACZS,SAAS,EACTxC,MAAOrB,KAAKsH,oBAAoBpH,EAAMC,QAKzC6F,QAAQC,UAGjBjG,KAAA0H,0BAA4B,KAAK,MAAAzG,EACKjB,KAAKM,MAAjCmB,EADuBR,EACvBQ,UAAW2C,EADYnD,EACZmD,aACfA,IACFpE,KAAKM,MAAMqH,kBAAkB,CAC3BrE,cAAazB,OAAAwF,OAAA,GAAO5F,EAAU6B,cAAa,CAAEsE,qCAAqC,MAEpF5H,KAAKM,MAAMyE,kBAAkBX,EAAayB,OAI9C7F,KAAA6H,uBAA0BlG,IACL,WAAfA,EACF3B,KAAK8H,iBAEL9H,KAAK+H,wBAIT/H,KAAAgI,oBAAsB,KACpBhI,KAAKM,MAAMqH,kBAAkB,CAAEhG,WAAY,WAC3CgE,EAAA,EAA4B3F,KAAKM,MAAMmB,UAAUoE,IAAK,UAAUQ,KAC9D,KACErG,KAAKkE,eAEP,KACElE,KAAKM,MAAMqH,kBAAkB,CAC3BhG,WAAY,eAMpB3B,KAAA+H,qBAAuB,KACrB/H,KAAKM,MAAMqH,kBAAkB,CAAEhG,WAAY,YAC3CgE,EAAA,EAA4B3F,KAAKM,MAAMmB,UAAUoE,IAAK,WAAWQ,KAC/D,KACErG,KAAKkE,eAEP,KACElE,KAAKM,MAAMqH,kBAAkB,CAC3BhG,WAAY,cAMpB3B,KAAA8H,eAAiB,KACX9H,KAAKgD,SACPhD,KAAKoD,SAAS,CAAE6E,YAAY,KAIhCjI,KAAAkI,gBAAkB,KACZlI,KAAKgD,SACPhD,KAAKoD,SAAS,CAAE6E,YAAY,KA1S9BjI,KAAKiD,MAAQ,CACXgF,YAAY,EACZ/G,OAAQ,MACRC,OAAQ,GACR0C,SAAS,EACTxB,MAAO,GACPhB,MAAO,IAIXtB,oBACEC,KAAKgD,SAAU,EACfhD,KAAKkE,cAGPnE,uBACEC,KAAKgD,SAAU,EA8RjBjD,SAAM,MAAAoI,EACgCnI,KAAKM,MAAjCmB,EADJ0G,EACI1G,UAAW2C,EADf+D,EACe/D,aACbgE,EACJ3G,EAAU6B,eAAiB7B,EAAU6B,cAAcsE,oCAErD,IAAIS,EASJ,OARIjE,IAAiBgE,IAEnBC,EADmBjE,EAAakE,SAAWlE,EAAakE,QAAQC,OAG3B,QAAnCvI,KAAKM,MAAMmB,UAAUC,YACpB0C,EAAaoE,sCAIhB1I,EAAA,qBAAK8D,UAAU,oBAAoB6E,GAAG,4BACpC3I,EAAA,cAAC4I,EAAAC,EAAM,CAACC,MAAO/G,OAAA4B,EAAA,EAAA5B,CAAU,sBAEzB/B,EAAA,cAACiD,EAAU,CACTtB,UAAWA,EACXyC,YAAalE,KAAKkE,YAClBL,QAAS7D,KAAKiD,MAAMY,UAEtB/D,EAAA,yBACEA,EAAA,cAAC+I,EAAA,EAAkB,CACjBT,iBAAkBA,EAClBxE,UAAU,mCACVkF,SAAU9I,KAAK6H,uBACflG,WAAYF,EAAUE,aAEvB0G,GAAkBjE,GACjBtE,EAAA,cAACiJ,EAAA,EAAsB,CACrBnF,UAAU,oBACVoF,sBAAuBhJ,KAAK0H,0BAC5BtD,aAAcA,IAGjBpE,KAAKiD,MAAMgF,YACVnI,EAAA,cAACwE,EAAuB,CACtB7C,UAAWA,EACX0C,QAASnE,KAAKkI,gBACd1D,UAAWxE,KAAKgI,uBAItBlI,EAAA,cAACD,EAAc,CACb4B,UAAWA,EACXP,OAAQlB,KAAKiD,MAAM/B,OACnBJ,uBAAwBd,KAAKc,uBAC7BL,sBAAuBT,KAAKS,sBAC5BU,OAAQnB,KAAKiD,MAAM9B,OACnBC,aAAcpB,KAAKiD,MAAM7B,aACzBqB,eAAgBzC,KAAK+G,mBACrBjE,WAAY9C,KAAK8C,WACjB9B,mBAAoBhB,KAAKiH,uBACzBtE,cAAe3C,KAAKgH,kBACpB3E,MAAOrC,KAAKiD,MAAMZ,MAClBzB,0BAA2BZ,KAAKY,0BAChCL,yBAA0BP,KAAKO,yBAC/B+B,mBAAoBtC,KAAKiD,MAAMX,mBAC/BjB,MAAOrB,KAAKiD,MAAM5B,MAClBC,YAAatB,KAAKiD,MAAM3B,YACxBK,WAAYF,EAAUE,mDCnahCsH,EAAAC,EAAAlE,EAAA,sBAAAmE,IAAA,IAAAC,EAAAH,EAAA,KAAAI,EAAAJ,EAAA,KAAAK,EAAAL,EAAA,KAmCe,SAASE,EAAM7I,GAC5B,OACE8I,EAAA,cAACC,EAAUxH,OAAAwF,OAAA,CACTzD,UAAW0F,EAAW,QAAS,CAC7BC,cAA8B,UAAfjJ,EAAMkJ,KACrBC,eAA+B,WAAfnJ,EAAMkJ,KACtBE,cAA8B,UAAfpJ,EAAMkJ,OAEvBG,QAAQ,EACRC,iBAAkBN,EAAW,gBAAiB,CAAEO,oBAAqBvJ,EAAMwJ,cACvExJ,IAtBV+I,EAAA,cAAyB,8cCEzB,MAAMU,EAAiBd,EAAAe,EAAA,KAAA3D,KAAA4C,EAAAgB,KAAA,WACjBC,EAAcrI,OAAAsI,EAAA,EAAAtI,CAAS,IAAMkI,GAC7BK,EAAiBvI,OAAAsI,EAAA,EAAAtI,CAAS,IAAMkI,EAAe1D,KAAKgE,IAAG,CAAOC,QAASD,EAAIE,cAC3EC,EAAa3I,OAAAsI,EAAA,EAAAtI,CAAS,IAAMkI,EAAe1D,KAAKgE,IAAG,CAAOC,QAASD,EAAII,UAE7E,SAASC,IACP,OAAOtB,EAAA,cAACuB,EAAA,EAAW,CAAC/G,UAAU,sCAAsCgH,UAAW,CAAEpB,KAAM,MAO1E,SAASqB,EAAOC,GAAA,IAAEC,EAAQD,EAARC,SAAUzK,EAAA0K,EAAAF,EAAA,cAGzC,MAAMG,EAAiBf,EAEjBgB,IAAY5K,EAAM4K,WAAYC,QAAQ7K,EAAM8K,OAClD,OACEhC,EAAA,cAAC6B,EAAcpJ,OAAAwF,OAAA,GAAK/G,EAAK,CAAE+K,cAAeX,EAAaQ,UAAWA,EAAWI,IAAKP,KAI/E,SAASR,EAAUjK,GAExB,MAAMiL,EAAoBnB,EAC1B,OAAOhB,EAAA,cAACmC,EAAiB1J,OAAAwF,OAAA,GAAK/G,EAAK,CAAE+K,cAAeX,KAI/C,SAASc,EAAYlL,GAC1B,OAAO8I,EAAA,cAACoB,EAAU3I,OAAAwF,OAAA,GAAK/G,qXCjBV,MAAMmL,UAAoBrC,EAAA,UAAzCrJ,kCACEC,KAAAgD,SAAU,EACVhD,KAAAiD,MAAe,CAAEyI,YAAY,GAU7B1L,KAAA2L,eAAiB,KACX3L,KAAKgD,SACPhD,KAAKoD,SAAS,CAAEsI,YAAY,KAIhC1L,KAAA4L,iBAAoBC,IACdA,IACFA,EAAMC,iBACND,EAAME,cAAcC,QAEtBhM,KAAKM,MAAM6D,WAGbnE,KAAAiM,iBAAoBJ,IAClBA,EAAMC,iBACN9L,KAAKkM,UAGPlM,KAAAmM,kBAAqBN,IACfA,IACFA,EAAMC,iBACND,EAAME,cAAcC,QAEtBhM,KAAKkM,UAGPlM,KAAAkM,OAAS,KACP,MAAME,EAASpM,KAAKM,MAAM+L,WACtBD,IACFpM,KAAKoD,SAAS,CAAEsI,YAAY,IAC5BU,EAAO/F,KAAKrG,KAAK2L,eAAgB3L,KAAK2L,kBAvC1C5L,oBACEC,KAAKgD,SAAU,EAGjBjD,uBACEC,KAAKgD,SAAU,EAsCjBjD,SACQ,MAAA+K,EAAA9K,KAAAM,MAAEgM,EAAmCxB,EAAnCwB,SAAU3H,EAAyBmG,EAAzBnG,OAAQR,EAAiB2G,EAAjB3G,QAAmBoI,GAAFzB,EAARuB,SAAUrB,EAAAF,EAAA,6CAC7C,OACE1B,EAAA,cAACoD,EAAA,EAAK3K,OAAAwF,OAAA,CAACoF,aAAc9H,EAAQ+H,eAAgBvI,GAAaoI,GACvDD,EAAS,CACRK,aAAc3M,KAAK4L,iBACnBgB,aAAc5M,KAAKiM,iBACnBY,cAAe7M,KAAKmM,kBACpBT,WAAY1L,KAAKiD,MAAMyI,kDC/FjCzC,EAAAC,EAAAlE,EAAA,sBAAAP,IAAA,IAAA2E,EAAAH,EAAA,KAAA6D,EAAA7D,EAAA,KAAA8D,EAAA9D,EAAA,KAAA+D,EAAA/D,EAAA,KAAAgE,EAAAhE,EAAA,GAyCe,MAAMxE,UAAiC2E,EAAA,cAAtDrJ,kCACEC,KAAAgD,SAAU,EAUVhD,KAAAkN,aAAe,KACb,MAAMd,EAASpM,KAAKM,MAAMkE,UAAUxE,KAAKM,MAAM6M,aAC/C,OAAIf,EACKA,EAAO/F,KAAKrG,KAAKM,MAAM6D,QAAS,aAEvCnE,KAAKM,MAAM6D,WAKfnE,KAAAoN,mBAAqB7I,IAA8D,IAA3DoI,EAA2DpI,EAA3DoI,aAAcC,EAA6CrI,EAA7CqI,aAAclB,EAA+BnH,EAA/BmH,WAA+B,MAAAzK,EAS7EjB,KAAKM,MAPPgM,EAF+ErL,EAE/EqL,SACA5H,EAH+EzD,EAG/EyD,kBACA2I,EAJ+EpM,EAI/EoM,eACA1I,EAL+E1D,EAK/E0D,OACA2I,EAN+ErM,EAM/EqM,kBACAC,EAP+EtM,EAO/EsM,cAP+EC,EAAAvM,EAQ/EwM,wBAR+E,IAAAD,EAQ5D3L,OAAAoL,EAAA,EAAApL,CAAU,UARkD2L,EAUjF,OACEpE,EAAA,sBAAMiD,SAAUO,GACdxD,EAAA,wBAAQxF,UAAU,cAChBwF,EAAA,wBAAKzE,GACJ2I,GAEHlE,EAAA,qBAAKxF,UAAU,cAAc0I,GAC7BlD,EAAA,wBAAQxF,UAAU,cAChBwF,EAAA,cAAC2D,EAAA,EAAe,CAACnJ,UAAU,eAAeC,QAAS6H,IACnDtC,EAAA,cAAC4D,EAAA,EAAY,CACXU,WAAW,EACX9J,UAAW2J,EAAgB,kBAAe5J,EAC1CgK,SAAUjC,GAAc2B,GACvB3I,GAEH0E,EAAA,cAAC4D,EAAA,EAAe,CAACW,SAAUjC,EAAY3H,QAAS4I,GAC7Cc,MA5CX1N,oBACEC,KAAKgD,SAAU,EAGjBjD,uBACEC,KAAKgD,SAAU,EA8CjBjD,SAAM,MAAAoI,EAC0CnI,KAAKM,MAC7CiM,EAAa,CAAE5H,OAFjBwD,EACIxD,OACqBR,QAFzBgE,EACYhE,QACsB2F,WAFlC3B,EACqB2B,WACyBN,KAF9CrB,EACiCqB,MAErC,OACEJ,EAAA,cAAC0D,EAAA,EAAWjL,OAAAwF,OAAA,CAACgF,SAAUrM,KAAKkN,cAAkBX,GAC3CvM,KAAKoN,+ZChEC,SAASxK,EAAWkI,GAAiC,IAAA8C,EAAnB9C,EAAZ+C,aAA+B,IAAAD,KAAjBtN,EAAA0K,EAAAF,EAAA,WACjD,MAgBMgD,EAAUxN,EAAMyB,OAASzB,EAAMyB,MAAQzB,EAAMwB,MAE7CiM,EACJ3E,EAAA,mBAAGxF,UAAU,cAAcoK,KAAK,IAAIjK,QAnBd8H,IACtBA,EAAMC,iBACND,EAAME,cAAcC,OAChB1L,EAAMuC,UACRvC,EAAMuC,aAgBLhB,OAAAoM,EAAA,EAAApM,CAAU,cAITqM,EACJ9E,EAAA,mBAAGxF,UAAU,cAAcoK,KAAK,IAAIjK,QAjBhB8H,IACpBA,EAAMC,iBACND,EAAME,cAAcC,OAChB1L,EAAM6N,QACR7N,EAAM6N,WAcLtM,OAAAoM,EAAA,EAAApM,CAAU,WAIT+B,EAAYwK,EAChB,8BACA,CAAEC,eAAgBR,GAClBvN,EAAMsD,WAGR,IAAI0K,EAQJ,OANIhO,EAAMiO,YAAcjO,EAAM6N,OAC5BG,EAAOJ,EACEJ,GAAWxN,EAAMuC,WAC1ByL,EAAOP,GAIP3E,EAAA,wBAAQxF,UAAWA,GAChB/B,OAAAoM,EAAA,EAAApM,CACC,eACAA,OAAA2M,EAAA,cAAA3M,CAAcvB,EAAMwB,MAAO,MAAO,MAClCD,OAAA2M,EAAA,cAAA3M,CAAcvB,EAAMyB,MAAO,MAAO,OAEnCuM,EACAhO,EAAMuD,SAAWuF,EAAA,cAAC2D,EAAA,EAAe,CAACnJ,UAAU,qECxFnD,IAAA6K,EAAcxF,EAAQ,KAEtB,iBAAAwF,MAAA,EAA4CC,EAAAC,EAASF,EAAA,MAOrD,IAAAG,EAAA,CAAeC,KAAA,EAEfC,eAPAA,EAQAC,gBAAApL,GAEasF,EAAQ,IAARA,CAAoEwF,EAAAG,GAEjFH,EAAAO,SAAAN,EAAAO,QAAAR,EAAAO,8BCjBAN,EAAAO,QAA2BhG,EAAQ,IAARA,EAAoE,IAE/FiG,KAAA,CAAcR,EAAAC,EAAS,00PAA00P,4IC4Bj2P,MAAMQ,EAActN,OAAAuN,EAAA,EAAAvN,CAAgBwN,EAAA,GAcrB,MAAMC,UAAiCxP,EAAA,cAAtDC,kCACEC,KAAAgD,SAAU,EACVhD,KAAAiD,MAAe,CAAE4K,OAAO,GAExB9N,oBACEC,KAAKgD,SAAU,EACfnB,OAAA0N,EAAA,EAAA1N,CAAkB,mBAAmBwE,KACnC,KACMrG,KAAKgD,SACPhD,KAAKoD,SAAS,CAAEyK,OAAO,KAG3B,QAIJ9N,uBACEC,KAAKgD,SAAU,EAGjBjD,SACE,MAAM4E,EAAS9C,OAAA4B,EAAA,EAAA5B,CAAU,4CAEzB,OAAK7B,KAAKiD,MAAM4K,MAKd/N,EAAA,cAACqJ,EAAA,EAAK,CACJsD,aAAc9H,EACdmF,WAAY9J,KAAKM,MAAMkP,YACvB9C,eAAgB1M,KAAKM,MAAM6D,QAC3BsL,2BAA2B,EAC3BjG,KAAM,UACN1J,EAAA,qBAAK8D,UAAU,cACb9D,EAAA,wBAAK6E,IAEP7E,EAAA,cAACqP,EAAW,CACVO,SAAU1P,KAAKM,MAAMqP,cACrBC,gBAAiB5P,KAAKM,MAAM8D,aAAayB,IACzCgK,kBAAmB7P,KAAKM,MAAMuP,mBAC7BtL,IAAA,IACC8H,EADD9H,EACC8H,SACAyD,EAFDvL,EAECuL,kBACAC,EAHDxL,EAGCwL,iBACAC,EAJDzL,EAICyL,iBACAC,EALD1L,EAKC0L,YACAC,EAND3L,EAMC2L,mBAND,OAQCpQ,EAAA,sBAAM2I,GAAG,8BAA8B4D,SAAUA,GAC/CvM,EAAA,qBAAK8D,UAAU,8BACb9D,EAAA,qBAAK8D,UAAU,sBACb9D,EAAA,mBAAG8D,UAAU,iBACX9D,EAAA,cAACqQ,EAAA,iBAAgB,CACfC,eAAgBvO,OAAA4B,EAAA,EAAA5B,CAAU,oCAC1B4G,GAAG,6BACH4H,OAAQ,CACNC,IAAKxQ,EAAA,4BAASE,KAAKM,MAAM8D,aAAavD,UAI5Cf,EAAA,cAACyQ,EAAA,EAA6B,OAE/BR,IACDjQ,EAAA,qBAAK8D,UAAU,kBAAkBqM,MAEnCnQ,EAAA,wBAAQ8D,UAAU,6DACfoM,KAAsBlQ,EAAA,2BACvBA,EAAA,yBACEA,EAAA,cAAC0Q,EAAA,EAAe,CAAC3M,QAASiM,IACzBI,IACDpQ,EAAA,cAACgE,EAAA,EAAe,CAACC,QAAS/D,KAAKM,MAAM6D,SAClCtC,OAAA4B,EAAA,EAAA5B,CAAU,iBAhDlB,qCCpEboH,EAAAC,EAAAlE,EAAA,sBAAAyL,IA0Ce,MAAMA,UAA+B3Q,EAAA,cAApDC,kCACEC,KAAAgD,SAAU,EACVhD,KAAAiD,MAAe,CAAE4M,kBAAmB,GAAIa,0BAA0B,GAWlE1Q,KAAA2Q,uBAAyB,IAChB9O,OAAA+O,EAAA,EAAA/O,GAAuBwE,KAAKwJ,IAC7B7P,KAAKgD,SACPhD,KAAKoD,SAAS,CAAEyM,wBAKtB7P,KAAA6Q,mBAAqB,KACnB7Q,KAAKoD,SAAS,CAAEsN,0BAA0B,KAG5C1Q,KAAA8Q,oCAAsC,KAChC9Q,KAAKgD,SACPhD,KAAKoD,SAAS,CAAEsN,0BAA0B,KAI9C1Q,KAAA0H,0BAA4B,KAC1B1H,KAAKM,MAAM0I,wBACXhJ,KAAK8Q,uCA7BP/Q,oBACEC,KAAKgD,SAAU,EACfhD,KAAK2Q,yBAGP5Q,uBACEC,KAAKgD,SAAU,EA0BjBjD,SACE,IAAK8B,OAAA4B,EAAA,EAAA5B,CAAW,8BACd,OAAO,KAFL,MAAA4D,EAKoDzF,KAAKiD,MAArD4M,EALJpK,EAKIoK,kBAAmBa,EALvBjL,EAKuBiL,yBACrBK,EAAgBlB,EAAkB,IAAMA,EAAkB,GAAGmB,MAEnE,OACElR,EAAA,cAAAA,EAAA,cACEA,EAAA,cAACmR,EAAA,EAAS,CACRrN,UAAW5D,KAAKM,MAAMsD,UACtBgF,MAAO/G,OAAA4B,EAAA,EAAA5B,CAAU,8BACjBqP,eACoBvN,IAAlBoN,GACEjR,EAAA,cAACqQ,EAAA,iBAAgB,CACfC,eAAgBvO,OAAA4B,EAAA,EAAA5B,CAAU,wBAC1B4G,GAAG,uBACH4H,OAAQ,CACNW,MAAOlR,EAAA,sBAAM8D,UAAU,OAAO/B,OAAAL,EAAA,EAAAK,CAAYkP,QAKlDjR,EAAA,cAAAA,EAAA,cACEA,EAAA,cAACyQ,EAAA,EAA6B,MAC9BzQ,EAAA,qBAAK8D,UAAU,mBACb9D,EAAA,cAACgE,EAAA,EAAM,CAACF,UAAU,0BAA0BG,QAAS/D,KAAK6Q,oBACvDhP,OAAA4B,EAAA,EAAA5B,CAAU,8BAEb/B,EAAA,cAACmF,EAAA,KAAI,CAACrB,UAAU,cAAcuN,OAAO,SAASC,GAAG,kBAC9CvP,OAAA4B,EAAA,EAAA5B,CAAU,kCAKlB6O,GACC5Q,EAAA,cAACwP,EAAwB,CACvBE,YAAaxP,KAAKM,MAAMkP,YACxBrL,QAASnE,KAAK8Q,oCACdnB,cAAe3P,KAAK0H,0BACpBtD,aAAcpE,KAAKM,MAAM8D,aACzByL,kBAAmBA,yCCxH/B5G,EAAAC,EAAAlE,EAAA,sBAAA6D,IAAA,IAAAO,EAAAH,EAAA,KAAAmF,EAAAnF,EAAA,KAAAoI,EAAApI,EAAA,GA+Be,MAAMJ,UAA2BO,EAAA,cAAhDrJ,kCACEC,KAAAsR,kBAAqBzF,IACnBA,EAAMC,iBACND,EAAME,cAAcC,OACpBhM,KAAKM,MAAMwI,SAAS,WAGtB9I,KAAAuR,mBAAsB1F,IACpBA,EAAMC,iBACND,EAAME,cAAcC,OACpBhM,KAAKM,MAAMwI,SAAS,YAGtB/I,SACE,OACEqJ,EAAA,qBAAKxF,UAAWwK,EAAW,oBAAqBpO,KAAKM,MAAMsD,YACzDwF,EAAA,mBACExF,UAAU,6DACVoK,KAAK,IACLvF,GAAG,oBACH1E,QAAS/D,KAAKsR,mBACdlI,EAAA,mBACExF,UAAWwK,EAAW,aAAc,CAClCoD,aAAwC,WAA1BxR,KAAKM,MAAMqB,eAG7ByH,EAAA,sBAAMxF,UAAU,eAAe/B,OAAAwP,EAAA,EAAAxP,CAAU,uBAE1C7B,KAAKM,MAAMmR,aACVrI,EAAA,sBAAMxF,UAAU,2BACb/B,OAAAwP,EAAA,EAAAxP,CAAU,uCAId7B,KAAKM,MAAM8H,iBACVgB,EAAA,cAAAA,EAAA,cACEA,EAAA,mBACExF,UAAU,8EACVoK,KAAK,IACLvF,GAAG,qBACH1E,QAAS/D,KAAKuR,oBACdnI,EAAA,mBACExF,UAAWwK,EAAW,aAAc,CAClCoD,aAAwC,YAA1BxR,KAAKM,MAAMqB,eAG7ByH,EAAA,sBAAMxF,UAAU,eAAe/B,OAAAwP,EAAA,EAAAxP,CAAU,wBAE1C7B,KAAKM,MAAMmR,aACVrI,EAAA,sBAAMxF,UAAU,2BACb/B,OAAAwP,EAAA,EAAAxP,CAAU,yCAKjBuH,EAAA,cAAAA,EAAA,cACEA,EAAA,sBACExF,UAAU,0EACV6E,GAAG,sBACHW,EAAA,mBACExF,UAAWwK,EAAW,aAAc,CAClCoD,aAAwC,YAA1BxR,KAAKM,MAAMqB,eAG7ByH,EAAA,sBAAMxF,UAAU,eAAe/B,OAAAwP,EAAA,EAAAxP,CAAU,wBAE1C7B,KAAKM,MAAMmR,aACVrI,EAAA,sBAAMxF,UAAU,2BACb/B,OAAAwP,EAAA,EAAAxP,CAAU,8ECnG3BoH,EAAAC,EAAAlE,EAAA,sBAAAhB,IAAA,IAAAoF,EAAAH,EAAA,KAAAyI,EAAAzI,EAAA,KAAA0I,EAAA1I,EAAA,KAAA2I,EAAA3I,EAAA,KAAA4I,EAAA5I,EAAA,KAAA6I,EAAA7I,EAAA,KAAA8I,EAAA9I,EAAA,GAAA+I,EAAA/I,EAAA,KA0Ce,MAAMjF,UAAsBoF,EAAA,cAA3CrJ,kCACEC,KAAAgD,SAAU,EACVhD,KAAAiD,MAAe,CAAEgP,MAAM,EAAOpO,SAAS,GAWvC7D,KAAAkS,yBAA2B,KACzBrQ,OAAA6P,EAAA,EAAA7P,CAAuB7B,KAAKM,MAAM8D,cAAciC,KAC9C9B,IAA4B,IAAzB4N,EAAyB5N,EAAzB4N,oBACGnS,KAAKgD,SACPhD,KAAKoD,SAAS,CAAES,SAAS,EAAOsO,yBAGpC,KACMnS,KAAKgD,SACPhD,KAAKoD,SAAS,CAAES,SAAS,OAMjC7D,KAAAkN,aAAe,IACTlN,KAAKiD,MAAMmP,mBACNvQ,OAAA6P,EAAA,EAAA7P,CAAuB,CAC5BuC,aAAcpE,KAAKM,MAAM8D,aACzBwB,WAAY5F,KAAKM,MAAM+D,QAAQwB,IAC/BwM,WAAYrS,KAAKiD,MAAMmP,qBACtB/L,KAAK,KACFrG,KAAKgD,UACHhD,KAAKM,MAAM2D,SACbjE,KAAKM,MAAM2D,UAEbjE,KAAKoD,SAAS,CAAE6O,MAAM,OAInBjM,QAAQsM,YAAO3O,GAI1B3D,KAAAuS,+BAAiCjM,IAAiC,IAA9B8E,EAA8B9E,EAA9B8E,MAClCpL,KAAKoD,SAAS,CAAEgP,mBAAoBhH,KA5CtCrL,oBACEC,KAAKgD,SAAU,EACfhD,KAAKkS,2BAGPnS,uBACEC,KAAKgD,SAAU,EAyCjBjD,SACE,MAAM4E,EAAS9C,OAAAkQ,EAAA,EAAAlQ,CACb,sCACA7B,KAAKM,MAAM+D,QAAQxD,MAGrB,OACEuI,EAAA,cAACwI,EAAA,EAAW,CACVjN,OAAQA,EACRR,QAASnE,KAAKM,MAAM6D,QACpBkI,SAAUrM,KAAKkN,aACf1D,KAAK,SACJ5C,IAAA,IAAG+F,EAAH/F,EAAG+F,aAAcC,EAAjBhG,EAAiBgG,aAAclB,EAA/B9E,EAA+B8E,WAA/B,OACCtC,EAAA,sBAAMX,GAAG,0CAA0C4D,SAAUO,GAC3DxD,EAAA,wBAAQxF,UAAU,cAChBwF,EAAA,wBAAKzE,IAGPyE,EAAA,qBAAKxF,UAAU,cACZ5D,KAAKiD,MAAMgP,KACV7I,EAAA,cAAC4I,EAAA,EAAK,CAACnN,QAAQ,WAAWhD,OAAAkQ,EAAA,EAAAlQ,CAAU,yCAEpCuH,EAAA,cAAAA,EAAA,cACGpJ,KAAKiD,MAAMY,QACVuF,EAAA,mBAAGxF,UAAU,YAEbwF,EAAA,qBAAKxF,UAAU,eACbwF,EAAA,uBAAOoJ,QAAQ,gCACZ3Q,OAAAkQ,EAAA,EAAAlQ,CAAU,YACXuH,EAAA,oBAAIxF,UAAU,aAAW,MAE1B5D,KAAKiD,MAAMkP,qBACV/I,EAAA,cAACyI,EAAA,EAAM,CACL3G,WAAW,EACXzC,GAAG,+BACHK,SAAU9I,KAAKuS,+BACf3D,QAAS5O,KAAKiD,MAAMkP,oBAAoBhL,IAAIiL,IAAkB,CAC5DK,MAAOL,EAAmBvR,KAC1BuK,MAAOgH,EAAmB3J,MAE5B2C,MAAOpL,KAAKiD,MAAMmP,wBAShChJ,EAAA,wBAAQxF,UAAU,cAChBwF,EAAA,cAACuI,EAAA,EAAe,CAAC/N,UAAU,eAAeC,QAAS6H,KACjD1L,KAAKiD,MAAMgP,MACX7I,EAAA,cAAC0I,EAAA,EAAY,CAACnE,SAAUjC,IAAe1L,KAAKiD,MAAMmP,oBAC/CvQ,OAAAkQ,EAAA,EAAAlQ,CAAU,UAGfuH,EAAA,cAAC0I,EAAA,EAAe,CAAC/N,QAAS4I,GACvB9K,OAAAkQ,EAAA,EAAAlQ,CAAU7B,KAAKiD,MAAMgP,KAAO,QAAU","file":"js/317.m.10c9e63e.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { without } from 'lodash';\nimport SearchForm from '../../shared/components/SearchForm';\nimport HoldersList from '../../shared/components/HoldersList';\nimport ListFooter from '../../../../components/controls/ListFooter';\nimport { PERMISSIONS_ORDER_BY_QUALIFIER, convertToPermissionDefinitions } from '../../utils';\n\ninterface Props {\n  component: T.Component;\n  filter: string;\n  grantPermissionToGroup: (group: string, permission: string) => Promise<void>;\n  grantPermissionToUser: (user: string, permission: string) => Promise<void>;\n  groups: T.PermissionGroup[];\n  groupsPaging?: T.Paging;\n  onLoadMore: () => void;\n  onFilterChange: (filter: string) => void;\n  onPermissionSelect: (permissions?: string) => void;\n  onQueryChange: (query: string) => void;\n  query: string;\n  revokePermissionFromGroup: (group: string, permission: string) => Promise<void>;\n  revokePermissionFromUser: (user: string, permission: string) => Promise<void>;\n  selectedPermission?: string;\n  users: T.PermissionUser[];\n  usersPaging?: T.Paging;\n  visibility?: T.Visibility;\n}\n\nexport default class AllHoldersList extends React.PureComponent<Props> {\n  handleToggleUser = (user: T.PermissionUser, permission: string) => {\n    const hasPermission = user.permissions.includes(permission);\n\n    if (hasPermission) {\n      return this.props.revokePermissionFromUser(user.login, permission);\n    } else {\n      return this.props.grantPermissionToUser(user.login, permission);\n    }\n  };\n\n  handleToggleGroup = (group: T.PermissionGroup, permission: string) => {\n    const hasPermission = group.permissions.includes(permission);\n\n    if (hasPermission) {\n      return this.props.revokePermissionFromGroup(group.name, permission);\n    } else {\n      return this.props.grantPermissionToGroup(group.name, permission);\n    }\n  };\n\n  handleSelectPermission = (permission?: string) => {\n    this.props.onPermissionSelect(permission);\n  };\n\n  render() {\n    const { filter, groups, groupsPaging, users, usersPaging } = this.props;\n    let order = PERMISSIONS_ORDER_BY_QUALIFIER[this.props.component.qualifier];\n    if (this.props.visibility === 'public') {\n      order = without(order, 'user', 'codeviewer');\n    }\n    const permissions = convertToPermissionDefinitions(order, 'projects_role');\n\n    let count = 0;\n    let total = 0;\n    if (filter !== 'users') {\n      count += groups.length;\n      total += groupsPaging ? groupsPaging.total : groups.length;\n    }\n    if (filter !== 'groups') {\n      count += users.length;\n      total += usersPaging ? usersPaging.total : users.length;\n    }\n\n    return (\n      <>\n        <HoldersList\n          filter={this.props.filter}\n          groups={this.props.groups}\n          onSelectPermission={this.handleSelectPermission}\n          onToggleGroup={this.handleToggleGroup}\n          onToggleUser={this.handleToggleUser}\n          permissions={permissions}\n          query={this.props.query}\n          selectedPermission={this.props.selectedPermission}\n          users={this.props.users}>\n          <SearchForm\n            filter={this.props.filter}\n            onFilter={this.props.onFilterChange}\n            onSearch={this.props.onQueryChange}\n            query={this.props.query}\n          />\n        </HoldersList>\n        <ListFooter count={count} loadMore={this.props.onLoadMore} total={total} />\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ApplyTemplate from './ApplyTemplate';\nimport { Button } from '../../../../components/ui/buttons';\nimport { translate } from '../../../../helpers/l10n';\n\ninterface Props {\n  component: T.Component;\n  loadHolders: () => void;\n  loading: boolean;\n}\n\ninterface State {\n  applyTemplateModal: boolean;\n}\n\nexport default class PageHeader extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { applyTemplateModal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleApplyTemplate = () => {\n    this.setState({ applyTemplateModal: true });\n  };\n\n  handleApplyTemplateClose = () => {\n    if (this.mounted) {\n      this.setState({ applyTemplateModal: false });\n    }\n  };\n\n  render() {\n    const { component } = this.props;\n    const { configuration } = component;\n    const canApplyPermissionTemplate =\n      configuration != null && configuration.canApplyPermissionTemplate;\n\n    const description = ['VW', 'SVW', 'APP'].includes(component.qualifier)\n      ? translate('roles.page.description_portfolio')\n      : translate('roles.page.description2');\n\n    const visibilityDescription =\n      component.qualifier === 'TRK' && component.visibility\n        ? translate('visibility', component.visibility, 'description', component.qualifier)\n        : undefined;\n\n    return (\n      <header className=\"page-header\">\n        <h1 className=\"page-title\">{translate('permissions.page')}</h1>\n\n        {this.props.loading && <i className=\"spinner\" />}\n\n        {canApplyPermissionTemplate && (\n          <div className=\"page-actions\">\n            <Button className=\"js-apply-template\" onClick={this.handleApplyTemplate}>\n              {translate('projects_role.apply_template')}\n            </Button>\n\n            {this.state.applyTemplateModal && (\n              <ApplyTemplate\n                onApply={this.props.loadHolders}\n                onClose={this.handleApplyTemplateClose}\n                organization={component.organization}\n                project={component}\n              />\n            )}\n          </div>\n        )}\n\n        <div className=\"page-description\">\n          <p>{description}</p>\n          {visibilityDescription && <p>{visibilityDescription}</p>}\n        </div>\n      </header>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConfirmModal from '../../../../components/controls/ConfirmModal';\nimport { translate, translateWithParameters } from '../../../../helpers/l10n';\nimport { Alert } from '../../../../components/ui/Alert';\n\ninterface Props {\n  component: {\n    name: string;\n    qualifier: string;\n  };\n  onClose: () => void;\n  onConfirm: () => void;\n}\n\nexport default function PublicProjectDisclaimer({ component, onClose, onConfirm }: Props) {\n  const { qualifier } = component;\n  return (\n    <ConfirmModal\n      confirmButtonText={translate('projects_role.turn_project_to_public', qualifier)}\n      header={translateWithParameters('projects_role.turn_x_to_public', component.name)}\n      onClose={onClose}\n      onConfirm={onConfirm}>\n      <Alert variant=\"warning\">\n        {translate('projects_role.are_you_sure_to_turn_project_to_public.warning', qualifier)}\n      </Alert>\n      <p>{translate('projects_role.are_you_sure_to_turn_project_to_public', qualifier)}</p>\n    </ConfirmModal>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport App from './App';\nimport { getCurrentUser, getOrganizationByKey, Store } from '../../../../store/rootReducer';\nimport { fetchOrganization } from '../../../../store/rootActions';\n\ninterface OwnProps {\n  component: T.Component;\n  onComponentChange: (changes: Partial<T.Component>) => void;\n}\n\nconst mapStateToProps = (state: Store, { component }: OwnProps) => ({\n  currentUser: getCurrentUser(state),\n  organization: getOrganizationByKey(state, component.organization)\n});\n\nconst mapDispatchToProps = { fetchOrganization };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport { without } from 'lodash';\nimport AllHoldersList from './AllHoldersList';\nimport PageHeader from './PageHeader';\nimport PublicProjectDisclaimer from './PublicProjectDisclaimer';\nimport UpgradeOrganizationBox from '../../../create/components/UpgradeOrganizationBox';\nimport VisibilitySelector from '../../../../components/common/VisibilitySelector';\nimport * as api from '../../../../api/permissions';\nimport { translate } from '../../../../helpers/l10n';\nimport '../../styles.css';\n\ninterface Props {\n  component: T.Component;\n  fetchOrganization: (organization: string) => void;\n  onComponentChange: (changes: Partial<T.Component>) => void;\n  organization?: T.Organization;\n}\n\ninterface State {\n  disclaimer: boolean;\n  filter: string;\n  groups: T.PermissionGroup[];\n  groupsPaging?: T.Paging;\n  loading: boolean;\n  query: string;\n  selectedPermission?: string;\n  users: T.PermissionUser[];\n  usersPaging?: T.Paging;\n}\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      disclaimer: false,\n      filter: 'all',\n      groups: [],\n      loading: true,\n      query: '',\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadHolders();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  loadUsersAndGroups = (userPage?: number, groupsPage?: number) => {\n    const { component } = this.props;\n    const { filter, query, selectedPermission } = this.state;\n\n    const getUsers: Promise<{ paging?: T.Paging; users: T.PermissionUser[] }> =\n      filter !== 'groups'\n        ? api.getPermissionsUsersForComponent({\n            projectKey: component.key,\n            q: query || undefined,\n            permission: selectedPermission,\n            organization: component.organization,\n            p: userPage\n          })\n        : Promise.resolve({ paging: undefined, users: [] });\n\n    const getGroups: Promise<{ paging?: T.Paging; groups: T.PermissionGroup[] }> =\n      filter !== 'users'\n        ? api.getPermissionsGroupsForComponent({\n            projectKey: component.key,\n            q: query || undefined,\n            permission: selectedPermission,\n            organization: component.organization,\n            p: groupsPage\n          })\n        : Promise.resolve({ paging: undefined, groups: [] });\n\n    return Promise.all([getUsers, getGroups]);\n  };\n\n  loadHolders = () => {\n    this.setState({ loading: true });\n    return this.loadUsersAndGroups().then(([usersResponse, groupsResponse]) => {\n      if (this.mounted) {\n        this.setState({\n          groups: groupsResponse.groups,\n          groupsPaging: groupsResponse.paging,\n          loading: false,\n          users: usersResponse.users,\n          usersPaging: usersResponse.paging\n        });\n      }\n    }, this.stopLoading);\n  };\n\n  onLoadMore = () => {\n    const { usersPaging, groupsPaging } = this.state;\n    this.setState({ loading: true });\n    return this.loadUsersAndGroups(\n      usersPaging ? usersPaging.pageIndex + 1 : 1,\n      groupsPaging ? groupsPaging.pageIndex + 1 : 1\n    ).then(([usersResponse, groupsResponse]) => {\n      if (this.mounted) {\n        this.setState(({ groups, users }) => ({\n          groups: [...groups, ...groupsResponse.groups],\n          groupsPaging: groupsResponse.paging,\n          loading: false,\n          users: [...users, ...usersResponse.users],\n          usersPaging: usersResponse.paging\n        }));\n      }\n    }, this.stopLoading);\n  };\n\n  handleFilterChange = (filter: string) => {\n    if (this.mounted) {\n      this.setState({ filter }, this.loadHolders);\n    }\n  };\n\n  handleQueryChange = (query: string) => {\n    if (this.mounted) {\n      this.setState({ query }, this.loadHolders);\n    }\n  };\n\n  handlePermissionSelect = (selectedPermission?: string) => {\n    if (this.mounted) {\n      this.setState(\n        (state: State) => ({\n          selectedPermission:\n            state.selectedPermission === selectedPermission ? undefined : selectedPermission\n        }),\n        this.loadHolders\n      );\n    }\n  };\n\n  addPermissionToGroup = (group: string, permission: string) => {\n    return this.state.groups.map(candidate =>\n      candidate.name === group\n        ? { ...candidate, permissions: [...candidate.permissions, permission] }\n        : candidate\n    );\n  };\n\n  addPermissionToUser = (user: string, permission: string) => {\n    return this.state.users.map(candidate =>\n      candidate.login === user\n        ? { ...candidate, permissions: [...candidate.permissions, permission] }\n        : candidate\n    );\n  };\n\n  removePermissionFromGroup = (group: string, permission: string) => {\n    return this.state.groups.map(candidate =>\n      candidate.name === group\n        ? { ...candidate, permissions: without(candidate.permissions, permission) }\n        : candidate\n    );\n  };\n\n  removePermissionFromUser = (user: string, permission: string) => {\n    return this.state.users.map(candidate =>\n      candidate.login === user\n        ? { ...candidate, permissions: without(candidate.permissions, permission) }\n        : candidate\n    );\n  };\n\n  grantPermissionToGroup = (group: string, permission: string) => {\n    if (this.mounted) {\n      this.setState({\n        loading: true,\n        groups: this.addPermissionToGroup(group, permission)\n      });\n      return api\n        .grantPermissionToGroup({\n          projectKey: this.props.component.key,\n          groupName: group,\n          permission,\n          organization: this.props.component.organization\n        })\n        .then(this.stopLoading, () => {\n          if (this.mounted) {\n            this.setState({\n              loading: false,\n              groups: this.removePermissionFromGroup(group, permission)\n            });\n          }\n        });\n    }\n    return Promise.resolve();\n  };\n\n  grantPermissionToUser = (user: string, permission: string) => {\n    if (this.mounted) {\n      this.setState({\n        loading: true,\n        users: this.addPermissionToUser(user, permission)\n      });\n      return api\n        .grantPermissionToUser({\n          projectKey: this.props.component.key,\n          login: user,\n          permission,\n          organization: this.props.component.organization\n        })\n        .then(this.stopLoading, () => {\n          if (this.mounted) {\n            this.setState({\n              loading: false,\n              users: this.removePermissionFromUser(user, permission)\n            });\n          }\n        });\n    }\n    return Promise.resolve();\n  };\n\n  revokePermissionFromGroup = (group: string, permission: string) => {\n    if (this.mounted) {\n      this.setState({\n        loading: true,\n        groups: this.removePermissionFromGroup(group, permission)\n      });\n      return api\n        .revokePermissionFromGroup({\n          projectKey: this.props.component.key,\n          groupName: group,\n          permission,\n          organization: this.props.component.organization\n        })\n        .then(this.stopLoading, () => {\n          if (this.mounted) {\n            this.setState({\n              loading: false,\n              groups: this.addPermissionToGroup(group, permission)\n            });\n          }\n        });\n    }\n    return Promise.resolve();\n  };\n\n  revokePermissionFromUser = (user: string, permission: string) => {\n    if (this.mounted) {\n      this.setState({\n        loading: true,\n        users: this.removePermissionFromUser(user, permission)\n      });\n      return api\n        .revokePermissionFromUser({\n          projectKey: this.props.component.key,\n          login: user,\n          permission,\n          organization: this.props.component.organization\n        })\n        .then(this.stopLoading, () => {\n          if (this.mounted) {\n            this.setState({\n              loading: false,\n              users: this.addPermissionToUser(user, permission)\n            });\n          }\n        });\n    }\n    return Promise.resolve();\n  };\n\n  handleOrganizationUpgrade = () => {\n    const { component, organization } = this.props;\n    if (organization) {\n      this.props.onComponentChange({\n        configuration: { ...component.configuration, canUpdateProjectVisibilityToPrivate: true }\n      });\n      this.props.fetchOrganization(organization.key);\n    }\n  };\n\n  handleVisibilityChange = (visibility: string) => {\n    if (visibility === 'public') {\n      this.openDisclaimer();\n    } else {\n      this.turnProjectToPrivate();\n    }\n  };\n\n  turnProjectToPublic = () => {\n    this.props.onComponentChange({ visibility: 'public' });\n    api.changeProjectVisibility(this.props.component.key, 'public').then(\n      () => {\n        this.loadHolders();\n      },\n      () => {\n        this.props.onComponentChange({\n          visibility: 'private'\n        });\n      }\n    );\n  };\n\n  turnProjectToPrivate = () => {\n    this.props.onComponentChange({ visibility: 'private' });\n    api.changeProjectVisibility(this.props.component.key, 'private').then(\n      () => {\n        this.loadHolders();\n      },\n      () => {\n        this.props.onComponentChange({\n          visibility: 'public'\n        });\n      }\n    );\n  };\n\n  openDisclaimer = () => {\n    if (this.mounted) {\n      this.setState({ disclaimer: true });\n    }\n  };\n\n  closeDisclaimer = () => {\n    if (this.mounted) {\n      this.setState({ disclaimer: false });\n    }\n  };\n\n  render() {\n    const { component, organization } = this.props;\n    const canTurnToPrivate =\n      component.configuration && component.configuration.canUpdateProjectVisibilityToPrivate;\n\n    let showUpgradeBox;\n    if (organization && !canTurnToPrivate) {\n      const isOrgAdmin = organization.actions && organization.actions.admin;\n      showUpgradeBox =\n        isOrgAdmin &&\n        this.props.component.qualifier === 'TRK' &&\n        !organization.canUpdateProjectsVisibilityToPrivate;\n    }\n\n    return (\n      <div className=\"page page-limited\" id=\"project-permissions-page\">\n        <Helmet title={translate('permissions.page')} />\n\n        <PageHeader\n          component={component}\n          loadHolders={this.loadHolders}\n          loading={this.state.loading}\n        />\n        <div>\n          <VisibilitySelector\n            canTurnToPrivate={canTurnToPrivate}\n            className=\"big-spacer-top big-spacer-bottom\"\n            onChange={this.handleVisibilityChange}\n            visibility={component.visibility}\n          />\n          {showUpgradeBox && organization && (\n            <UpgradeOrganizationBox\n              className=\"big-spacer-bottom\"\n              onOrganizationUpgrade={this.handleOrganizationUpgrade}\n              organization={organization}\n            />\n          )}\n          {this.state.disclaimer && (\n            <PublicProjectDisclaimer\n              component={component}\n              onClose={this.closeDisclaimer}\n              onConfirm={this.turnProjectToPublic}\n            />\n          )}\n        </div>\n        <AllHoldersList\n          component={component}\n          filter={this.state.filter}\n          grantPermissionToGroup={this.grantPermissionToGroup}\n          grantPermissionToUser={this.grantPermissionToUser}\n          groups={this.state.groups}\n          groupsPaging={this.state.groupsPaging}\n          onFilterChange={this.handleFilterChange}\n          onLoadMore={this.onLoadMore}\n          onPermissionSelect={this.handlePermissionSelect}\n          onQueryChange={this.handleQueryChange}\n          query={this.state.query}\n          revokePermissionFromGroup={this.revokePermissionFromGroup}\n          revokePermissionFromUser={this.revokePermissionFromUser}\n          selectedPermission={this.state.selectedPermission}\n          users={this.state.users}\n          usersPaging={this.state.usersPaging}\n          visibility={component.visibility}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as ReactModal from 'react-modal';\nimport * as classNames from 'classnames';\n\nReactModal.setAppElement('#content');\n\nexport interface ModalProps {\n  children: React.ReactNode;\n  size?: 'small' | 'medium' | 'large';\n  noBackdrop?: boolean;\n}\n\ntype MandatoryProps = Pick<ReactModal.Props, 'contentLabel'>;\n\ntype Props = Partial<ReactModal.Props> & MandatoryProps & ModalProps;\n\nexport default function Modal(props: Props) {\n  return (\n    <ReactModal\n      className={classNames('modal', {\n        'modal-small': props.size === 'small',\n        'modal-medium': props.size === 'medium',\n        'modal-large': props.size === 'large'\n      })}\n      isOpen={true}\n      overlayClassName={classNames('modal-overlay', { 'modal-no-backdrop': props.noBackdrop })}\n      {...props}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ReactSelectProps, ReactCreatableSelectProps, ReactAsyncSelectProps } from 'react-select';\nimport { ClearButton } from '../ui/buttons';\nimport { lazyLoad } from '../lazyLoad';\nimport './react-select.css';\n\nconst ReactSelectLib = import('react-select');\nconst ReactSelect = lazyLoad(() => ReactSelectLib);\nconst ReactCreatable = lazyLoad(() => ReactSelectLib.then(lib => ({ default: lib.Creatable })));\nconst ReactAsync = lazyLoad(() => ReactSelectLib.then(lib => ({ default: lib.Async })));\n\nfunction renderInput() {\n  return <ClearButton className=\"button-tiny spacer-left text-middle\" iconProps={{ size: 12 }} />;\n}\n\ninterface WithInnerRef {\n  innerRef?: (element: React.Component) => void;\n}\n\nexport default function Select({ innerRef, ...props }: WithInnerRef & ReactSelectProps) {\n  // TODO try to define good defaults, if any\n  // ReactSelect doesn't declare `clearRenderer` prop\n  const ReactSelectAny = ReactSelect as any;\n  // hide the \"x\" icon when select is empty\n  const clearable = props.clearable ? Boolean(props.value) : false;\n  return (\n    <ReactSelectAny {...props} clearRenderer={renderInput} clearable={clearable} ref={innerRef} />\n  );\n}\n\nexport function Creatable(props: ReactCreatableSelectProps) {\n  // ReactSelect doesn't declare `clearRenderer` prop\n  const ReactCreatableAny = ReactCreatable as any;\n  return <ReactCreatableAny {...props} clearRenderer={renderInput} />;\n}\n\n// TODO figure out why `ref` prop is incompatible\nexport function AsyncSelect(props: ReactAsyncSelectProps & { ref?: any }) {\n  return <ReactAsync {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal, { ModalProps } from './Modal';\n\nexport interface ChildrenProps {\n  onCloseClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  onFormSubmit: (event: React.SyntheticEvent<HTMLFormElement>) => void;\n  onSubmitClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  submitting: boolean;\n}\n\ninterface Props extends ModalProps {\n  children: (props: ChildrenProps) => React.ReactNode;\n  header: string;\n  onClose: () => void;\n  onSubmit: () => void | Promise<void>;\n}\n\ninterface State {\n  submitting: boolean;\n}\n\nexport default class SimpleModal extends React.Component<Props, State> {\n  mounted = false;\n  state: State = { submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopSubmitting = () => {\n    if (this.mounted) {\n      this.setState({ submitting: false });\n    }\n  };\n\n  handleCloseClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.props.onClose();\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.submit();\n  };\n\n  handleSubmitClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.submit();\n  };\n\n  submit = () => {\n    const result = this.props.onSubmit();\n    if (result) {\n      this.setState({ submitting: true });\n      result.then(this.stopSubmitting, this.stopSubmitting);\n    }\n  };\n\n  render() {\n    const { children, header, onClose, onSubmit, ...modalProps } = this.props;\n    return (\n      <Modal contentLabel={header} onRequestClose={onClose} {...modalProps}>\n        {children({\n          onCloseClick: this.handleCloseClick,\n          onFormSubmit: this.handleFormSubmit,\n          onSubmitClick: this.handleSubmitClick,\n          submitting: this.state.submitting\n        })}\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ModalProps } from './Modal';\nimport SimpleModal, { ChildrenProps } from './SimpleModal';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { SubmitButton, ResetButtonLink } from '../ui/buttons';\nimport { translate } from '../../helpers/l10n';\n\nexport interface ConfirmModalProps<T> extends ModalProps {\n  cancelButtonText?: string;\n  confirmButtonText: string;\n  confirmData?: T;\n  confirmDisable?: boolean;\n  isDestructive?: boolean;\n  onConfirm: (data?: T) => void | Promise<void | Response>;\n}\n\ninterface Props<T> extends ConfirmModalProps<T> {\n  header: string;\n  headerDescription?: React.ReactNode;\n  onClose: () => void;\n}\n\nexport default class ConfirmModal<T = string> extends React.PureComponent<Props<T>> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleSubmit = () => {\n    const result = this.props.onConfirm(this.props.confirmData);\n    if (result) {\n      return result.then(this.props.onClose, () => {});\n    } else {\n      this.props.onClose();\n      return undefined;\n    }\n  };\n\n  renderModalContent = ({ onCloseClick, onFormSubmit, submitting }: ChildrenProps) => {\n    const {\n      children,\n      confirmButtonText,\n      confirmDisable,\n      header,\n      headerDescription,\n      isDestructive,\n      cancelButtonText = translate('cancel')\n    } = this.props;\n    return (\n      <form onSubmit={onFormSubmit}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n          {headerDescription}\n        </header>\n        <div className=\"modal-body\">{children}</div>\n        <footer className=\"modal-foot\">\n          <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n          <SubmitButton\n            autoFocus={true}\n            className={isDestructive ? 'button-red' : undefined}\n            disabled={submitting || confirmDisable}>\n            {confirmButtonText}\n          </SubmitButton>\n          <ResetButtonLink disabled={submitting} onClick={onCloseClick}>\n            {cancelButtonText}\n          </ResetButtonLink>\n        </footer>\n      </form>\n    );\n  };\n\n  render() {\n    const { header, onClose, noBackdrop, size } = this.props;\n    const modalProps = { header, onClose, noBackdrop, size };\n    return (\n      <SimpleModal onSubmit={this.handleSubmit} {...modalProps}>\n        {this.renderModalContent}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\nexport interface Props {\n  count: number;\n  className?: string;\n  loading?: boolean;\n  loadMore?: () => void;\n  needReload?: boolean;\n  reload?: () => void;\n  ready?: boolean;\n  total?: number;\n}\n\nexport default function ListFooter({ ready = true, ...props }: Props) {\n  const handleLoadMore = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (props.loadMore) {\n      props.loadMore();\n    }\n  };\n\n  const handleReload = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (props.reload) {\n      props.reload();\n    }\n  };\n\n  const hasMore = props.total && props.total > props.count;\n\n  const loadMoreLink = (\n    <a className=\"spacer-left\" href=\"#\" onClick={handleLoadMore}>\n      {translate('show_more')}\n    </a>\n  );\n\n  const reloadLink = (\n    <a className=\"spacer-left\" href=\"#\" onClick={handleReload}>\n      {translate('reload')}\n    </a>\n  );\n\n  const className = classNames(\n    'spacer-top note text-center',\n    { 'new-loading': !ready },\n    props.className\n  );\n\n  let link;\n\n  if (props.needReload && props.reload) {\n    link = reloadLink;\n  } else if (hasMore && props.loadMore) {\n    link = loadMoreLink;\n  }\n\n  return (\n    <footer className={className}>\n      {translateWithParameters(\n        'x_of_y_shown',\n        formatMeasure(props.count, 'INT', null),\n        formatMeasure(props.total, 'INT', null)\n      )}\n      {link}\n      {props.loading && <DeferredSpinner className=\"text-bottom spacer-left position-absolute\" />}\n    </footer>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./react-select.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./react-select.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./react-select.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".Select{position:relative;display:inline-block;vertical-align:middle;font-size:12px;text-align:left}.Select,.Select div,.Select input,.Select span{box-sizing:border-box}.Select.is-disabled>.Select-control{background-color:#ebebeb!important;border-color:#ddd!important}.Select.is-disabled>.Select-control:hover{box-shadow:none!important}.Select.is-disabled .Select-arrow-zone{cursor:not-allowed!important;pointer-events:none!important}.Select.is-disabled .Select-placeholder,.Select.is-disabled .Select-value{color:#bbb!important}.Select-control{position:relative;display:table;width:100%;height:24px;line-height:22px;border:1px solid #cdcdcd;border-collapse:separate;border-radius:2px;background-color:#fff;color:#444;cursor:default;outline:none;overflow:hidden}.is-searchable.is-open>.Select-control{cursor:text}.is-open>.Select-control{border-bottom-right-radius:0;border-bottom-left-radius:0;background:#fff}.is-open>.Select-control>.Select-arrow{border-color:transparent transparent #999;border-width:0 5px 5px}.is-searchable.is-focused:not(.is-open)>.Select-control{cursor:text}.is-focused:not(.is-open)>.Select-control{border-color:#4b9fd5}.Select-placeholder{color:#777}.Select-placeholder,:not(.Select--multi)>.Select-control .Select-value{bottom:0;left:0;line-height:23px;padding-left:8px;padding-right:24px;position:absolute;right:0;top:0;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select-value [class^=icon-]{padding-top:5px}.Select-value img,.Select-value svg{padding-top:4px}.Select-option .outline-badge,.Select-value .outline-badge{height:20px;line-height:19px;margin-top:1px}.Select-option [class^=icon-],.Select-option img,.Select-option svg{padding-top:2px}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value .Select-value-label,.has-value:not(.Select--multi)>.Select-control>.Select-value .Select-value-label{color:#444}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label{cursor:pointer;text-decoration:none}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:focus,.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:hover,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:focus,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:hover{color:#007eff;outline:none;text-decoration:underline}.Select-input{vertical-align:top;height:22px;padding-left:8px;padding-right:8px;outline:none}.Select-input>input{background:none transparent;border:0;cursor:default;display:inline-block;font-family:inherit;font-size:12px;height:22px;margin:0;outline:none;padding:0;box-shadow:none;-webkit-appearance:none}.is-focused .Select-input>input{cursor:text}.has-value.is-pseudo-focused .Select-input{opacity:0}.Select-control:not(.is-searchable)>.Select-input{outline:none}.Select-loading-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:16px}.Select-loading{animation:Select-animation-spin .4s linear infinite;box-sizing:border-box;border-radius:50%;border:2px solid #ccc;border-right-color:#444;display:inline-block}.Select-clear-zone,.Select-loading{width:16px;height:16px;position:relative;vertical-align:middle}.Select-clear-zone{animation:Select-animation-fadeIn .2s;color:#999;cursor:pointer;display:table-cell;text-align:center;padding-right:4px}.Select-clear-zone:hover .Select-clear{background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxLjQxNCI+PHBhdGggZD0iTTEzLjk2OSAxLjQwNkw4LjM5IDYuOTg0bDUuNTc4IDUuNTc5LTEuNDA2IDEuNDA2TDYuOTg0IDguMzlsLTUuNTc4IDUuNTc4TDAgMTIuNTYzbDUuNTc4LTUuNTc5TDAgMS40MDYgMS40MDYgMGw1LjU3OCA1LjU3OEwxMi41NjMgMGwxLjQwNiAxLjQwNnoiIGZpbGw9IiNlNzE0MzgiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==)}.Select-clear{display:block;width:9px;height:9px;background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxLjQxNCI+PHBhdGggZD0iTTEzLjk2OSAxLjQwNkw4LjM5IDYuOTg0bDUuNTc4IDUuNTc5LTEuNDA2IDEuNDA2TDYuOTg0IDguMzlsLTUuNTc4IDUuNTc4TDAgMTIuNTYzbDUuNTc4LTUuNTc5TDAgMS40MDYgMS40MDYgMGw1LjU3OCA1LjU3OEwxMi41NjMgMGwxLjQwNiAxLjQwNnoiIGZpbGw9IiM5OTkiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==);background-size:9px 9px;text-indent:-9999px}.Select--multi .Select-clear-zone{width:17px}.Select-arrow-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:20px;padding-right:5px}.Select-arrow{border-color:#999 transparent transparent;border-style:solid;border-width:4px 4px 2px;display:inline-block;height:0;width:0}.is-open .Select-arrow,.Select-arrow-zone:hover>.Select-arrow{border-top-color:#666}@keyframes Select-animation-fadeIn{0%{opacity:0}to{opacity:1}}.Select-menu-outer{border-bottom-right-radius:4px;border-bottom-left-radius:4px;background-color:#fff;border:1px solid #ccc;border-top-color:#e6e6e6;box-sizing:border-box;margin-top:-1px;max-height:200px;position:absolute;top:100%;width:100%;z-index:7500;-webkit-overflow-scrolling:touch;box-shadow:0 6px 12px rgba(0,0,0,.175)}.Select-menu{max-height:198px;padding:5px 0;overflow-y:auto}.Select-option{display:block;line-height:20px;padding:0 8px;box-sizing:border-box;color:#444;font-size:12px;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.Select-option:last-child{border-bottom-right-radius:2px;border-bottom-left-radius:2px}.Select-option.is-focused{background-color:#f3f3f3}.Select-option.is-disabled{font-weight:600;cursor:default}.Select-noresults{box-sizing:border-box;color:#999;cursor:default;display:block;padding:8px 10px}.Select--multi .Select-value{background-color:rgba(0,126,255,.08);border-radius:2px;border:1px solid rgba(0,126,255,.24);color:#444;display:inline-block;font-size:12px;line-height:14px;margin:1px 4px 1px 1px;vertical-align:top}.Select-value-label{font-size:12px}.is-searchable.is-open .Select-value-label{opacity:.5}.Select-big .Select-control{padding-top:4px;padding-bottom:4px}.Select-big .Select-placeholder{margin-top:4px;margin-bottom:4px}.Select-big .Select-value-label{display:inline-block;margin-top:7px;line-height:16px}.Select-big .Select-option{padding:7px 8px;line-height:16px}.Select-big img,.Select-big svg{padding-top:0}.Select--multi .Select-value-icon,.Select--multi .Select-value-label{display:inline-block;vertical-align:middle}.Select--multi .Select-value-label{display:inline-block;max-width:200px;border-bottom-right-radius:2px;border-top-right-radius:2px;cursor:default;padding:2px 5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select--multi a.Select-value-label{color:#007eff;cursor:pointer;text-decoration:none}.Select--multi a.Select-value-label:hover{text-decoration:underline}.Select--multi .Select-value-icon{cursor:pointer;border-bottom-left-radius:2px;border-top-left-radius:2px;border-right:1px solid rgba(0,126,255,.24);padding:1px 5px}.Select--multi .Select-value-icon:focus,.Select--multi .Select-value-icon:hover{background-color:rgba(0,113,230,.08);color:#0071e6}.Select--multi .Select-value-icon:active{background-color:rgba(0,126,255,.24)}.Select--multi.is-disabled .Select-value{background-color:#fcfcfc;border:1px solid #e3e3e3;color:#444}.Select--multi.is-disabled .Select-value-icon{cursor:not-allowed;border-right:1px solid #e3e3e3}.Select--multi.is-disabled .Select-value-icon:active,.Select--multi.is-disabled .Select-value-icon:focus,.Select--multi.is-disabled .Select-value-icon:hover{background-color:#fcfcfc}.Select-aria-only{display:none}@keyframes Select-animation-spin{to{transform:rotate(1turn)}}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport BillingFormShim from './BillingFormShim';\nimport UpgradeOrganizationAdvantages from './UpgradeOrganizationAdvantages';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport Modal from '../../../components/controls/Modal';\nimport { ResetButtonLink } from '../../../components/ui/buttons';\nimport { withCurrentUser } from '../../../components/hoc/withCurrentUser';\nimport { getExtensionStart } from '../../../helpers/extensions';\nimport { translate } from '../../../helpers/l10n';\n\nconst BillingForm = withCurrentUser(BillingFormShim);\n\ninterface Props {\n  insideModal?: boolean;\n  onUpgradeDone: () => void;\n  onClose: () => void;\n  organization: T.Organization;\n  subscriptionPlans: T.SubscriptionPlan[];\n}\n\ninterface State {\n  ready: boolean;\n}\n\nexport default class UpgradeOrganizationModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { ready: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    getExtensionStart('billing/billing').then(\n      () => {\n        if (this.mounted) {\n          this.setState({ ready: true });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const header = translate('billing.upgrade_box.upgrade_to_paid_plan');\n\n    if (!this.state.ready) {\n      return null;\n    }\n\n    return (\n      <Modal\n        contentLabel={header}\n        noBackdrop={this.props.insideModal}\n        onRequestClose={this.props.onClose}\n        shouldCloseOnOverlayClick={false}\n        size={'medium'}>\n        <div className=\"modal-head\">\n          <h2>{header}</h2>\n        </div>\n        <BillingForm\n          onCommit={this.props.onUpgradeDone}\n          organizationKey={this.props.organization.key}\n          subscriptionPlans={this.props.subscriptionPlans}>\n          {({\n            onSubmit,\n            processingUpgrade,\n            renderFormFields,\n            renderNextCharge,\n            renderRecap,\n            renderSubmitButton\n          }) => (\n            <form id=\"organization-paid-plan-form\" onSubmit={onSubmit}>\n              <div className=\"modal-body modal-container\">\n                <div className=\"huge-spacer-bottom\">\n                  <p className=\"spacer-bottom\">\n                    <FormattedMessage\n                      defaultMessage={translate('billing.upgrade.org_x_advantages')}\n                      id=\"billing.coupon.description\"\n                      values={{\n                        org: <strong>{this.props.organization.name}</strong>\n                      }}\n                    />\n                  </p>\n                  <UpgradeOrganizationAdvantages />\n                </div>\n                {renderFormFields()}\n                <div className=\"big-spacer-top\">{renderRecap()}</div>\n              </div>\n              <footer className=\"modal-foot display-flex-center display-flex-space-between\">\n                {renderNextCharge() || <span />}\n                <div>\n                  <DeferredSpinner loading={processingUpgrade} />\n                  {renderSubmitButton()}\n                  <ResetButtonLink onClick={this.props.onClose}>\n                    {translate('cancel')}\n                  </ResetButtonLink>\n                </div>\n              </footer>\n            </form>\n          )}\n        </BillingForm>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport UpgradeOrganizationAdvantages from './UpgradeOrganizationAdvantages';\nimport UpgradeOrganizationModal from './UpgradeOrganizationModal';\nimport RadioCard from '../../../components/controls/RadioCard';\nimport { Button } from '../../../components/ui/buttons';\nimport { formatPrice } from '../organization/utils';\nimport { getSubscriptionPlans } from '../../../api/billing';\nimport { translate, hasMessage } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  insideModal?: boolean;\n  onOrganizationUpgrade: () => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  subscriptionPlans: T.SubscriptionPlan[];\n  upgradeOrganizationModal: boolean;\n}\n\nexport default class UpgradeOrganizationBox extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { subscriptionPlans: [], upgradeOrganizationModal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchSubscriptionPlans();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchSubscriptionPlans = () => {\n    return getSubscriptionPlans().then(subscriptionPlans => {\n      if (this.mounted) {\n        this.setState({ subscriptionPlans });\n      }\n    });\n  };\n\n  handleUpgradeClick = () => {\n    this.setState({ upgradeOrganizationModal: true });\n  };\n\n  handleUpgradeOrganizationModalClose = () => {\n    if (this.mounted) {\n      this.setState({ upgradeOrganizationModal: false });\n    }\n  };\n\n  handleOrganizationUpgrade = () => {\n    this.props.onOrganizationUpgrade();\n    this.handleUpgradeOrganizationModalClose();\n  };\n\n  render() {\n    if (!hasMessage('billing.upgrade_box.header')) {\n      return null;\n    }\n\n    const { subscriptionPlans, upgradeOrganizationModal } = this.state;\n    const startingPrice = subscriptionPlans[0] && subscriptionPlans[0].price;\n\n    return (\n      <>\n        <RadioCard\n          className={this.props.className}\n          title={translate('billing.upgrade_box.header')}\n          titleInfo={\n            startingPrice !== undefined && (\n              <FormattedMessage\n                defaultMessage={translate('billing.price_from_x')}\n                id=\"billing.price_from_x\"\n                values={{\n                  price: <span className=\"big\">{formatPrice(startingPrice)}</span>\n                }}\n              />\n            )\n          }>\n          <>\n            <UpgradeOrganizationAdvantages />\n            <div className=\"big-spacer-left\">\n              <Button className=\"js-upgrade-organization\" onClick={this.handleUpgradeClick}>\n                {translate('billing.paid_plan.upgrade')}\n              </Button>\n              <Link className=\"spacer-left\" target=\"_blank\" to=\"/about/pricing\">\n                {translate('billing.pricing.learn_more')}\n              </Link>\n            </div>\n          </>\n        </RadioCard>\n        {upgradeOrganizationModal && (\n          <UpgradeOrganizationModal\n            insideModal={this.props.insideModal}\n            onClose={this.handleUpgradeOrganizationModalClose}\n            onUpgradeDone={this.handleOrganizationUpgrade}\n            organization={this.props.organization}\n            subscriptionPlans={subscriptionPlans}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  canTurnToPrivate?: boolean;\n  className?: string;\n  onChange: (visibility: T.Visibility) => void;\n  showDetails?: boolean;\n  visibility?: T.Visibility;\n}\n\nexport default class VisibilitySelector extends React.PureComponent<Props> {\n  handlePublicClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onChange('public');\n  };\n\n  handlePrivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onChange('private');\n  };\n\n  render() {\n    return (\n      <div className={classNames('visibility-select', this.props.className)}>\n        <a\n          className=\"link-base-color link-no-underline visibility-select-option\"\n          href=\"#\"\n          id=\"visibility-public\"\n          onClick={this.handlePublicClick}>\n          <i\n            className={classNames('icon-radio', {\n              'is-checked': this.props.visibility === 'public'\n            })}\n          />\n          <span className=\"spacer-left\">{translate('visibility.public')}</span>\n        </a>\n        {this.props.showDetails && (\n          <span className=\"visibility-details note\">\n            {translate('visibility.public.description.long')}\n          </span>\n        )}\n\n        {this.props.canTurnToPrivate ? (\n          <>\n            <a\n              className=\"link-base-color link-no-underline huge-spacer-left visibility-select-option\"\n              href=\"#\"\n              id=\"visibility-private\"\n              onClick={this.handlePrivateClick}>\n              <i\n                className={classNames('icon-radio', {\n                  'is-checked': this.props.visibility === 'private'\n                })}\n              />\n              <span className=\"spacer-left\">{translate('visibility.private')}</span>\n            </a>\n            {this.props.showDetails && (\n              <span className=\"visibility-details note\">\n                {translate('visibility.private.description.long')}\n              </span>\n            )}\n          </>\n        ) : (\n          <>\n            <span\n              className=\"huge-spacer-left text-muted cursor-not-allowed visibility-select-option\"\n              id=\"visibility-private\">\n              <i\n                className={classNames('icon-radio', {\n                  'is-checked': this.props.visibility === 'private'\n                })}\n              />\n              <span className=\"spacer-left\">{translate('visibility.private')}</span>\n            </span>\n            {this.props.showDetails && (\n              <span className=\"visibility-details note\">\n                {translate('visibility.private.description.long')}\n              </span>\n            )}\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getPermissionTemplates, applyTemplateToProject } from '../../../../api/permissions';\nimport DeferredSpinner from '../../../../components/common/DeferredSpinner';\nimport SimpleModal from '../../../../components/controls/SimpleModal';\nimport Select from '../../../../components/controls/Select';\nimport { SubmitButton, ResetButtonLink } from '../../../../components/ui/buttons';\nimport { translateWithParameters, translate } from '../../../../helpers/l10n';\nimport { Alert } from '../../../../components/ui/Alert';\n\ninterface Props {\n  onApply?: () => void;\n  onClose: () => void;\n  organization: string | undefined;\n  project: { key: string; name: string };\n}\n\ninterface State {\n  done: boolean;\n  loading: boolean;\n  permissionTemplate?: string;\n  permissionTemplates?: T.PermissionTemplate[];\n}\n\nexport default class ApplyTemplate extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { done: false, loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchPermissionTemplates();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchPermissionTemplates = () => {\n    getPermissionTemplates(this.props.organization).then(\n      ({ permissionTemplates }) => {\n        if (this.mounted) {\n          this.setState({ loading: false, permissionTemplates });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleSubmit = () => {\n    if (this.state.permissionTemplate) {\n      return applyTemplateToProject({\n        organization: this.props.organization,\n        projectKey: this.props.project.key,\n        templateId: this.state.permissionTemplate\n      }).then(() => {\n        if (this.mounted) {\n          if (this.props.onApply) {\n            this.props.onApply();\n          }\n          this.setState({ done: true });\n        }\n      });\n    } else {\n      return Promise.reject(undefined);\n    }\n  };\n\n  handlePermissionTemplateChange = ({ value }: { value: string }) => {\n    this.setState({ permissionTemplate: value });\n  };\n\n  render() {\n    const header = translateWithParameters(\n      'projects_role.apply_template_to_xxx',\n      this.props.project.name\n    );\n\n    return (\n      <SimpleModal\n        header={header}\n        onClose={this.props.onClose}\n        onSubmit={this.handleSubmit}\n        size=\"small\">\n        {({ onCloseClick, onFormSubmit, submitting }) => (\n          <form id=\"project-permissions-apply-template-form\" onSubmit={onFormSubmit}>\n            <header className=\"modal-head\">\n              <h2>{header}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              {this.state.done ? (\n                <Alert variant=\"success\">{translate('projects_role.apply_template.success')}</Alert>\n              ) : (\n                <>\n                  {this.state.loading ? (\n                    <i className=\"spinner\" />\n                  ) : (\n                    <div className=\"modal-field\">\n                      <label htmlFor=\"project-permissions-template\">\n                        {translate('template')}\n                        <em className=\"mandatory\">*</em>\n                      </label>\n                      {this.state.permissionTemplates && (\n                        <Select\n                          clearable={false}\n                          id=\"project-permissions-template\"\n                          onChange={this.handlePermissionTemplateChange}\n                          options={this.state.permissionTemplates.map(permissionTemplate => ({\n                            label: permissionTemplate.name,\n                            value: permissionTemplate.id\n                          }))}\n                          value={this.state.permissionTemplate}\n                        />\n                      )}\n                    </div>\n                  )}\n                </>\n              )}\n            </div>\n\n            <footer className=\"modal-foot\">\n              <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n              {!this.state.done && (\n                <SubmitButton disabled={submitting || !this.state.permissionTemplate}>\n                  {translate('apply')}\n                </SubmitButton>\n              )}\n              <ResetButtonLink onClick={onCloseClick}>\n                {translate(this.state.done ? 'close' : 'cancel')}\n              </ResetButtonLink>\n            </footer>\n          </form>\n        )}\n      </SimpleModal>\n    );\n  }\n}\n"],"sourceRoot":""}