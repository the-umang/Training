{"version":3,"sources":["webpack:///./src/main/js/apps/tutorials/analyzeProject/AnalyzeTutorialSonarCloud.css?5e5b","webpack:///./src/main/js/apps/tutorials/analyzeProject/AnalyzeTutorialSonarCloud.css","webpack:///./src/main/js/apps/tutorials/analyzeProject/AnalyzeTutorialSuggestion.tsx","webpack:///./src/main/js/apps/tutorials/components/RenderOptions.tsx","webpack:///./src/main/js/apps/tutorials/components/NewProjectForm.tsx","webpack:///./src/main/js/apps/tutorials/utils.ts","webpack:///./src/main/js/apps/tutorials/components/LanguageForm.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/JavaMaven.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/JavaGradle.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/MSBuildScanner.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/DotNet.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/BuildWrapper.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/Msvc.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/SQScanner.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/ClangGCC.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/Other.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/AnalysisCommand.tsx","webpack:///./src/main/js/apps/tutorials/components/ProjectAnalysisStep.tsx","webpack:///./src/main/js/apps/tutorials/components/TokenStep.tsx","webpack:///./src/main/js/apps/tutorials/analyzeProject/AnalyzeTutorial.tsx","webpack:///./src/main/js/apps/tutorials/analyzeProject/configurations/AutoScanAlert.tsx","webpack:///./src/main/js/apps/tutorials/analyzeProject/steps/EditTokenModal.tsx","webpack:///./src/main/js/apps/tutorials/analyzeProject/steps/EncryptYourTokenStep.tsx","webpack:///./src/main/js/apps/tutorials/analyzeProject/steps/CreateSonarPropertiesStep.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/TravisSonarCloud/JavaMavenTravisSonarCloud.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/TravisSonarCloud/JavaGradleTravisSonarCloud.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/TravisSonarCloud/utils.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/TravisSonarCloud/OtherTravisSonarCloud.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/TravisSonarCloud/ClangGCCTravisSonarCloud.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/AnalysisCommandTravis.tsx","webpack:///./src/main/js/apps/tutorials/components/BuildSystemForm.tsx","webpack:///./src/main/js/apps/tutorials/analyzeProject/steps/EditTravisYmlStep.tsx","webpack:///./src/main/js/apps/tutorials/analyzeProject/utils.ts","webpack:///./src/main/js/apps/tutorials/analyzeProject/configurations/ConfigureWithTravis.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/Custom/JavaMavenCustom.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/Custom/JavaGradleCustom.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/Custom/ClangGCCCustom.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/Custom/OtherCustom.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/OtherCI/OtherOtherCI.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/OtherCI/ClangGCCOtherCI.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/AnalysisCommandOtherCI.tsx","webpack:///./src/main/js/apps/tutorials/components/commands/AnalysisCommandCustom.tsx","webpack:///./src/main/js/apps/tutorials/components/ProjectAnalysisStepFromBuildTool.tsx","webpack:///./src/main/js/apps/tutorials/components/AnalyzeTutorialDone.tsx","webpack:///./src/main/js/apps/tutorials/analyzeProject/AnalyzeTutorialSonarCloud.tsx","webpack:///./src/main/js/apps/tutorials/analyzeProject/configurations/ConfigureWithAutoScan.tsx","webpack:///./src/main/js/apps/tutorials/analyzeProject/configurations/ConfigureWithLocalScanner.tsx","webpack:///./src/main/js/apps/tutorials/analyzeProject/configurations/ConfigureWithOtherCI.tsx","webpack:///./src/main/js/apps/overview/components/EmptyOverview.tsx","webpack:///./src/main/js/components/controls/SimpleModal.tsx","webpack:///./src/main/js/components/controls/ConfirmModal.tsx","webpack:///./src/main/js/helpers/almIntegrations.ts","webpack:///./src/main/js/components/controls/RadioToggle.tsx","webpack:///./src/main/js/api/alm-integration.ts","webpack:///./src/main/js/apps/tutorials/components/Step.tsx","webpack:///./src/main/js/apps/tutorials/styles.css?5461","webpack:///./src/main/js/apps/tutorials/styles.css","webpack:///./src/main/js/api/user-tokens.ts","webpack:///./src/main/js/components/controls/BackButton.tsx"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","TutorialSuggestionBitbucket","index_js_exposed","Alert","className","variant","Object","l10n","index_es","defaultMessage","id","values","link","href","urls","rel","target","TutorialSuggestionGithub","TutorialSuggestionVSTS","AnalyzeTutorialSuggestion","_ref","almKey","almIntegrations","RenderOptions","checked","onCheck","optionLabelKey","titleLabelKey","RadioToggle","name","map","build","label","value","NewProjectForm_NewProjectForm","[object Object]","props","super","this","mounted","stopLoading","setState","loading","sanitizeProjectKey","projectKey","replace","handleProjectKeyChange","event","handleProjectCreate","preventDefault","state","data","project","organization","components","then","done","onDone","handleProjectDelete","onDelete","_this$state","valid","length","form","buttons","onClick","onSubmit","autoFocus","maxLength","minLength","onChange","required","type","disabled","quote","os","s","concat","getUniqueTokenName","tokens","initialTokenName","arguments","hasToken","find","token","RenderOS","setOS","LanguageForm_LanguageForm","handleChange","config","language","javaBuild","cFamilyCompiler","isLanguageConfigured","onReset","handleLanguageChange","handleJavaBuildChange","handleCFamilyCompilerChange","handleOSChange","handleProjectKeyDone","handleProjectKeyDelete","renderJavaBuild","renderCFamilyCompiler","renderProjectKey","component","assign","key","_this$state2","languages","system","JavaMaven","command","host","InstanceMessage","message","CodeSnippet","snippet","JavaGradle","transformedMessage","plugin_code","filename","MSBuildScanner","code","DotNet","command1","command3","isOneLine","small","filenames","win","linux","mac","BuildWrapper","env_var","download","Msvc","SQScanner","dir","executables","ClangGCC","q","command2","Other","AnalysisCommand_AnalysisCommand","renderCommandForMaven","_this$props","renderCommandForGradle","_this$props2","renderCommandForDotNet","_this$props3","languageConfig","getProjectKey","renderCommandForMSVC","_this$props4","renderCommandForClangGCC","_this$props5","renderCommandForOther","_this$props6","ProjectAnalysisStep_ProjectAnalysisStep","handleLanguageSelect","onFinish","handleLanguageReset","renderForm","languageComponent","analysisComponent","displayRowLayout","renderResult","Step","finished","onOpen","open","stepNumber","stepTitle","TokenStep_TokenStep","getToken","selection","existingToken","canContinue","validExistingToken","match","handleTokenNameChange","tokenName","handleTokenGenerate","user_tokens","handleTokenRevoke","handleContinueClick","onContinue","handleGenerateClick","handleUseExistingClick","handleExisingTokenChange","currentTarget","renderGenerateOption","classnames","is-checked","placeholder","renderUseExistingOption","validInput","AlertErrorIcon","canUseExisting","react_router_es","to","_this$state3","AlertSuccessIcon","currentUser","login","Steps","AnalyzeTutorial_AnalyzeTutorial","step","TOKEN","handleTokenDone","ANALYSIS","handleTokenOpen","alm","externalProvider","Boolean","caveats","default","limitedScope","AutoScanAlert","DocTooltip","doc","Promise","resolve","scopes","TokenMode","EditTokenModal_EditTokenModal","mode","use_existing_token","getTokensAndName","t","getNewToken","_this$state$tokenName","setExistingToken","setMode","onClose","onSave","header","isConfirmEnabled","generate_token","ConfirmModal","confirmButtonText","confirmDisable","onConfirm","EncryptYourTokenStep","setToken","_React$useState2","EncryptYourTokenStep_slicedToArray","showModal","toggleModal","close","save","renderCommand","render","wrap","CreateSonarPropertiesStep","JavaMavenTravisSonarCloud","getSonarcloudAddonYml","RequirementJavaBuild","dangerouslySetInnerHTML","__html","getSonarcloudAddonYmlRender","JavaGradleTravisSonarCloud","file","plugin","useCaseLink","CommonTravisSonarCloud","RequirementOtherBuild","OtherTravisSonarCloud","ClangGCCTravisSonarCloud","noCopy","RenderCommandForClangOrGCC","RenderCommandForGradle","_ref2","RenderCommandForMaven","_ref3","RenderCommandForOther","_ref4","AnalysisCommandTravis","buildType","Build","gradle","make","maven","other","BuildSystemForm","setBuild","EditTravisYmlStep","buildCallback","hasStepAfter","EditTravisYmlStep_slicedToArray","isJavaBuild","includes","chooseBuild","PROJECT_ONBOARDING_DONE","PROJECT_ONBOARDING_MODE_ID","PROJECT_STEP_PROGRESS","ALM_KEYS","alms","BITBUCKET","GITHUB","MICROSOFT","modes","autoScanMode","ConfigureWithTravis_Steps","RenderCustomCommand","join","RenderCustomContent","linkText","linkUrl","JavaMavenCustom","suffix","ProjectAnalysisModes","CI","JavaGradleCustom","ClangGCCCustom_executables","ClangGCCCommon","renderCommand2","ClangGCCCustom","OtherCustom","OtherOtherCI","commandLinuxMac","ClangGCCOtherCI_executables","ClangGCCOtherCI","AnalysisCommandOtherCI_RenderCommandForClangOrGCC","AnalysisCommandOtherCI_RenderCommandForOther","AnalysisCommandOtherCI_getBuildOptions","AnalysisCommandCustom_RenderCommandForGradle","AnalysisCommandCustom_RenderCommandForMaven","AnalysisCommandCommon","AnalysisCommandOtherCI_slicedToArray","_React$useState4","isModalVisible","getBuildOptions","AnalysisCommandOtherCI","AnalysisCommandCustom_RenderCommandForClangOrGCC","AnalysisCommandCustom_RenderCommandForOther","AnalysisCommandCustom_getBuildOptions","_ref5","AnalysisCommandCustom","Custom","ProjectAnalysisStepFromBuildTool","ProjectAnalysisStepFromBuildTool_slicedToArray","storage","JSON","parse","e","saveAndFinish","stringify","AnalysisComponent","AnalyzeTutorialDone","setTutorialDone","BackButton","tooltip","alt","src","tutorials","autoscan","_slicedToArray","showCustomizationOptions","setCustomizationOptions","DropdownIcon","turned","hidden","manual","travis","ConfigureWithTravis_slicedToArray","ENCRYPT_TOKEN","setStep","_React$useState6","hasStepAfterTravisYml","setHasStepAfterTravilYml","EDIT_TRAVIS_YML","CREATE_SONAR_PROPERTIES","AnalyzeTutorialSonarCloud_Steps","AnalyzeTutorialSonarCloud_AnalyzeTutorialSonarCloud","configureBitbucket","configureGithub","savedModeId","m","url","alm_integration","almLanguagesStats","almLanguageStats","configureMicrosoft","String","isTutorialDone","spinner","renderBitbucket","renderGithub","Tutorial","getClassnames","item","mode-type-selected","isAutoScanEnabled","allowed","notAllowed","withAllowedLanguages","keys","l","withNotAllowedLanguages","isAutoScannable","el","renderMicrosoft","DeferredSpinner","customSpinner","EmptyOverview","branchLike","branchLikes","hasAnalyses","onComponentChange","hasBranches","hasBadBranchConfig","some","branch","branches","users","WarningMessage","MetaContainer","branchName","branchType","d","__webpack_exports__","es","rootReducer","SimpleModal","react__WEBPACK_IMPORTED_MODULE_0__","submitting","stopSubmitting","handleCloseClick","blur","handleFormSubmit","submit","handleSubmitClick","result","_a","children","modalProps","__rest","_Modal__WEBPACK_IMPORTED_MODULE_1__","contentLabel","onRequestClose","onCloseClick","onFormSubmit","onSubmitClick","_SimpleModal__WEBPACK_IMPORTED_MODULE_1__","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","_ui_buttons__WEBPACK_IMPORTED_MODULE_3__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_4__","handleSubmit","confirmData","renderModalContent","headerDescription","isDestructive","_this$props$cancelBut","cancelButtonText","noBackdrop","size","getAlmMembersUrl","getUserAlmKey","hasAdvancedALMIntegration","isBitbucket","isGithub","isVSTS","isPersonal","sanitizeAlmId","_users__WEBPACK_IMPORTED_MODULE_0__","endsWith","user","startsWith","personal","classnames__WEBPACK_IMPORTED_MODULE_1__","_Tooltip__WEBPACK_IMPORTED_MODULE_2__","newValue","renderOption","option","htmlId","overlay","htmlFor","defaultProps","bindAlmOrganization","getAlmAppInfo","getAlmOrganization","getRepositories","listUnboundApplications","provisionProject","getGithubLanguages","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","catch","max","slowThreshold","almOrganization","boundOrganization","applications","app","installationKeys","apiUrl","is-open","is-finished","clickable","role","tabIndex","getTokens","generateToken","revokeToken","r","userTokens","_app_theme__WEBPACK_IMPORTED_MODULE_3__","handleClick","renderIcon","height","viewBox","width","fill","_this$props$tooltip","cursor-not-allowed"],"mappings":"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","file":"js/307.m.0d4c1037.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./AnalyzeTutorialSonarCloud.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./AnalyzeTutorialSonarCloud.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./AnalyzeTutorialSonarCloud.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".page-analysis{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0 auto}.page-analysis .page-header{text-align:center}.page-analysis h1{font-weight:700}.page-analysis-container-sonarcloud .onboarding-step{padding:0 32px}.analysis-selector{flex-direction:column}.analysis-modes,.analysis-selector{display:flex;justify-content:space-around}.analysis-modes{width:80%}.mode-type{flex-direction:column}.mode-type,.mode-type .icon{display:flex;justify-content:center;align-items:center}.mode-type .icon{position:relative;width:100px;height:100px;background-repeat:no-repeat;background-position:50%}.mode-type .name{font-weight:700}.mode-type-autoscan{padding:48px 80px;background:#fff;box-shadow:0 0 10px 0 rgba(0,0,0,.3)}.mode-type-autoscan .icon{background-image:url(/images/sonarcloud-square-logo.svg)}.mode-type-autoscan .icon .badge{position:absolute;top:12px;right:0}.mode-type-travis .icon{background-image:url(/images/sonarcloud/analysis/helmet.svg)}.mode-type-other .icon{background-image:url(/images/sonarcloud/analysis/galaxy.svg)}.mode-type-manual .icon{background-image:url(/images/sonarcloud/analysis/manual.svg)}.step-selector{display:flex}.page-analysis-waiting{text-align:center}.page-analysis-waiting .links{padding:48px 80px;background:#fff}.onboarding-step hr.no-horizontal-margins{margin-left:0;margin-right:0}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { isBitbucket, isGithub, isVSTS } from '../../../helpers/almIntegrations';\nimport { translate } from '../../../helpers/l10n';\nimport { getBaseUrl } from '../../../helpers/urls';\nimport { Alert } from '../../../components/ui/Alert';\n\nexport function TutorialSuggestionBitbucket() {\n  return (\n    <Alert className=\"big-spacer-bottom\" variant=\"info\">\n      <p>{translate('onboarding.project_analysis.commands_for_analysis')}</p>\n      <p>{translate('onboarding.project_analysis.suggestions.bitbucket')}</p>\n      <FormattedMessage\n        defaultMessage={translate('onboarding.project_analysis.simply_link')}\n        id={'onboarding.project_analysis.simply_link'}\n        values={{\n          link: (\n            <a\n              href={\n                getBaseUrl() +\n                '/documentation/integrations/bitbucketcloud/#analyzing-with-pipelines'\n              }\n              rel=\"noopener noreferrer\"\n              target=\"_blank\">\n              {translate('onboarding.project_analysis.guide_to_integrate_pipelines')}\n            </a>\n          )\n        }}\n      />\n    </Alert>\n  );\n}\n\nexport function TutorialSuggestionGithub() {\n  return (\n    <Alert className=\"big-spacer-bottom\" variant=\"info\">\n      <p>{translate('onboarding.project_analysis.commands_for_analysis')} </p>\n      <p>{translate('onboarding.project_analysis.suggestions.github')}</p>\n      <FormattedMessage\n        defaultMessage={translate('onboarding.project_analysis.simply_link')}\n        id={'onboarding.project_analysis.simply_link'}\n        values={{\n          link: (\n            <a\n              href=\"https://docs.travis-ci.com/user/sonarcloud/\"\n              rel=\"noopener noreferrer\"\n              target=\"_blank\">\n              {translate('onboarding.project_analysis.guide_to_integrate_travis')}\n            </a>\n          )\n        }}\n      />\n    </Alert>\n  );\n}\n\nexport function TutorialSuggestionVSTS() {\n  return (\n    <Alert className=\"big-spacer-bottom\" variant=\"info\">\n      <FormattedMessage\n        defaultMessage={translate('onboarding.project_analysis.simply_link')}\n        id={'onboarding.project_analysis.simply_link'}\n        values={{\n          link: (\n            <a\n              href={getBaseUrl() + '/documentation/integrations/vsts/'}\n              rel=\"noopener noreferrer\"\n              target=\"_blank\">\n              {translate('onboarding.project_analysis.guide_to_integrate_vsts')}\n            </a>\n          )\n        }}\n      />\n    </Alert>\n  );\n}\n\nexport default function AnalyzeTutorialSuggestion({ almKey }: { almKey?: string }) {\n  if (isBitbucket(almKey)) {\n    return <TutorialSuggestionBitbucket />;\n  } else if (isGithub(almKey)) {\n    return <TutorialSuggestionGithub />;\n  } else if (isVSTS(almKey)) {\n    return <TutorialSuggestionVSTS />;\n  }\n  return null;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport RadioToggle from '../../../components/controls/RadioToggle';\n\ninterface RenderOptionsProps {\n  checked: string | undefined;\n  name: string;\n  onCheck: (checked: string) => void;\n  optionLabelKey: string;\n  options: string[];\n  titleLabelKey?: string;\n}\n\nexport function RenderOptions({\n  checked,\n  onCheck,\n  optionLabelKey,\n  options,\n  titleLabelKey\n}: RenderOptionsProps) {\n  return (\n    <div className=\"big-spacer-top\">\n      {titleLabelKey && <h4 className=\"spacer-bottom\">{translate(titleLabelKey)}</h4>}\n\n      <RadioToggle\n        name={name}\n        onCheck={onCheck}\n        options={options.map(build => ({\n          label: translate(optionLabelKey, build),\n          value: build\n        }))}\n        value={checked}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { createProject, deleteProject } from '../../../api/components';\nimport { DeleteButton, SubmitButton } from '../../../components/ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  onDelete: VoidFunction;\n  onDone: (projectKey: string) => void;\n  organization?: string;\n  projectKey?: string;\n}\n\ninterface State {\n  done: boolean;\n  loading: boolean;\n  projectKey: string;\n}\n\nexport default class NewProjectForm extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      done: props.projectKey != null,\n      loading: false,\n      projectKey: props.projectKey || ''\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  sanitizeProjectKey = (projectKey: string) => projectKey.replace(/[^-_a-zA-Z0-9.:]/, '');\n\n  handleProjectKeyChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ projectKey: this.sanitizeProjectKey(event.target.value) });\n  };\n\n  handleProjectCreate = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const { projectKey } = this.state;\n    const data: {\n      name: string;\n      project: string;\n      organization?: string;\n    } = {\n      name: projectKey,\n      project: projectKey\n    };\n    if (this.props.organization) {\n      data.organization = this.props.organization;\n    }\n    this.setState({ loading: true });\n    createProject(data).then(() => {\n      if (this.mounted) {\n        this.setState({ done: true, loading: false });\n        this.props.onDone(projectKey);\n      }\n    }, this.stopLoading);\n  };\n\n  handleProjectDelete = () => {\n    const { projectKey } = this.state;\n    this.setState({ loading: true });\n    deleteProject(projectKey).then(() => {\n      if (this.mounted) {\n        this.setState({ done: false, loading: false, projectKey: '' });\n        this.props.onDelete();\n      }\n    }, this.stopLoading);\n  };\n\n  render() {\n    const { done, loading, projectKey } = this.state;\n\n    const valid = projectKey.length > 0;\n\n    const form = done ? (\n      <div>\n        <span className=\"spacer-right text-middle\">{projectKey}</span>\n        {loading ? (\n          <i className=\"spinner text-middle\" />\n        ) : (\n          <DeleteButton className=\"button-small text-middle\" onClick={this.handleProjectDelete} />\n        )}\n      </div>\n    ) : (\n      <form onSubmit={this.handleProjectCreate}>\n        <input\n          autoFocus={true}\n          className=\"input-large spacer-right text-middle\"\n          maxLength={400}\n          minLength={1}\n          onChange={this.handleProjectKeyChange}\n          required={true}\n          type=\"text\"\n          value={projectKey}\n        />\n        {loading ? (\n          <i className=\"spinner text-middle\" />\n        ) : (\n          <SubmitButton className=\"text-middle\" disabled={!valid}>\n            {translate('Done')}\n          </SubmitButton>\n        )}\n        <div className=\"note spacer-top abs-width-300\">\n          {translate('onboarding.project_key_requirement')}\n        </div>\n      </form>\n    );\n\n    return (\n      <div className=\"big-spacer-top\">\n        <h4 className=\"spacer-bottom\">{translate('onboarding.language.project_key')}</h4>\n        {form}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport interface LanguageConfig {\n  language?: string;\n  javaBuild?: string;\n  cFamilyCompiler?: string;\n  os?: string;\n  projectKey?: string;\n}\n\nexport interface StepProps {\n  component?: T.Component;\n  finished?: boolean;\n  hasStepAfter?: (hasStepAfter: boolean) => void;\n  onContinue: VoidFunction;\n  onOpen: VoidFunction;\n  open: boolean;\n  organization?: string;\n  stepNumber: number;\n  token?: string;\n}\n\nexport function isLanguageConfigured(config?: LanguageConfig) {\n  if (!config) {\n    return false;\n  }\n  const { language, javaBuild, cFamilyCompiler, os, projectKey } = config;\n  const isJavaConfigured = language === 'java' && javaBuild != null;\n  const isDotNetConfigured = language === 'dotnet' && projectKey != null;\n  const isCFamilyConfigured =\n    language === 'c-family' && (cFamilyCompiler === 'msvc' || os != null) && projectKey != null;\n  const isOtherConfigured = language === 'other' && projectKey != null;\n\n  return isJavaConfigured || isDotNetConfigured || isCFamilyConfigured || isOtherConfigured;\n}\n\nexport function quote(os: string): (s: string) => string {\n  return os === 'win' ? (s: string) => `\"${s}\"` : (s: string) => s;\n}\n\nexport function getUniqueTokenName(tokens: T.UserToken[], initialTokenName = '') {\n  const hasToken = (name: string) => tokens.find(token => token.name === name) !== undefined;\n\n  if (!hasToken(initialTokenName)) {\n    return initialTokenName;\n  }\n\n  let i = 1;\n  while (hasToken(`${initialTokenName} ${i}`)) {\n    i++;\n  }\n  return `${initialTokenName} ${i}`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { RenderOptions } from './RenderOptions';\nimport NewProjectForm from './NewProjectForm';\nimport RadioToggle from '../../../components/controls/RadioToggle';\nimport { translate } from '../../../helpers/l10n';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { isLanguageConfigured, LanguageConfig } from '../utils';\n\ninterface Props {\n  component?: T.Component;\n  config?: LanguageConfig;\n  onDone: (config: LanguageConfig) => void;\n  onReset: VoidFunction;\n  organization?: string;\n}\n\ntype State = LanguageConfig;\n\nexport interface RenderOSProps {\n  os: string | undefined;\n  setOS: (os: string) => void;\n}\nexport function RenderOS(props: RenderOSProps) {\n  return (\n    <RenderOptions\n      checked={props.os}\n      name=\"os\"\n      onCheck={props.setOS}\n      optionLabelKey={'onboarding.language.os'}\n      options={['linux', 'win', 'mac']}\n      titleLabelKey={'onboarding.language.os'}\n    />\n  );\n}\n\nexport default class LanguageForm extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      ...(this.props.config || {}),\n      projectKey: props.component ? props.component.key : undefined\n    };\n  }\n\n  handleChange = () => {\n    if (isLanguageConfigured(this.state)) {\n      this.props.onDone(this.state);\n    } else {\n      this.props.onReset();\n    }\n  };\n\n  handleLanguageChange = (language: string) => {\n    this.setState({ language }, this.handleChange);\n  };\n\n  handleJavaBuildChange = (javaBuild: string) => {\n    this.setState({ javaBuild }, this.handleChange);\n  };\n\n  handleCFamilyCompilerChange = (cFamilyCompiler: string) => {\n    this.setState({ cFamilyCompiler }, this.handleChange);\n  };\n\n  handleOSChange = (os: string) => {\n    this.setState({ os }, this.handleChange);\n  };\n\n  handleProjectKeyDone = (projectKey: string) => {\n    this.setState({ projectKey }, this.handleChange);\n  };\n\n  handleProjectKeyDelete = () => {\n    this.setState({ projectKey: undefined }, this.handleChange);\n  };\n\n  renderJavaBuild = () => (\n    <RenderOptions\n      checked={this.state.javaBuild}\n      name=\"java-build\"\n      onCheck={this.handleJavaBuildChange}\n      optionLabelKey=\"onboarding.language.java.build_technology\"\n      options={['maven', 'gradle']}\n      titleLabelKey=\"onboarding.language.java.build_technology\"\n    />\n  );\n\n  renderCFamilyCompiler = () => (\n    <RenderOptions\n      checked={this.state.cFamilyCompiler}\n      name=\"c-family-compiler\"\n      onCheck={this.handleCFamilyCompilerChange}\n      optionLabelKey={'onboarding.language.c-family.compiler'}\n      options={['msvc', 'clang-gcc']}\n      titleLabelKey={'onboarding.language.c-family.compiler'}\n    />\n  );\n\n  renderProjectKey = () => {\n    const { cFamilyCompiler, language, os } = this.state;\n    const needProjectKey =\n      language === 'dotnet' ||\n      (language === 'c-family' &&\n        (cFamilyCompiler === 'msvc' || (cFamilyCompiler === 'clang-gcc' && os !== undefined))) ||\n      (language === 'other' && os !== undefined);\n\n    if (!needProjectKey || this.props.component) {\n      return null;\n    }\n\n    return (\n      <NewProjectForm\n        onDelete={this.handleProjectKeyDelete}\n        onDone={this.handleProjectKeyDone}\n        organization={this.props.organization}\n        projectKey={this.state.projectKey}\n      />\n    );\n  };\n\n  render() {\n    const { cFamilyCompiler, language } = this.state;\n    const languages = isSonarCloud()\n      ? ['java', 'dotnet', 'c-family', 'other']\n      : ['java', 'dotnet', 'other'];\n\n    return (\n      <>\n        <div>\n          <h4 className=\"spacer-bottom\">{translate('onboarding.language')}</h4>\n          <RadioToggle\n            name=\"language\"\n            onCheck={this.handleLanguageChange}\n            options={languages.map(language => ({\n              label: translate('onboarding.language', language),\n              value: language\n            }))}\n            value={language}\n          />\n        </div>\n        {language === 'java' && this.renderJavaBuild()}\n        {language === 'c-family' && this.renderCFamilyCompiler()}\n        {((language === 'c-family' && cFamilyCompiler === 'clang-gcc') || language === 'other') && (\n          <RenderOS os={this.state.os} setOS={this.handleOSChange} />\n        )}\n        {this.renderProjectKey()}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport CodeSnippet from '../../../../components/common/CodeSnippet';\nimport InstanceMessage from '../../../../components/common/InstanceMessage';\nimport { translate } from '../../../../helpers/l10n';\n\nexport interface Props {\n  host: string;\n  organization?: string;\n  projectKey?: string;\n  token: string;\n}\n\nexport default function JavaMaven(props: Props) {\n  const command = [\n    'mvn sonar:sonar',\n    props.projectKey && `-Dsonar.projectKey=${props.projectKey}`,\n    props.organization && `-Dsonar.organization=${props.organization}`,\n    `-Dsonar.host.url=${props.host}`,\n    `-Dsonar.login=${props.token}`\n  ];\n\n  return (\n    <div>\n      <h4 className=\"spacer-bottom\">{translate('onboarding.analysis.java.maven.header')}</h4>\n      <p className=\"spacer-bottom markdown\">\n        <InstanceMessage message={translate('onboarding.analysis.java.maven.text')} />\n      </p>\n      <CodeSnippet snippet={command} />\n      <p className=\"big-spacer-top markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.docs')}\n          id=\"onboarding.analysis.docs\"\n          values={{\n            link: (\n              <a\n                href=\"http://redirect.sonarsource.com/doc/install-configure-scanner-maven.html\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\">\n                {translate('onboarding.analysis.java.maven.docs_link')}\n              </a>\n            )\n          }}\n        />\n      </p>\n      <p className=\"big-spacer-top markdown\">\n        {props.projectKey\n          ? translate('onboarding.analysis.auto_refresh_after_analysis')\n          : translate('onboarding.analysis.browse_url_after_analysis')}\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport CodeSnippet from '../../../../components/common/CodeSnippet';\nimport InstanceMessage from '../../../../components/common/InstanceMessage';\nimport { translate } from '../../../../helpers/l10n';\n\nexport interface Props {\n  host: string;\n  organization?: string;\n  projectKey?: string;\n  token: string;\n}\n\nexport default function JavaGradle(props: Props) {\n  const config = 'plugins {\\n  id \"org.sonarqube\" version \"2.7\"\\n}';\n\n  const command = [\n    './gradlew sonarqube',\n    props.projectKey && `-Dsonar.projectKey=${props.projectKey}`,\n    props.organization && `-Dsonar.organization=${props.organization}`,\n    `-Dsonar.host.url=${props.host}`,\n    `-Dsonar.login=${props.token}`\n  ];\n\n  return (\n    <div>\n      <h4 className=\"spacer-bottom\">{translate('onboarding.analysis.java.gradle.header')}</h4>\n      <InstanceMessage message={translate('onboarding.analysis.java.gradle.text.1')}>\n        {transformedMessage => (\n          <p className=\"spacer-bottom markdown\">\n            <FormattedMessage\n              defaultMessage={transformedMessage}\n              id=\"onboarding.analysis.java.gradle.text.1\"\n              values={{\n                plugin_code: <code>org.sonarqube</code>,\n                filename: <code>build.gradle</code>\n              }}\n            />\n          </p>\n        )}\n      </InstanceMessage>\n      <CodeSnippet snippet={config} />\n      <p className=\"spacer-top spacer-bottom markdown\">\n        {translate('onboarding.analysis.java.gradle.text.2')}\n      </p>\n      <CodeSnippet snippet={command} />\n      <p className=\"big-spacer-top markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.docs')}\n          id=\"onboarding.analysis.docs\"\n          values={{\n            link: (\n              <a\n                href=\"http://redirect.sonarsource.com/doc/gradle.html\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\">\n                {translate('onboarding.analysis.java.gradle.docs_link')}\n              </a>\n            )\n          }}\n        />\n      </p>\n      <p className=\"big-spacer-top markdown\">\n        {props.projectKey\n          ? translate('onboarding.analysis.auto_refresh_after_analysis')\n          : translate('onboarding.analysis.browse_url_after_analysis')}\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from '../../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n}\n\nexport default function MSBuildScanner(props: Props) {\n  return (\n    <div className={props.className}>\n      <h4 className=\"spacer-bottom\">{translate('onboarding.analysis.msbuild.header')}</h4>\n      <p className=\"spacer-bottom markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.msbuild.text')}\n          id=\"onboarding.analysis.msbuild.text\"\n          values={{ code: <code>%PATH%</code> }}\n        />\n      </p>\n      <p>\n        <a\n          className=\"button\"\n          href=\"https://sonarcloud.io/documentation/analysis/scan/sonarscanner-for-msbuild/\"\n          rel=\"noopener noreferrer\"\n          target=\"_blank\">\n          {translate('download_verb')}\n        </a>\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport MSBuildScanner from './MSBuildScanner';\nimport CodeSnippet from '../../../../components/common/CodeSnippet';\nimport InstanceMessage from '../../../../components/common/InstanceMessage';\nimport { translate } from '../../../../helpers/l10n';\n\nexport interface Props {\n  host: string;\n  organization?: string;\n  projectKey: string;\n  small?: boolean;\n  token: string;\n}\n\nexport default function DotNet(props: Props) {\n  const command1 = [\n    'SonarScanner.MSBuild.exe begin',\n    `/k:\"${props.projectKey}\"`,\n    props.organization && `/d:sonar.organization=\"${props.organization}\"`,\n    `/d:sonar.host.url=\"${props.host}\"`,\n    `/d:sonar.login=\"${props.token}\"`\n  ];\n\n  const command2 = 'MsBuild.exe /t:Rebuild';\n\n  const command3 = ['SonarScanner.MSBuild.exe end', `/d:sonar.login=\"${props.token}\"`];\n\n  return (\n    <div>\n      <MSBuildScanner />\n\n      <h4 className=\"huge-spacer-top spacer-bottom\">\n        {translate('onboarding.analysis.msbuild.execute')}\n      </h4>\n      <InstanceMessage message={translate('onboarding.analysis.msbuild.execute.text')}>\n        {transformedMessage => <p className=\"spacer-bottom markdown\">{transformedMessage}</p>}\n      </InstanceMessage>\n      <CodeSnippet isOneLine={true} snippet={command1} />\n      <CodeSnippet isOneLine={false} snippet={command2} />\n      <CodeSnippet isOneLine={props.small} snippet={command3} />\n      <p className=\"big-spacer-top markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.docs')}\n          id=\"onboarding.analysis.docs\"\n          values={{\n            link: (\n              <a\n                href=\"http://redirect.sonarsource.com/doc/install-configure-scanner-msbuild.html\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\">\n                {translate('onboarding.analysis.msbuild.docs_link')}\n              </a>\n            )\n          }}\n        />\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from '../../../../helpers/l10n';\nimport { getBaseUrl } from '../../../../helpers/urls';\n\ninterface Props {\n  className?: string;\n  os: string;\n}\n\nconst filenames: T.Dict<string> = {\n  win: 'build-wrapper-win-x86.zip',\n  linux: 'build-wrapper-linux-x86.zip',\n  mac: 'build-wrapper-macosx-x86.zip'\n};\n\nexport default function BuildWrapper(props: Props) {\n  return (\n    <div className={props.className}>\n      <h4 className=\"spacer-bottom\">\n        {translate('onboarding.analysis.build_wrapper.header', props.os)}\n      </h4>\n      <p className=\"spacer-bottom markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.build_wrapper.text')}\n          id=\"onboarding.analysis.build_wrapper.text\"\n          values={{\n            env_var: <code>{props.os === 'win' ? '%PATH%' : 'PATH'}</code>\n          }}\n        />\n      </p>\n      <p>\n        <a\n          className=\"button\"\n          download={filenames[props.os]}\n          href={`${getBaseUrl()}/static/cpp/${filenames[props.os]}`}\n          target=\"_blank\">\n          {translate('download_verb')}\n        </a>\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport MSBuildScanner from './MSBuildScanner';\nimport BuildWrapper from './BuildWrapper';\nimport CodeSnippet from '../../../../components/common/CodeSnippet';\nimport InstanceMessage from '../../../../components/common/InstanceMessage';\nimport { translate } from '../../../../helpers/l10n';\n\ninterface Props {\n  host: string;\n  organization?: string;\n  projectKey: string;\n  small?: boolean;\n  token: string;\n}\n\nexport default function Msvc(props: Props) {\n  const command1 = [\n    'SonarQube.Scanner.MSBuild.exe begin',\n    `/k:\"${props.projectKey}\"`,\n    props.organization && `/d:sonar.organization=\"${props.organization}\"`,\n    '/d:sonar.cfamily.build-wrapper-output=bw-output',\n    `/d:sonar.host.url=\"${props.host}\"`,\n    `/d:sonar.login=\"${props.token}\"`\n  ];\n\n  const command2 = 'build-wrapper-win-x86-64.exe --out-dir bw-output MsBuild.exe /t:Rebuild';\n\n  const command3 = ['SonarQube.Scanner.MSBuild.exe end', `/d:sonar.login=\"${props.token}\"`];\n\n  return (\n    <div>\n      <MSBuildScanner />\n      <BuildWrapper className=\"huge-spacer-top\" os=\"win\" />\n\n      <h4 className=\"huge-spacer-top spacer-bottom\">\n        {translate('onboarding.analysis.msbuild.execute')}\n      </h4>\n      <InstanceMessage message={translate('onboarding.analysis.msbuild.execute.text')}>\n        {transformedMessage => <p className=\"spacer-bottom markdown\">{transformedMessage}</p>}\n      </InstanceMessage>\n      <CodeSnippet isOneLine={true} snippet={command1} />\n      <CodeSnippet isOneLine={props.small} snippet={command2} />\n      <CodeSnippet isOneLine={props.small} snippet={command3} />\n      <p className=\"big-spacer-top markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.docs')}\n          id=\"onboarding.analysis.docs\"\n          values={{\n            link: (\n              <a\n                href=\"http://redirect.sonarsource.com/doc/install-configure-scanner-msbuild.html\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\">\n                {translate('onboarding.analysis.msbuild.docs_link')}\n              </a>\n            )\n          }}\n        />\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from '../../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  os: string;\n}\n\nexport default function SQScanner(props: Props) {\n  return (\n    <div className={props.className}>\n      <h4 className=\"spacer-bottom\">\n        {translate('onboarding.analysis.sq_scanner.header', props.os)}\n      </h4>\n      <p className=\"spacer-bottom markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.sq_scanner.text')}\n          id=\"onboarding.analysis.sq_scanner.text\"\n          values={{\n            dir: <code>bin</code>,\n            env_var: <code>{props.os === 'win' ? '%PATH%' : 'PATH'}</code>\n          }}\n        />\n      </p>\n      <p>\n        <a\n          className=\"button\"\n          href=\"http://redirect.sonarsource.com/doc/install-configure-scanner.html\"\n          rel=\"noopener noreferrer\"\n          target=\"_blank\">\n          {translate('download_verb')}\n        </a>\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport SQScanner from './SQScanner';\nimport BuildWrapper from './BuildWrapper';\nimport CodeSnippet from '../../../../components/common/CodeSnippet';\nimport InstanceMessage from '../../../../components/common/InstanceMessage';\nimport { translate } from '../../../../helpers/l10n';\nimport { quote } from '../../utils';\n\nexport interface Props {\n  host: string;\n  os: string;\n  organization?: string;\n  projectKey: string;\n  small?: boolean;\n  token: string;\n}\n\nconst executables: T.Dict<string> = {\n  linux: 'build-wrapper-linux-x86-64',\n  win: 'build-wrapper-win-x86-64.exe',\n  mac: 'build-wrapper-macosx-x86'\n};\n\nexport default function ClangGCC(props: Props) {\n  const command1 = `${executables[props.os]} --out-dir bw-output make clean all`;\n\n  const q = quote(props.os);\n  const command2 = [\n    props.os === 'win' ? 'sonar-scanner.bat' : 'sonar-scanner',\n    '-D' + q(`sonar.projectKey=${props.projectKey}`),\n    props.organization && '-D' + q(`sonar.organization=${props.organization}`),\n    '-D' + q('sonar.sources=.'),\n    '-D' + q('sonar.cfamily.build-wrapper-output=bw-output'),\n    '-D' + q(`sonar.host.url=${props.host}`),\n    '-D' + q(`sonar.login=${props.token}`)\n  ];\n\n  return (\n    <div>\n      <SQScanner os={props.os} />\n      <BuildWrapper className=\"huge-spacer-top\" os={props.os} />\n\n      <h4 className=\"huge-spacer-top spacer-bottom\">\n        {translate('onboarding.analysis.sq_scanner.execute')}\n      </h4>\n      <InstanceMessage message={translate('onboarding.analysis.sq_scanner.execute.text')}>\n        {transformedMessage => <p className=\"spacer-bottom markdown\">{transformedMessage}</p>}\n      </InstanceMessage>\n      <CodeSnippet isOneLine={props.small} snippet={command1} />\n      <CodeSnippet isOneLine={props.os === 'win'} snippet={command2} />\n      <p className=\"big-spacer-top markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.sq_scanner.docs')}\n          id=\"onboarding.analysis.sq_scanner.docs\"\n          values={{\n            link: (\n              <a\n                href=\"http://redirect.sonarsource.com/doc/install-configure-scanner.html\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\">\n                {translate('onboarding.analysis.sq_scanner.docs_link')}\n              </a>\n            )\n          }}\n        />\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport SQScanner from './SQScanner';\nimport CodeSnippet from '../../../../components/common/CodeSnippet';\nimport InstanceMessage from '../../../../components/common/InstanceMessage';\nimport { translate } from '../../../../helpers/l10n';\nimport { quote } from '../../utils';\n\nexport interface Props {\n  host: string;\n  organization?: string;\n  os: string;\n  projectKey: string;\n  token: string;\n}\n\nexport default function Other(props: Props) {\n  const q = quote(props.os);\n  const command = [\n    props.os === 'win' ? 'sonar-scanner.bat' : 'sonar-scanner',\n    '-D' + q(`sonar.projectKey=${props.projectKey}`),\n    props.organization && '-D' + q(`sonar.organization=${props.organization}`),\n    '-D' + q('sonar.sources=.'),\n    '-D' + q(`sonar.host.url=${props.host}`),\n    '-D' + q(`sonar.login=${props.token}`)\n  ];\n\n  return (\n    <div>\n      <SQScanner os={props.os} />\n\n      <h4 className=\"huge-spacer-top spacer-bottom\">\n        {translate('onboarding.analysis.sq_scanner.execute')}\n      </h4>\n      <InstanceMessage message={translate('onboarding.analysis.sq_scanner.execute.text')}>\n        {transformedMessage => <p className=\"spacer-bottom markdown\">{transformedMessage}</p>}\n      </InstanceMessage>\n      <CodeSnippet isOneLine={props.os === 'win'} snippet={command} />\n      <p className=\"big-spacer-top markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.sq_scanner.docs')}\n          id=\"onboarding.analysis.sq_scanner.docs\"\n          values={{\n            link: (\n              <a\n                href=\"http://redirect.sonarsource.com/doc/install-configure-scanner.html\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\">\n                {translate('onboarding.analysis.sq_scanner.docs_link')}\n              </a>\n            )\n          }}\n        />\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport JavaMaven from './JavaMaven';\nimport JavaGradle from './JavaGradle';\nimport DotNet from './DotNet';\nimport Msvc from './Msvc';\nimport ClangGCC from './ClangGCC';\nimport Other from './Other';\nimport { getHostUrl } from '../../../../helpers/urls';\nimport { LanguageConfig } from '../../utils';\nimport { getProjectKey } from '../ProjectAnalysisStep';\n\ninterface Props {\n  component?: T.Component;\n  organization?: string;\n  languageConfig: LanguageConfig;\n  small?: boolean;\n  token?: string;\n}\n\nexport default class AnalysisCommand extends React.PureComponent<Props> {\n  renderCommandForMaven = () => {\n    const { component, token } = this.props;\n    if (!token) {\n      return null;\n    }\n    return (\n      <JavaMaven\n        host={getHostUrl()}\n        organization={this.props.organization}\n        projectKey={component && component.key}\n        token={token}\n      />\n    );\n  };\n\n  renderCommandForGradle = () => {\n    const { component, token } = this.props;\n    if (!token) {\n      return null;\n    }\n    return (\n      <JavaGradle\n        host={getHostUrl()}\n        organization={this.props.organization}\n        projectKey={component && component.key}\n        token={token}\n      />\n    );\n  };\n\n  renderCommandForDotNet = () => {\n    const { component, languageConfig, small, token } = this.props;\n    const projectKey = getProjectKey(languageConfig, component);\n    if (!projectKey || !token) {\n      return null;\n    }\n    return (\n      <DotNet\n        host={getHostUrl()}\n        organization={this.props.organization}\n        projectKey={projectKey}\n        small={small}\n        token={token}\n      />\n    );\n  };\n\n  renderCommandForMSVC = () => {\n    const { component, languageConfig, small, token } = this.props;\n    const projectKey = getProjectKey(languageConfig, component);\n    if (!projectKey || !token) {\n      return null;\n    }\n    return (\n      <Msvc\n        host={getHostUrl()}\n        organization={this.props.organization}\n        projectKey={projectKey}\n        small={small}\n        token={token}\n      />\n    );\n  };\n\n  renderCommandForClangGCC = () => {\n    const { component, languageConfig, small, token } = this.props;\n    const projectKey = getProjectKey(languageConfig, component);\n    if (!languageConfig || !projectKey || !languageConfig.os || !token) {\n      return null;\n    }\n    return (\n      <ClangGCC\n        host={getHostUrl()}\n        organization={this.props.organization}\n        os={languageConfig.os}\n        projectKey={projectKey}\n        small={small}\n        token={token}\n      />\n    );\n  };\n\n  renderCommandForOther = () => {\n    const { component, languageConfig, token } = this.props;\n    const projectKey = getProjectKey(languageConfig, component);\n    if (!languageConfig || !projectKey || !languageConfig.os || !token) {\n      return null;\n    }\n    return (\n      <Other\n        host={getHostUrl()}\n        organization={this.props.organization}\n        os={languageConfig.os}\n        projectKey={projectKey}\n        token={token}\n      />\n    );\n  };\n\n  render() {\n    const { languageConfig } = this.props;\n\n    if (languageConfig.language === 'java') {\n      return languageConfig.javaBuild === 'maven'\n        ? this.renderCommandForMaven()\n        : this.renderCommandForGradle();\n    } else if (languageConfig.language === 'dotnet') {\n      return this.renderCommandForDotNet();\n    } else if (languageConfig.language === 'c-family') {\n      return languageConfig.cFamilyCompiler === 'msvc'\n        ? this.renderCommandForMSVC()\n        : this.renderCommandForClangGCC();\n    } else {\n      return this.renderCommandForOther();\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Step from './Step';\nimport LanguageForm from './LanguageForm';\nimport AnalysisCommand from './commands/AnalysisCommand';\nimport { translate } from '../../../helpers/l10n';\nimport { LanguageConfig } from '../utils';\n\ninterface Props {\n  component?: T.Component;\n  displayRowLayout?: boolean;\n  onFinish?: (projectKey?: string) => void;\n  onReset?: VoidFunction;\n  open: boolean;\n  organization?: string;\n  stepNumber: number;\n  token?: string;\n}\n\ninterface State {\n  config?: LanguageConfig;\n}\n\nexport function getProjectKey(config?: LanguageConfig, component?: T.Component) {\n  return (component && component.key) || (config && config.projectKey);\n}\n\nexport default class ProjectAnalysisStep extends React.PureComponent<Props, State> {\n  state: State = {};\n\n  handleLanguageSelect = (config: LanguageConfig) => {\n    this.setState({ config });\n    if (this.props.onFinish) {\n      const projectKey = config.language !== 'java' ? getProjectKey(config) : undefined;\n      this.props.onFinish(projectKey);\n    }\n  };\n\n  handleLanguageReset = () => {\n    this.setState({ config: undefined });\n    if (this.props.onReset) {\n      this.props.onReset();\n    }\n  };\n\n  renderForm = () => {\n    const languageComponent = (\n      <LanguageForm\n        component={this.props.component}\n        onDone={this.handleLanguageSelect}\n        onReset={this.handleLanguageReset}\n        organization={this.props.organization}\n      />\n    );\n    const analysisComponent = this.state.config && (\n      <AnalysisCommand\n        component={this.props.component}\n        languageConfig={this.state.config}\n        organization={this.props.organization}\n        small={true}\n        token={this.props.token}\n      />\n    );\n\n    if (this.props.displayRowLayout) {\n      return (\n        <div className=\"boxed-group-inner\">\n          <div className=\"display-flex-column\">\n            {languageComponent}\n            {analysisComponent && <div className=\"huge-spacer-top\">{analysisComponent}</div>}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"boxed-group-inner\">\n        <div className=\"flex-columns\">\n          <div className=\"flex-column flex-column-half bordered-right\">{languageComponent}</div>\n          <div className=\"flex-column flex-column-half\">{analysisComponent}</div>\n        </div>\n      </div>\n    );\n  };\n\n  renderResult = () => null;\n\n  render() {\n    return (\n      <Step\n        finished={false}\n        onOpen={() => {}}\n        open={this.props.open}\n        renderForm={this.renderForm}\n        renderResult={this.renderResult}\n        stepNumber={this.props.stepNumber}\n        stepTitle={translate('onboarding.analysis.header')}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport * as classNames from 'classnames';\nimport Step from './Step';\nimport AlertErrorIcon from '../../../components/icons-components/AlertErrorIcon';\nimport AlertSuccessIcon from '../../../components/icons-components/AlertSuccessIcon';\nimport { DeleteButton, SubmitButton, Button } from '../../../components/ui/buttons';\nimport { getTokens, generateToken, revokeToken } from '../../../api/user-tokens';\nimport { translate } from '../../../helpers/l10n';\nimport { getUniqueTokenName } from '../utils';\n\ninterface Props {\n  currentUser: Pick<T.LoggedInUser, 'login'>;\n  finished: boolean;\n  initialTokenName?: string;\n  open: boolean;\n  onContinue: (token: string) => void;\n  onOpen: VoidFunction;\n  stepNumber: number;\n}\n\ninterface State {\n  existingToken: string;\n  loading: boolean;\n  selection: string;\n  tokenName?: string;\n  token?: string;\n  tokens?: T.UserToken[];\n}\n\nexport default class TokenStep extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      existingToken: '',\n      loading: false,\n      selection: 'generate',\n      tokenName: props.initialTokenName\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    getTokens(this.props.currentUser.login).then(\n      tokens => {\n        if (this.mounted) {\n          this.setState({ tokens });\n          if (\n            this.props.initialTokenName !== undefined &&\n            this.props.initialTokenName === this.state.tokenName\n          ) {\n            this.setState({ tokenName: getUniqueTokenName(tokens) });\n          }\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getToken = () =>\n    this.state.selection === 'generate' ? this.state.token : this.state.existingToken;\n\n  canContinue = () => {\n    const { existingToken, selection, token } = this.state;\n    const validExistingToken = existingToken.match(/^[a-z0-9]+$/) != null;\n    return (\n      (selection === 'generate' && token != null) ||\n      (selection === 'use-existing' && existingToken && validExistingToken)\n    );\n  };\n\n  handleTokenNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ tokenName: event.target.value });\n  };\n\n  handleTokenGenerate = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const { tokenName } = this.state;\n    if (tokenName) {\n      this.setState({ loading: true });\n      generateToken({ name: tokenName }).then(({ token }) => {\n        if (this.mounted) {\n          this.setState({ loading: false, token });\n        }\n      }, this.stopLoading);\n    }\n  };\n\n  handleTokenRevoke = () => {\n    const { tokenName } = this.state;\n    if (tokenName) {\n      this.setState({ loading: true });\n      revokeToken({ name: tokenName }).then(() => {\n        if (this.mounted) {\n          this.setState({ loading: false, token: undefined, tokenName: undefined });\n        }\n      }, this.stopLoading);\n    }\n  };\n\n  handleContinueClick = () => {\n    const token = this.getToken();\n    if (token) {\n      this.props.onContinue(token);\n    }\n  };\n\n  handleGenerateClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState({ selection: 'generate' });\n  };\n\n  handleUseExistingClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState({ selection: 'use-existing' });\n  };\n\n  handleExisingTokenChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ existingToken: event.currentTarget.value });\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  renderGenerateOption = () => (\n    <div>\n      {this.state.tokens !== undefined && this.state.tokens.length > 0 ? (\n        <a\n          className=\"js-new link-base-color link-no-underline\"\n          href=\"#\"\n          onClick={this.handleGenerateClick}>\n          <i\n            className={classNames('icon-radio', 'spacer-right', {\n              'is-checked': this.state.selection === 'generate'\n            })}\n          />\n          {translate('onboarding.token.generate_token')}\n        </a>\n      ) : (\n        translate('onboarding.token.generate_token')\n      )}\n      {this.state.selection === 'generate' && (\n        <div className=\"big-spacer-top\">\n          <form onSubmit={this.handleTokenGenerate}>\n            <input\n              autoFocus={true}\n              className=\"input-super-large spacer-right text-middle\"\n              onChange={this.handleTokenNameChange}\n              placeholder={translate('onboarding.token.generate_token.placeholder')}\n              required={true}\n              type=\"text\"\n              value={this.state.tokenName || ''}\n            />\n            {this.state.loading ? (\n              <i className=\"spinner text-middle\" />\n            ) : (\n              <SubmitButton className=\"text-middle\" disabled={!this.state.tokenName}>\n                {translate('onboarding.token.generate')}\n              </SubmitButton>\n            )}\n          </form>\n        </div>\n      )}\n    </div>\n  );\n\n  renderUseExistingOption = () => {\n    const { existingToken } = this.state;\n    const validInput = !existingToken || existingToken.match(/^[a-z0-9]+$/) != null;\n\n    return (\n      <div className=\"big-spacer-top\">\n        <a\n          className=\"js-new link-base-color link-no-underline\"\n          href=\"#\"\n          onClick={this.handleUseExistingClick}>\n          <i\n            className={classNames('icon-radio', 'spacer-right', {\n              'is-checked': this.state.selection === 'use-existing'\n            })}\n          />\n          {translate('onboarding.token.use_existing_token')}\n        </a>\n        {this.state.selection === 'use-existing' && (\n          <div className=\"big-spacer-top\">\n            <input\n              autoFocus={true}\n              className=\"input-super-large spacer-right text-middle\"\n              onChange={this.handleExisingTokenChange}\n              placeholder={translate('onboarding.token.use_existing_token.placeholder')}\n              required={true}\n              type=\"text\"\n              value={this.state.existingToken}\n            />\n            {!validInput && (\n              <span className=\"text-danger\">\n                <AlertErrorIcon className=\"little-spacer-right text-text-top\" />\n                {translate('onboarding.token.invalid_format')}\n              </span>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  renderForm = () => {\n    const { loading, token, tokenName, tokens } = this.state;\n    const canUseExisting = tokens !== undefined && tokens.length > 0;\n\n    return (\n      <div className=\"boxed-group-inner\">\n        {token != null ? (\n          <form onSubmit={this.handleTokenRevoke}>\n            <span className=\"text-middle\">\n              {tokenName}\n              {': '}\n            </span>\n            <strong className=\"spacer-right text-middle\">{token}</strong>\n            {loading ? (\n              <i className=\"spinner text-middle\" />\n            ) : (\n              <DeleteButton className=\"button-small text-middle\" onClick={this.handleTokenRevoke} />\n            )}\n          </form>\n        ) : (\n          <div>\n            {this.renderGenerateOption()}\n            {canUseExisting && this.renderUseExistingOption()}\n          </div>\n        )}\n\n        <div className=\"note big-spacer-top width-50\">\n          <FormattedMessage\n            defaultMessage={translate('onboarding.token.text')}\n            id=\"onboarding.token.text\"\n            values={{\n              link: (\n                <Link target=\"_blank\" to=\"/account/security\">\n                  {translate('onboarding.token.text.user_account')}\n                </Link>\n              )\n            }}\n          />\n        </div>\n\n        {this.canContinue() && (\n          <div className=\"big-spacer-top\">\n            <Button className=\"js-continue\" onClick={this.handleContinueClick}>\n              {translate('continue')}\n            </Button>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  renderResult = () => {\n    const { selection, tokenName } = this.state;\n    const token = this.getToken();\n\n    if (!token) {\n      return null;\n    }\n\n    return (\n      <div className=\"boxed-group-actions display-flex-center\">\n        <AlertSuccessIcon className=\"spacer-right\" />\n        {selection === 'generate' && tokenName && `${tokenName}: `}\n        <strong>{token}</strong>\n      </div>\n    );\n  };\n\n  render() {\n    return (\n      <Step\n        finished={this.props.finished}\n        onOpen={this.props.onOpen}\n        open={this.props.open}\n        renderForm={this.renderForm}\n        renderResult={this.renderResult}\n        stepNumber={this.props.stepNumber}\n        stepTitle={translate('onboarding.token.header')}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AnalyzeTutorialSuggestion from './AnalyzeTutorialSuggestion';\nimport ProjectAnalysisStep from '../components/ProjectAnalysisStep';\nimport TokenStep from '../components/TokenStep';\nimport { isVSTS } from '../../../helpers/almIntegrations';\nimport { translate } from '../../../helpers/l10n';\nimport InstanceMessage from '../../../components/common/InstanceMessage';\nimport { isSonarCloud } from '../../../helpers/system';\nimport '../styles.css';\n\nexport enum Steps {\n  ANALYSIS,\n  TOKEN\n}\n\ninterface Props {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n}\n\ninterface State {\n  step: Steps;\n  token?: string;\n}\n\nexport default class AnalyzeTutorial extends React.PureComponent<Props, State> {\n  state: State = { step: Steps.TOKEN };\n\n  handleTokenDone = (token: string) => {\n    this.setState({ step: Steps.ANALYSIS, token });\n  };\n\n  handleTokenOpen = () => {\n    this.setState({ step: Steps.TOKEN });\n  };\n\n  render() {\n    const { component, currentUser } = this.props;\n    const { step, token } = this.state;\n\n    const almKey = (component.alm && component.alm.key) || currentUser.externalProvider;\n    return (\n      <>\n        <div className=\"page-header big-spacer-bottom\">\n          <h1 className=\"page-title\">{translate('onboarding.project_analysis.header')}</h1>\n          <p className=\"page-description\">\n            <InstanceMessage message={translate('onboarding.project_analysis.description')} />\n          </p>\n        </div>\n\n        {isSonarCloud() && <AnalyzeTutorialSuggestion almKey={almKey} />}\n\n        {!isVSTS(almKey) && (\n          <>\n            <TokenStep\n              currentUser={currentUser}\n              finished={Boolean(this.state.token)}\n              initialTokenName={`Analyze \"${component.name}\"`}\n              onContinue={this.handleTokenDone}\n              onOpen={this.handleTokenOpen}\n              open={step === Steps.TOKEN}\n              stepNumber={1}\n            />\n\n            <ProjectAnalysisStep\n              component={component}\n              displayRowLayout={true}\n              open={step === Steps.ANALYSIS}\n              organization={isSonarCloud() ? component.organization : undefined}\n              stepNumber={2}\n              token={token}\n            />\n          </>\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Alert } from '../../../../components/ui/Alert';\nimport DocTooltip from '../../../../components/docs/DocTooltip';\nimport { translate } from '../../../../helpers/l10n';\n\nconst caveats = {\n  default: `\nNo visual feedback (yet) in the UI.  \nOnly Pull Requests from the same repository are analyzed.  \nNot supported: code coverage, import of external rule engine reports.\n\n---\n\n[Read more](https://sonarcloud.io/documentation/autoscan/) and join [the forum](https://community.sonarsource.com/tags/c/help/sc/autoscan) to ask your questions\n`\n};\n\nconst limitedScope = {\n  default: `\nThe following languages are currently supported:\n\nABAP, Apex, CSS, Flex, Go, HTML, JS, Kotlin, PHP, Python, Ruby, Scala, Swift, TypeScript, TSQL, XML.\n`\n};\n\nexport function AutoScanAlert() {\n  return (\n    <Alert className=\"big-spacer-top\" variant=\"info\">\n      <div>\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.with.autoscan.alert')}\n          id=\"onboarding.analysis.with.autoscan.alert\"\n          values={{\n            caveats: (\n              <>\n                <strong>{translate('onboarding.analysis.with.autoscan.alert.caveats')}</strong>{' '}\n                <DocTooltip doc={Promise.resolve(caveats)} />\n              </>\n            ),\n            scopes: (\n              <>\n                <strong>{translate('onboarding.analysis.with.autoscan.alert.scopes')}</strong>{' '}\n                <DocTooltip doc={Promise.resolve(limitedScope)} />\n              </>\n            )\n          }}\n        />\n      </div>\n    </Alert>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { generateToken, getTokens, revokeToken } from '../../../../api/user-tokens';\nimport { getUniqueTokenName } from '../../utils';\nimport { translate, translateWithParameters } from '../../../../helpers/l10n';\nimport ConfirmModal from '../../../../components/controls/ConfirmModal';\nimport { Button, DeleteButton } from '../../../../components/ui/buttons';\nimport { RenderOptions } from '../../components/RenderOptions';\nimport { Alert } from '../../../../components/ui/Alert';\n\nexport enum TokenMode {\n  use_existing_token = 'use_existing_token',\n  generate_token = 'generate_token'\n}\n\ninterface State {\n  existingToken?: string;\n  mode: TokenMode;\n  token?: string;\n  tokenName: string;\n}\n\ninterface Props {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n  onClose: VoidFunction;\n  onSave: (token: string) => void;\n}\n\nexport default class EditTokenModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  initialTokenName = '';\n  state = {\n    mode: TokenMode.use_existing_token,\n    existingToken: '',\n    token: '',\n    tokenName: ''\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    const { component } = this.props;\n    this.initialTokenName = `Analyze \"${component.name}\"`;\n    this.getTokensAndName();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getTokensAndName = () => {\n    const { currentUser } = this.props;\n\n    getTokens(currentUser.login).then(\n      t => {\n        if (this.mounted) {\n          this.setState({ tokenName: getUniqueTokenName(t, this.initialTokenName) });\n        }\n      },\n      () => {}\n    );\n  };\n\n  getNewToken = () => {\n    const { tokenName = this.initialTokenName } = this.state;\n\n    generateToken({ name: tokenName }).then(\n      ({ token }: { token: string }) => {\n        if (this.mounted) {\n          this.setState({\n            token,\n            tokenName\n          });\n        }\n      },\n      () => {}\n    );\n  };\n\n  handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (this.mounted) {\n      this.setState({\n        tokenName: event.target.value\n      });\n    }\n  };\n\n  handleTokenRevoke = () => {\n    const { tokenName } = this.state;\n\n    if (tokenName) {\n      revokeToken({ name: tokenName }).then(\n        () => {\n          if (this.mounted) {\n            this.setState({\n              mode: TokenMode.use_existing_token,\n              token: '',\n              tokenName: ''\n            });\n          }\n        },\n        () => {}\n      );\n    }\n  };\n\n  setExistingToken = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (this.mounted) {\n      this.setState({\n        existingToken: event.target.value\n      });\n    }\n  };\n\n  setMode = (mode: TokenMode) => {\n    this.setState({ mode });\n  };\n\n  render() {\n    const { onClose, onSave } = this.props;\n    const { existingToken, mode, token, tokenName } = this.state;\n\n    const header = translate('onboarding.token.header');\n\n    const isConfirmEnabled =\n      (mode === TokenMode.generate_token && token) ||\n      (mode === TokenMode.use_existing_token && existingToken);\n\n    const onConfirm = () => {\n      if (mode === TokenMode.generate_token && token) {\n        onSave(token);\n      } else if (mode === TokenMode.use_existing_token && existingToken) {\n        onSave(existingToken);\n      }\n    };\n\n    return (\n      <ConfirmModal\n        confirmButtonText={translate('save')}\n        confirmDisable={!isConfirmEnabled}\n        header={header}\n        onClose={onClose}\n        onConfirm={onConfirm}>\n        <p className=\"spacer-bottom\">\n          <FormattedMessage\n            defaultMessage={translate('onboarding.token.text')}\n            id=\"onboarding.token.text\"\n            values={{\n              link: (\n                <Link target=\"_blank\" to=\"/account/security\">\n                  {translate('onboarding.token.text.user_account')}\n                </Link>\n              )\n            }}\n          />\n        </p>\n\n        {token ? (\n          <>\n            <span className=\"text-middle\">\n              {tokenName}\n              {': '}\n            </span>\n            <strong className=\"spacer-right text-middle\">{token}</strong>\n\n            <DeleteButton className=\"button-small text-middle\" onClick={this.handleTokenRevoke} />\n\n            <Alert className=\"big-spacer-top\" variant=\"warning\">\n              {translateWithParameters('users.tokens.new_token_created', token)}\n            </Alert>\n          </>\n        ) : (\n          <>\n            <RenderOptions\n              checked={mode}\n              name={'token-mode'}\n              onCheck={this.setMode}\n              optionLabelKey=\"onboarding.token\"\n              options={[TokenMode.use_existing_token, TokenMode.generate_token]}\n            />\n\n            <div className=\"big-spacer-top\">\n              {mode === TokenMode.generate_token && (\n                <>\n                  <input\n                    className=\"input-super-large spacer-right text-middle\"\n                    onChange={this.handleChange}\n                    placeholder={translate('onboarding.token.generate_token.placeholder')}\n                    required={true}\n                    type=\"text\"\n                    value={tokenName}\n                  />\n                  <Button className=\"text-middle\" disabled={!tokenName} onClick={this.getNewToken}>\n                    {translate('onboarding.token.generate')}\n                  </Button>\n                </>\n              )}\n\n              {mode === TokenMode.use_existing_token && (\n                <input\n                  className=\"input-super-large spacer-right text-middle\"\n                  onChange={this.setExistingToken}\n                  placeholder={translate('onboarding.token.use_existing_token.placeholder')}\n                  required={true}\n                  type=\"text\"\n                  value={existingToken}\n                />\n              )}\n            </div>\n          </>\n        )}\n      </ConfirmModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport EditTokenModal from './EditTokenModal';\nimport { Button, EditButton } from '../../../../components/ui/buttons';\nimport { translate } from '../../../../helpers/l10n';\nimport Step from '../../components/Step';\nimport CodeSnippet from '../../../../components/common/CodeSnippet';\n\nexport interface YourTokenProps {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n  hasStepAfter?: (hasStepAfter: boolean) => void;\n  onContinue: VoidFunction;\n  onOpen: VoidFunction;\n  open: boolean;\n  organization?: string;\n  setToken: (token: string) => void;\n  stepNumber: number;\n  token?: string;\n}\n\nexport default function EncryptYourTokenStep({\n  component,\n  currentUser,\n  onContinue,\n  onOpen,\n  open,\n  setToken,\n  stepNumber,\n  token\n}: YourTokenProps) {\n  const [showModal, toggleModal] = React.useState<boolean>(false);\n\n  const close = () => toggleModal(!showModal);\n\n  const save = (token: string) => {\n    setToken(token);\n    close();\n  };\n\n  const command = `travis encrypt {token}`;\n  const renderCommand = () => (\n    <div className=\"spacer-bottom\">\n      travis encrypt {token}\n      <EditButton className=\"edit-token spacer-left\" onClick={() => toggleModal(true)} />\n    </div>\n  );\n\n  const renderForm = () => (\n    <div className=\"boxed-group-inner\">\n      {showModal && (\n        <EditTokenModal\n          component={component}\n          currentUser={currentUser}\n          onClose={close}\n          onSave={save}\n        />\n      )}\n\n      <div className=\"display-flex-space-between\">\n        <div className=\"display-inline-block\">\n          <a\n            href=\"https://docs.travis-ci.com/user/encryption-keys/#usage\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            {translate('onboarding.analysis.with.travis.encrypt.docs.link.label')}\n          </a>\n          <br />\n          <CodeSnippet isOneLine={true} render={renderCommand} snippet={command} wrap={true} />\n        </div>\n      </div>\n\n      <div className=\"big-spacer-top\">\n        <Button className=\"js-continue\" onClick={onContinue}>\n          {translate('continue')}\n        </Button>\n      </div>\n    </div>\n  );\n\n  const renderResult = () => null;\n\n  return (\n    <Step\n      finished={true}\n      onOpen={onOpen}\n      open={open}\n      renderForm={renderForm}\n      renderResult={renderResult}\n      stepNumber={stepNumber}\n      stepTitle={translate('onboarding.analysis.with.travis.encrypt.title')}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport CodeSnippet from '../../../../components/common/CodeSnippet';\nimport { Button } from '../../../../components/ui/buttons';\nimport { translate } from '../../../../helpers/l10n';\nimport Step from '../../components/Step';\nimport { StepProps } from '../../utils';\n\nexport default function CreateSonarPropertiesStep({\n  component,\n  finished,\n  onContinue,\n  onOpen,\n  open,\n  stepNumber\n}: StepProps) {\n  const command = `sonar.projectKey=${component ? component.key : 'my:project'}\n# this is the name and version displayed in the SonarCloud UI.\nsonar.projectName=${component ? component.name : 'My project'}\nsonar.projectVersion=1.0\n \n# Path is relative to the sonar-project.properties file. Replace \"\\\\\" by \"/\" on Windows.\n# This property is optional if sonar.modules is set. \nsonar.sources=.\n \n# Encoding of the source code. Default is default system encoding\n#sonar.sourceEncoding=UTF-8`;\n\n  const renderForm = () => (\n    <div className=\"boxed-group-inner\">\n      <div className=\"flex-columns\">\n        <div className=\"flex-column-full\">\n          <p>\n            <FormattedMessage\n              defaultMessage={translate('onboarding.analysis.with.travis.sonar.properties.text')}\n              id=\"onboarding.analysis.with.travis.sonar.properties.text\"\n              values={{\n                code: <code>sonar-project.properties</code>\n              }}\n            />\n          </p>\n          <CodeSnippet snippet={command} />\n        </div>\n      </div>\n      <div className=\"big-spacer-top\">\n        <Button className=\"js-continue\" onClick={onContinue}>\n          {translate('onboarding.finish')}\n        </Button>\n      </div>\n    </div>\n  );\n\n  const renderResult = () => null;\n\n  return (\n    <Step\n      finished={Boolean(finished)}\n      onOpen={onOpen}\n      open={open}\n      renderForm={renderForm}\n      renderResult={renderResult}\n      stepNumber={stepNumber}\n      stepTitle={\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.with.travis.sonar.properties.title')}\n          id=\"onboarding.analysis.with.travis.sonar.properties.title\"\n          values={{\n            filename: <code className=\"rule\">sonar.properties</code>\n          }}\n        />\n      }\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Props } from '../JavaMaven';\nimport {\n  getSonarcloudAddonYml,\n  RequirementJavaBuild,\n  getSonarcloudAddonYmlRender\n} from '../AnalysisCommandTravis';\nimport { translate } from '../../../../../helpers/l10n';\nimport CodeSnippet from '../../../../../components/common/CodeSnippet';\n\nexport function JavaMavenTravisSonarCloud(props: Props) {\n  const command = `${getSonarcloudAddonYml(props.organization)}\n\nscript:\n  # the following command line builds the project, runs the tests with coverage and then execute the SonarCloud analysis\n  - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar`;\n\n  const renderCommand = () => (\n    <>\n      {getSonarcloudAddonYmlRender(props.organization)}\n      <br />\n      {`script:\n  # the following command line builds the project, runs the tests with coverage and then execute the SonarCloud analysis\n  - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar -Dsonar.projectKey=${\n    props.projectKey\n  }`}\n    </>\n  );\n\n  return (\n    <div>\n      <h2 className=\"spacer-bottom spacer-top\">\n        {translate('onboarding.analysis.with.travis.setup.title.a')}\n      </h2>\n\n      <RequirementJavaBuild />\n\n      <hr className=\"no-horizontal-margins\" />\n\n      <h2 className=\"spacer-bottom spacer-top\">\n        {translate('onboarding.analysis.with.travis.setup.title.b')}\n      </h2>\n\n      <p\n        className=\"spacer-bottom markdown\"\n        dangerouslySetInnerHTML={{\n          __html: translate('onboarding.analysis.java.maven.text.sonarcloud')\n        }}\n      />\n\n      <CodeSnippet render={renderCommand} snippet={command} />\n\n      <p\n        className=\"big-spacer-top markdown\"\n        dangerouslySetInnerHTML={{\n          __html: translate('onboarding.analysis.java.maven.docs.sonarcloud')\n        }}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport {\n  getSonarcloudAddonYml,\n  RequirementJavaBuild,\n  getSonarcloudAddonYmlRender\n} from '../AnalysisCommandTravis';\nimport { Props } from '../JavaGradle';\nimport { translate } from '../../../../../helpers/l10n';\nimport CodeSnippet from '../../../../../components/common/CodeSnippet';\n\nexport function JavaGradleTravisSonarCloud(props: Props) {\n  const config = `plugins {\n  id \"org.sonarqube\" version \"2.7\"\n}\n\nsonarqube {\n  properties {\n    sonar.projectKey: ${props.projectKey}\n  }\n}`;\n\n  const command = `${getSonarcloudAddonYml(props.organization)}\n\nscript:\n  - ./gradlew sonarqube`;\n\n  const renderCommand = () => (\n    <>\n      {getSonarcloudAddonYmlRender(props.organization)}\n      <br />\n      {`  script:\n  - ./gradlew sonarqube`}\n    </>\n  );\n\n  return (\n    <div>\n      <h2 className=\"spacer-bottom spacer-top\">\n        {translate('onboarding.analysis.with.travis.setup.title.a')}\n      </h2>\n\n      <RequirementJavaBuild />\n\n      <hr className=\"no-horizontal-margins\" />\n\n      <h2 className=\"spacer-bottom spacer-top\">\n        {translate('onboarding.analysis.with.travis.setup.title.b')}\n      </h2>\n\n      <FormattedMessage\n        defaultMessage={translate('onboarding.analysis.java.gradle.text.1.sonarcloud')}\n        id=\"onboarding.analysis.java.gradle.text.1.sonarcloud\"\n        values={{\n          file: <code>build.gradle</code>,\n          plugin: <code>org.sonarqube</code>\n        }}\n      />\n\n      <CodeSnippet snippet={config} />\n\n      <FormattedMessage\n        defaultMessage={translate('onboarding.analysis.java.gradle.text.2.sonarcloud')}\n        id=\"onboarding.analysis.java.gradle.text.2.sonarcloud\"\n        values={{\n          file: <code>.travis.yml</code>\n        }}\n      />\n\n      <CodeSnippet render={renderCommand} snippet={command} />\n\n      <FormattedMessage\n        defaultMessage={translate('onboarding.analysis.sq_scanner.docs_use_case')}\n        id=\"onboarding.analysis.sq_scanner.docs_use_case\"\n        values={{\n          link: (\n            <a\n              href=\"http://redirect.sonarsource.com/doc/gradle.html\"\n              rel=\"noopener noreferrer\"\n              target=\"_blank\">\n              {translate('onboarding.analysis.sqscanner.docs.gradle.title')}\n            </a>\n          ),\n          useCaseLink: (\n            <a\n              href=\"https://github.com/SonarSource/sq-com_example_java-gradle-travis\"\n              rel=\"noopener noreferrer\"\n              target=\"_blank\">\n              {translate('onboarding.analysis.sqscanner.docs.gradle.example_project.title')}\n            </a>\n          )\n        }}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from '../../../../../helpers/l10n';\nimport { RequirementOtherBuild } from '../AnalysisCommandTravis';\nimport CodeSnippet from '../../../../../components/common/CodeSnippet';\n\ninterface CommonTravisSonarCloudProps {\n  command: string;\n  renderCommand: () => JSX.Element;\n}\n\nexport function CommonTravisSonarCloud({ command, renderCommand }: CommonTravisSonarCloudProps) {\n  return (\n    <div>\n      <h2 className=\"spacer-bottom spacer-top\">\n        {translate('onboarding.analysis.with.travis.setup.title.a')}\n      </h2>\n\n      <RequirementOtherBuild />\n\n      <hr className=\"no-horizontal-margins\" />\n\n      <h2 className=\"spacer-bottom spacer-top\">\n        {translate('onboarding.analysis.with.travis.setup.title.b')}\n      </h2>\n\n      <FormattedMessage\n        defaultMessage={translate('onboarding.analysis.sq_scanner.text.sonarcloud')}\n        id=\"onboarding.analysis.sq_scanner.text.sonarcloud\"\n        values={{\n          file: <code>.travis.yml</code>\n        }}\n      />\n\n      <CodeSnippet render={renderCommand} snippet={command} />\n\n      <FormattedMessage\n        defaultMessage={translate('onboarding.analysis.sq_scanner.docs')}\n        id=\"onboarding.analysis.sq_scanner.docs\"\n        values={{\n          link: (\n            <a\n              href=\"http://redirect.sonarsource.com/doc/install-configure-scanner.html\"\n              rel=\"noopener noreferrer\"\n              target=\"_blank\">\n              {translate('onboarding.analysis.sq_scanner.docs_link')}\n            </a>\n          )\n        }}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { CommonTravisSonarCloud } from './utils';\nimport { getSonarcloudAddonYml, getSonarcloudAddonYmlRender } from '../AnalysisCommandTravis';\nimport { Props } from '../Other';\n\nexport function OtherTravisSonarCloud(props: Props) {\n  const command = `${getSonarcloudAddonYml(props.organization)}\n\nscript:\n  # the following command line builds the project, runs the tests with coverage and then execute the SonarCloud analysis\n  - sonar-scanner`;\n\n  const renderCommand = () => (\n    <>\n      {getSonarcloudAddonYmlRender(props.organization)}\n      <br />\n      {`script:\n  # the following command line builds the project, runs the tests with coverage and then execute the SonarCloud analysis\n  - sonar-scanner`}\n    </>\n  );\n\n  return <CommonTravisSonarCloud command={command} renderCommand={renderCommand} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { CommonTravisSonarCloud } from './utils';\nimport { getSonarcloudAddonYml, getSonarcloudAddonYmlRender } from '../AnalysisCommandTravis';\nimport { Props } from '../ClangGCC';\n\nexport function ClangGCCTravisSonarCloud(props: Props) {\n  const command = `${getSonarcloudAddonYml(props.organization)}\n\nscript:\n  - make clean\n  # Wraps the compilation with the Build Wrapper to generate configuration (used\n  # later by the SonarQube Scanner) into the \"bw-output\" folder\n  - build-wrapper-linux-x86-64 --out-dir bw-output make all\n  # Execute some tests\n  - make test\n  # And finally run the SonarQube analysis - read the \"sonar-project.properties\"\n  # file to see the specific configuration\n  - sonar-scanner`;\n\n  const renderCommand = () => (\n    <>\n      {getSonarcloudAddonYmlRender(props.organization)}\n      <br />\n      {`script:\n  - make clean\n  # Wraps the compilation with the Build Wrapper to generate configuration (used\n  # later by the SonarQube Scanner) into the \"bw-output\" folder\n  - build-wrapper-linux-x86-64 --out-dir bw-output make all\n  # Execute some tests\n  - make test\n  # And finally run the SonarQube analysis - read the \"sonar-project.properties\"\n  # file to see the specific configuration\n  - sonar-scanner`}\n    </>\n  );\n\n  return <CommonTravisSonarCloud command={command} renderCommand={renderCommand} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { JavaMavenTravisSonarCloud } from './TravisSonarCloud/JavaMavenTravisSonarCloud';\nimport { JavaGradleTravisSonarCloud } from './TravisSonarCloud/JavaGradleTravisSonarCloud';\nimport { OtherTravisSonarCloud } from './TravisSonarCloud/OtherTravisSonarCloud';\nimport { ClangGCCTravisSonarCloud } from './TravisSonarCloud/ClangGCCTravisSonarCloud';\nimport { getHostUrl } from '../../../../helpers/urls';\nimport CodeSnippet from '../../../../components/common/CodeSnippet';\nimport { translate } from '../../../../helpers/l10n';\nimport { getProjectKey } from '../ProjectAnalysisStep';\n\ninterface Props {\n  buildType: string | undefined;\n  component?: T.Component;\n  organization?: string;\n  small?: boolean;\n  token?: string;\n}\n\ninterface RenderProps {\n  component?: T.Component;\n  organization?: string;\n  small?: boolean;\n  token?: string;\n}\n\nexport function getSonarcloudAddonYml(organization: string = '') {\n  return `addons:\n  sonarcloud:\n    organization: ${organization ? `\"${organization}\"` : `\"Add your organization key\"`}\n    token:\n      secure: \"**************************\" # encrypted value of your token`;\n}\n\nexport function getSonarcloudAddonYmlRender(organization: string = '') {\n  return (\n    <>\n      {`addons:\n  sonarcloud:\n    organization: ${organization ? `\"${organization}\"` : `\"Add your organization key\"`}\n    token:\n      secure: `}\n      {\n        <span className=\"highlight\">\n          {'\"**************************\"'} # encrypted value of your token\n        </span>\n      }\n      <br />\n    </>\n  );\n}\n\nexport function RequirementJavaBuild() {\n  return (\n    <>\n      <p className=\"spacer-bottom\">{translate('onboarding.analysis.with.travis.environments')}</p>\n\n      <div className=\"flex-columns\">\n        <div className=\"flex-column flex-column-half\">\n          <a\n            href=\"https://docs.travis-ci.com/user/reference/precise/\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            {translate('onboarding.analysis.with.travis.environment.image.java')}\n          </a>\n          <CodeSnippet isOneLine={true} noCopy={true} snippet={'language: java'} />\n        </div>\n\n        <div className=\"display-flex-stretch\">\n          <div className=\"vertical-pipe-separator\">\n            <div className=\"vertical-separator \" />\n            <span className=\"note\">{translate('or')}</span>\n            <div className=\"vertical-separator\" />\n          </div>\n        </div>\n\n        <div className=\"flex-column flex-column-half\">\n          <a\n            href=\"https://docs.travis-ci.com/user/reference/trusty/\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            {translate('onboarding.analysis.with.travis.environment.image.ci')}\n          </a>\n          <CodeSnippet isOneLine={true} noCopy={true} snippet={'dist: trusty'} />\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport function RequirementOtherBuild() {\n  return (\n    <>\n      <p>\n        {translate('onboarding.analysis.with.travis.environment')}{' '}\n        <a\n          href=\"https://docs.travis-ci.com/user/reference/trusty/\"\n          rel=\"noopener noreferrer\"\n          target=\"_blank\">\n          {translate('onboarding.analysis.with.travis.environment.image.ci')}\n        </a>\n      </p>\n\n      <CodeSnippet isOneLine={true} noCopy={true} snippet={'dist: trusty'} />\n    </>\n  );\n}\n\nexport function RenderCommandForClangOrGCC({ component, organization, small, token }: RenderProps) {\n  const projectKey = getProjectKey(undefined, component);\n  if (!projectKey || !token) {\n    return null;\n  }\n  return (\n    <ClangGCCTravisSonarCloud\n      host={getHostUrl()}\n      organization={organization}\n      os=\"linux\"\n      projectKey={projectKey}\n      small={small}\n      token={token}\n    />\n  );\n}\n\nexport function RenderCommandForGradle({ component, organization, token }: RenderProps) {\n  if (!token) {\n    return null;\n  }\n\n  return (\n    <JavaGradleTravisSonarCloud\n      host={getHostUrl()}\n      organization={organization}\n      projectKey={component && component.key}\n      token={token}\n    />\n  );\n}\n\nexport function RenderCommandForMaven({ component, organization, token }: RenderProps) {\n  if (!token) {\n    return null;\n  }\n\n  return (\n    <JavaMavenTravisSonarCloud\n      host={getHostUrl()}\n      organization={organization}\n      projectKey={component && component.key}\n      token={token}\n    />\n  );\n}\n\nexport function RenderCommandForOther({ component, organization, token }: RenderProps) {\n  const projectKey = getProjectKey(undefined, component);\n  if (!projectKey || !token) {\n    return null;\n  }\n  return (\n    <OtherTravisSonarCloud\n      host={getHostUrl()}\n      organization={organization}\n      os={'linux'}\n      projectKey={projectKey}\n      token={token}\n    />\n  );\n}\n\nfunction getBuildOptions(): {\n  [k: string]: (props: Props) => JSX.Element | null;\n} {\n  return {\n    gradle: RenderCommandForGradle,\n    make: RenderCommandForClangOrGCC,\n    maven: RenderCommandForMaven,\n    other: RenderCommandForOther\n  };\n}\n\nexport default function AnalysisCommandTravis(props: Props) {\n  const { buildType } = props;\n\n  const Build = (buildType && getBuildOptions()[buildType]) || undefined;\n\n  return Build ? <Build {...props} /> : null;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { RenderOptions } from './RenderOptions';\n\ninterface Props {\n  build: string | undefined;\n  setBuild: (build: string) => void;\n}\n\nexport default function BuildSystemForm({ build, setBuild }: Props) {\n  return (\n    <RenderOptions\n      checked={build}\n      name=\"build\"\n      onCheck={setBuild}\n      optionLabelKey={'onboarding.build'}\n      options={['maven', 'gradle', 'make', 'other']}\n      titleLabelKey=\"onboarding.build\"\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport AnalysisCommandTravis from '../../components/commands/AnalysisCommandTravis';\nimport { Button } from '../../../../components/ui/buttons';\nimport { translate } from '../../../../helpers/l10n';\nimport Step from '../../components/Step';\nimport BuildSystemForm from '../../components/BuildSystemForm';\nimport { StepProps } from '../../utils';\n\ninterface BuildProps {\n  buildCallback: (build: string) => void;\n  buildType?: string;\n}\n\nexport default function EditTravisYmlStep({\n  buildCallback,\n  buildType,\n  component,\n  finished,\n  hasStepAfter,\n  onContinue,\n  onOpen,\n  open,\n  organization,\n  stepNumber,\n  token\n}: StepProps & BuildProps) {\n  const [build, setBuild] = React.useState<string | undefined>(buildType || undefined);\n\n  if (!build && buildType) {\n    setBuild(buildType);\n  }\n\n  const isJavaBuild = build && ['gradle', 'maven'].includes(build);\n\n  if (hasStepAfter && build) {\n    hasStepAfter(!isJavaBuild);\n  }\n\n  const chooseBuild = (build: string) => {\n    buildCallback(build);\n    setBuild(build);\n  };\n\n  const renderForm = () => (\n    <div className=\"boxed-group-inner\">\n      <div className=\"flex-columns\">\n        <div className=\"flex-column-full\">\n          <BuildSystemForm build={build} setBuild={chooseBuild} />\n\n          {build && (\n            <AnalysisCommandTravis\n              buildType={build}\n              component={component}\n              organization={organization}\n              token={token}\n            />\n          )}\n        </div>\n      </div>\n      <div className=\"big-spacer-top\">\n        {build && (\n          <Button className=\"js-continue\" onClick={onContinue}>\n            {translate(isJavaBuild ? 'onboarding.finish' : 'continue')}\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n\n  const renderResult = () => null;\n\n  return (\n    <Step\n      finished={Boolean(finished)}\n      onOpen={onOpen}\n      open={open}\n      renderForm={renderForm}\n      renderResult={renderResult}\n      stepNumber={stepNumber}\n      stepTitle={\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.travis.sonarcloud')}\n          id=\"onboarding.analysis.travis.sonarcloud\"\n          values={{\n            filename: <code className=\"rule\">.travis.yml</code>\n          }}\n        />\n      }\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nexport const PROJECT_ONBOARDING_DONE = 'sonarcloud.project.onboarding.finished';\nexport const PROJECT_ONBOARDING_MODE_ID = 'sonarcloud.project.onboarding.mode.id';\nexport const PROJECT_STEP_PROGRESS = 'sonarcloud.project.onboarding.step.progress';\n\nexport interface AlmLanguagesStats {\n  [k: string]: number;\n}\n\nexport interface Alm {\n  id: string;\n  name: string;\n}\n\nexport interface AnalysisMode {\n  icon?: string;\n  id: string;\n  name: string;\n}\n\nexport enum ALM_KEYS {\n  BITBUCKET = 'BITBUCKET',\n  GITHUB = 'GITHUB',\n  MICROSOFT = 'MICROSOFT'\n}\n\nexport const alms: { [k: string]: Alm } = {\n  [ALM_KEYS.BITBUCKET]: {\n    id: ALM_KEYS.BITBUCKET,\n    name: 'BitBucket'\n  },\n  [ALM_KEYS.GITHUB]: {\n    id: ALM_KEYS.GITHUB,\n    name: 'GitHub'\n  },\n  [ALM_KEYS.MICROSOFT]: {\n    id: ALM_KEYS.MICROSOFT,\n    name: 'Microsoft'\n  }\n};\n\nexport const modes: AnalysisMode[] = [\n  {\n    id: 'travis',\n    name: 'With Travis CI'\n  },\n  {\n    id: 'other',\n    name: 'With other CI tools'\n  },\n  {\n    id: 'manual',\n    name: 'Manually'\n  }\n];\n\nexport const autoScanMode: AnalysisMode = {\n  id: 'autoscan',\n  name: 'SonarCloud Automatic Analysis'\n};\n\nexport interface TutorialProps {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n  onDone: VoidFunction;\n  setToken: (token: string) => void;\n  style?: object;\n  token: string | undefined;\n}\n\ninterface AutoScannableProps {\n  [k: string]: number;\n}\n\nexport function isAutoScannable(languages: AutoScannableProps = {}) {\n  const allowed = [\n    'ABAP',\n    'Apex',\n    'CSS',\n    'Flex',\n    'Go',\n    'HTML',\n    'JavaScript',\n    'Kotlin',\n    'PHP',\n    'Python',\n    'Ruby',\n    'Scala',\n    'Swift',\n    'TypeScript',\n    'TSQL',\n    'XML'\n  ];\n  const notAllowed = ['Java', 'C#', 'Visual Basic', 'C', 'C++', 'Objective-C'];\n\n  const withAllowedLanguages = !!Object.keys(languages).find(l => allowed.includes(l));\n  const withNotAllowedLanguages = !!Object.keys(languages).find(l => notAllowed.includes(l));\n\n  return { withAllowedLanguages, withNotAllowedLanguages };\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport EncryptYourTokenStep from '../steps/EncryptYourTokenStep';\nimport CreateSonarPropertiesStep from '../steps/CreateSonarPropertiesStep';\nimport EditTravisYmlStep from '../steps/EditTravisYmlStep';\nimport { isSonarCloud } from '../../../../helpers/system';\nimport { PROJECT_STEP_PROGRESS, TutorialProps } from '../utils';\nimport { translate } from '../../../../helpers/l10n';\nimport { get, save } from '../../../../helpers/storage';\n\nenum Steps {\n  ENCRYPT_TOKEN = 1,\n  EDIT_TRAVIS_YML = 2,\n  CREATE_SONAR_PROPERTIES = 3\n}\n\nexport default function ConfigureWithTravis({\n  component,\n  currentUser,\n  onDone,\n  setToken,\n  token\n}: TutorialProps) {\n  const [build, setBuild] = React.useState<string | undefined>(undefined);\n  const [step, setStep] = React.useState<Steps>(Steps.ENCRYPT_TOKEN);\n  const [hasStepAfterTravisYml, setHasStepAfterTravilYml] = React.useState<boolean>(false);\n\n  React.useEffect(() => {\n    const value = get(PROJECT_STEP_PROGRESS, component.key);\n    if (value) {\n      try {\n        const data = JSON.parse(value);\n        setBuild(data.build);\n        setStep(data.step);\n        setHasStepAfterTravilYml(data.hasStepAfterTravisYml);\n      } catch (e) {\n        // Let's start from scratch\n      }\n    }\n  }, [component.key]);\n\n  const saveAndFinish = () => {\n    save(\n      PROJECT_STEP_PROGRESS,\n      JSON.stringify({\n        build,\n        hasStepAfterTravisYml,\n        step\n      }),\n      component.key\n    );\n\n    onDone();\n  };\n\n  return (\n    <>\n      <h1 className=\"spacer-bottom spacer-top\">\n        {translate('onboarding.analysis.with.travis.title')}\n      </h1>\n\n      <EncryptYourTokenStep\n        component={component}\n        currentUser={currentUser}\n        onContinue={() => setStep(Steps.EDIT_TRAVIS_YML)}\n        onOpen={() => setStep(Steps.ENCRYPT_TOKEN)}\n        open={step === Steps.ENCRYPT_TOKEN}\n        setToken={setToken}\n        stepNumber={1}\n        token={token}\n      />\n\n      <EditTravisYmlStep\n        buildCallback={setBuild}\n        buildType={build}\n        component={component}\n        finished={step >= 2}\n        hasStepAfter={setHasStepAfterTravilYml}\n        onContinue={() =>\n          hasStepAfterTravisYml ? setStep(Steps.CREATE_SONAR_PROPERTIES) : saveAndFinish()\n        }\n        onOpen={() => setStep(Steps.EDIT_TRAVIS_YML)}\n        open={step === Steps.EDIT_TRAVIS_YML}\n        organization={isSonarCloud() ? component.organization : undefined}\n        stepNumber={2}\n        token={token}\n      />\n\n      {hasStepAfterTravisYml && (\n        <CreateSonarPropertiesStep\n          component={component}\n          finished={step >= 3}\n          onContinue={saveAndFinish}\n          onOpen={() => setStep(Steps.CREATE_SONAR_PROPERTIES)}\n          open={step === Steps.CREATE_SONAR_PROPERTIES}\n          stepNumber={3}\n        />\n      )}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from '../../../../../helpers/l10n';\nimport InstanceMessage from '../../../../../components/common/InstanceMessage';\nimport CodeSnippet from '../../../../../components/common/CodeSnippet';\nimport { Button, EditButton } from '../../../../../components/ui/buttons';\nimport { ProjectAnalysisModes } from '../../ProjectAnalysisStepFromBuildTool';\n\nexport interface JavaCustomProps {\n  host: string;\n  mode: ProjectAnalysisModes;\n  onDone: VoidFunction;\n  organization?: string;\n  projectKey?: string;\n  toggleModal: VoidFunction;\n  token: string;\n}\n\ninterface RenderCustomCommandProps {\n  command: (string | undefined)[];\n  toggleModal: VoidFunction;\n}\n\nexport function RenderCustomCommand({\n  command,\n  toggleModal\n}: RenderCustomCommandProps): JSX.Element {\n  return (\n    <>\n      {command.join(' \\\\\\n  ')}{' '}\n      <EditButton className=\"edit-token spacer-left\" onClick={toggleModal} />\n    </>\n  );\n}\n\ninterface RenderCustomContent {\n  linkText: string;\n  linkUrl: string;\n  onDone: VoidFunction;\n}\n\nexport function RenderCustomContent({\n  command,\n  linkText,\n  linkUrl,\n  onDone,\n  toggleModal\n}: RenderCustomCommandProps & RenderCustomContent) {\n  return (\n    <>\n      <CodeSnippet\n        render={() => <RenderCustomCommand command={command} toggleModal={toggleModal} />}\n        snippet={command}\n        wrap={true}\n      />\n\n      <p className=\"big-spacer-top markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.docs')}\n          id=\"onboarding.analysis.docs\"\n          values={{\n            link: (\n              <a href={linkUrl} rel=\"noopener noreferrer\" target=\"_blank\">\n                {translate(linkText)}\n              </a>\n            )\n          }}\n        />\n      </p>\n\n      <div className=\"big-spacer-top\">\n        <Button className=\"js-continue\" onClick={onDone}>\n          {translate('onboarding.finish')}\n        </Button>\n      </div>\n    </>\n  );\n}\n\nexport default function JavaMavenCustom(props: JavaCustomProps) {\n  const suffix = props.mode === ProjectAnalysisModes.CI ? '.ci' : '';\n  const command = [\n    'mvn sonar:sonar',\n    props.projectKey && `-Dsonar.projectKey=${props.projectKey}`,\n    props.organization && `-Dsonar.organization=${props.organization}`,\n    `-Dsonar.host.url=${props.host}`,\n    `-Dsonar.login=${props.token}`\n  ];\n\n  return (\n    <div>\n      <h4 className=\"spacer-bottom\">\n        {translate(`onboarding.analysis.java.maven.header${suffix}`)}\n      </h4>\n\n      <p className=\"spacer-bottom markdown\">\n        <InstanceMessage\n          message={translate(`onboarding.analysis.java.maven.text.custom${suffix}`)}\n        />\n      </p>\n\n      <RenderCustomContent\n        command={command}\n        linkText=\"onboarding.analysis.java.maven.docs_link\"\n        linkUrl=\"http://redirect.sonarsource.com/doc/install-configure-scanner-maven.html\"\n        onDone={props.onDone}\n        toggleModal={props.toggleModal}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { JavaCustomProps, RenderCustomContent } from './JavaMavenCustom';\nimport { translate } from '../../../../../helpers/l10n';\nimport CodeSnippet from '../../../../../components/common/CodeSnippet';\nimport { ProjectAnalysisModes } from '../../ProjectAnalysisStepFromBuildTool';\n\nexport default function JavaGradleCustom(props: JavaCustomProps) {\n  const suffix = props.mode === ProjectAnalysisModes.CI ? '.ci' : '';\n  const config = 'plugins {\\n  id \"org.sonarqube\" version \"2.7\"\\n}';\n\n  const command = [\n    './gradlew sonarqube',\n    props.projectKey && `-Dsonar.projectKey=${props.projectKey}`,\n    props.organization && `-Dsonar.organization=${props.organization}`,\n    `-Dsonar.host.url=${props.host}`,\n    `-Dsonar.login=${props.token}`\n  ];\n\n  return (\n    <div>\n      <h4 className=\"spacer-bottom\">\n        {translate(`onboarding.analysis.java.gradle.header${suffix}`)}\n      </h4>\n\n      <FormattedMessage\n        defaultMessage={translate('onboarding.analysis.java.gradle.text.1.sonarcloud')}\n        id=\"onboarding.analysis.java.gradle.text.1.sonarcloud\"\n        values={{\n          file: <code>build.gradle</code>,\n          plugin: <code>org.sonarqube</code>\n        }}\n      />\n\n      <CodeSnippet snippet={config} />\n\n      <p className=\"spacer-top spacer-bottom markdown\">\n        {translate('onboarding.analysis.java.gradle.text.2')}\n      </p>\n\n      <RenderCustomContent\n        command={command}\n        linkText=\"onboarding.analysis.java.gradle.docs_link\"\n        linkUrl=\"http://redirect.sonarsource.com/doc/gradle.html\"\n        onDone={props.onDone}\n        toggleModal={props.toggleModal}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { quote } from '../../../utils';\nimport SQScanner from '../SQScanner';\nimport BuildWrapper from '../BuildWrapper';\nimport { translate } from '../../../../../helpers/l10n';\nimport CodeSnippet from '../../../../../components/common/CodeSnippet';\nimport { Button, EditButton } from '../../../../../components/ui/buttons';\nimport { ProjectAnalysisModes } from '../../ProjectAnalysisStepFromBuildTool';\n\nexport interface Props {\n  host: string;\n  mode: ProjectAnalysisModes;\n  onDone: VoidFunction;\n  os: string;\n  organization?: string;\n  projectKey: string;\n  small?: boolean;\n  toggleModal: VoidFunction;\n  token: string;\n}\n\nconst executables: T.Dict<string> = {\n  linux: 'build-wrapper-linux-x86-64',\n  win: 'build-wrapper-win-x86-64.exe',\n  mac: 'build-wrapper-macosx-x86'\n};\n\ninterface ClangGCCProps extends Pick<Props, 'small' | 'onDone' | 'os'> {\n  command1: string;\n  command2: (string | undefined)[];\n  renderCommand2: () => JSX.Element;\n}\n\nexport function ClangGCCCommon(props: ClangGCCProps) {\n  return (\n    <>\n      <h4 className=\"huge-spacer-top spacer-bottom\">\n        {translate('onboarding.analysis.sq_scanner.execute')}\n      </h4>\n\n      <p className=\"spacer-bottom markdown\">\n        {translate('onboarding.analysis.sq_scanner.execute.text.custom')}\n      </p>\n\n      <CodeSnippet isOneLine={props.small} snippet={props.command1} />\n\n      <CodeSnippet\n        isOneLine={props.os === 'win'}\n        render={props.renderCommand2}\n        snippet={props.command2}\n        wrap={true}\n      />\n\n      <FormattedMessage\n        defaultMessage={translate('onboarding.analysis.sq_scanner.docs')}\n        id=\"onboarding.analysis.sq_scanner.docs\"\n        values={{\n          link: (\n            <a\n              href=\"http://redirect.sonarsource.com/doc/install-configure-scanner.html\"\n              rel=\"noopener noreferrer\"\n              target=\"_blank\">\n              {translate('onboarding.analysis.sq_scanner.docs_link')}\n            </a>\n          )\n        }}\n      />\n\n      <div className=\"big-spacer-top\">\n        <Button className=\"js-continue\" onClick={props.onDone}>\n          {translate('onboarding.finish')}\n        </Button>\n      </div>\n    </>\n  );\n}\n\nexport default function ClangGCCCustom(props: Props) {\n  const command1 = `${executables[props.os]} --out-dir bw-output make clean all`;\n\n  const q = quote(props.os);\n  const command2 = [\n    props.os === 'win' ? 'sonar-scanner.bat' : 'sonar-scanner',\n    '-D' + q(`sonar.projectKey=${props.projectKey}`),\n    props.organization && '-D' + q(`sonar.organization=${props.organization}`),\n    '-D' + q('sonar.sources=.'),\n    '-D' + q('sonar.cfamily.build-wrapper-output=bw-output'),\n    '-D' + q(`sonar.host.url=${props.host}`),\n    '-D' + q(`sonar.login=${props.token}`)\n  ];\n\n  const renderCommand2 = () => (\n    <>\n      {command2.join(' \\\\\\n  ')}{' '}\n      <EditButton className=\"edit-token spacer-left\" onClick={props.toggleModal} />\n    </>\n  );\n\n  return (\n    <div className=\"huge-spacer-top\">\n      <SQScanner os={props.os} />\n      <BuildWrapper className=\"huge-spacer-top\" os={props.os} />\n      <ClangGCCCommon\n        command1={command1}\n        command2={command2}\n        onDone={props.onDone}\n        os={props.os}\n        renderCommand2={renderCommand2}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SQScanner from '..//SQScanner';\nimport CodeSnippet from '../../../../../components/common/CodeSnippet';\nimport InstanceMessage from '../../../../../components/common/InstanceMessage';\nimport { translate } from '../../../../../helpers/l10n';\nimport { quote } from '../../../utils';\nimport { Button, EditButton } from '../../../../../components/ui/buttons';\nimport { ProjectAnalysisModes } from '../../ProjectAnalysisStepFromBuildTool';\n\nexport interface Props {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n  host: string;\n  mode: ProjectAnalysisModes;\n  onDone: VoidFunction;\n  organization?: string;\n  os: string;\n  projectKey: string;\n  toggleModal: VoidFunction;\n  token: string;\n}\n\nexport default function OtherCustom(props: Props) {\n  const q = quote(props.os);\n  const command = [\n    props.os === 'win' ? 'sonar-scanner.bat' : 'sonar-scanner',\n    '-D' + q(`sonar.projectKey=${props.projectKey}`),\n    props.organization && '-D' + q(`sonar.organization=${props.organization}`),\n    '-D' + q('sonar.sources=.'),\n    '-D' + q(`sonar.host.url=${props.host}`),\n    '-D' + q(`sonar.login=${props.token}`)\n  ];\n\n  const renderCommand = () => (\n    <>\n      {command.join(' \\\\\\n  ')}{' '}\n      <EditButton className=\"edit-token spacer-left\" onClick={props.toggleModal} />\n    </>\n  );\n\n  return (\n    <div className=\"huge-spacer-top\">\n      <SQScanner os={props.os} />\n\n      <h4 className=\"huge-spacer-top spacer-bottom\">\n        {translate('onboarding.analysis.sq_scanner.execute')}\n      </h4>\n\n      <InstanceMessage message={translate('onboarding.analysis.sq_scanner.execute.text.custom')}>\n        {transformedMessage => (\n          <p\n            className=\"spacer-bottom markdown\"\n            dangerouslySetInnerHTML={{ __html: transformedMessage }}\n          />\n        )}\n      </InstanceMessage>\n\n      <CodeSnippet\n        isOneLine={props.os === 'win'}\n        render={renderCommand}\n        snippet={command}\n        wrap={true}\n      />\n\n      <p\n        className=\"big-spacer-top markdown\"\n        dangerouslySetInnerHTML={{ __html: translate('onboarding.analysis.standard.docs') }}\n      />\n\n      <div className=\"big-spacer-top\">\n        <Button className=\"js-continue\" onClick={props.onDone}>\n          {translate('onboarding.finish')}\n        </Button>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SQScanner from '..//SQScanner';\nimport CodeSnippet from '../../../../../components/common/CodeSnippet';\nimport InstanceMessage from '../../../../../components/common/InstanceMessage';\nimport { translate } from '../../../../../helpers/l10n';\nimport { quote } from '../../../utils';\nimport { Button, EditButton } from '../../../../../components/ui/buttons';\n\nexport interface Props {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n  host: string;\n  onDone: VoidFunction;\n  organization?: string;\n  os: string;\n  projectKey: string;\n  toggleModal: VoidFunction;\n  token: string;\n}\n\nexport default function OtherOtherCI(props: Props) {\n  const q = quote(props.os);\n  const command = [\n    props.os === 'win' ? 'sonar-scanner.bat' : 'sonar-scanner',\n    '-D' + q(`sonar.projectKey=${props.projectKey}`),\n    props.organization && '-D' + q(`sonar.organization=${props.organization}`),\n    '-D' + q('sonar.sources=.'),\n    '-D' + q(`sonar.host.url=${props.host}`),\n    '-D' + q(`sonar.login=${props.token}`)\n  ];\n\n  const renderCommand = () => (\n    <>\n      {command.join(' \\\\\\n  ')}{' '}\n      <EditButton className=\"edit-token spacer-left\" onClick={props.toggleModal} />\n    </>\n  );\n\n  const commandLinuxMac = `\nlocal SONAR_SCANNER_VERSION=${translate('onboarding.analysis.sonar_scanner_version')}\nexport SONAR_SCANNER_HOME=$HOME/.sonar/sonar-scanner-$SONAR_SCANNER_VERSION\nrm -rf $SONAR_SCANNER_HOME\nmkdir -p $SONAR_SCANNER_HOME\ncurl -sSLo $HOME/.sonar/sonar-scanner.zip http://repo1.maven.org/maven2/org/sonarsource/scanner/cli/sonar-scanner-cli/$SONAR_SCANNER_VERSION/sonar-scanner-cli-$SONAR_SCANNER_VERSION.zip\nunzip $HOME/.sonar/sonar-scanner.zip -d $HOME/.sonar/\nrm $HOME/.sonar/sonar-scanner.zip\nexport PATH=$SONAR_SCANNER_HOME/bin:$PATH\nexport SONAR_SCANNER_OPTS=\"-server\"`;\n\n  return (\n    <div className=\"huge-spacer-top\">\n      {props.os === 'win' ? (\n        <SQScanner os={props.os} />\n      ) : (\n        <>\n          <h4 className=\"huge-spacer-top spacer-bottom\">\n            {translate('onboarding.analysis.sq_scanner.header.ci')}\n          </h4>\n\n          <CodeSnippet snippet={commandLinuxMac} />\n        </>\n      )}\n\n      <h4 className=\"huge-spacer-top spacer-bottom\">\n        {translate('onboarding.analysis.sq_scanner.execute.ci')}\n      </h4>\n\n      <InstanceMessage message={translate('onboarding.analysis.sq_scanner.execute.text.custom')}>\n        {transformedMessage => (\n          <p\n            className=\"spacer-bottom markdown\"\n            dangerouslySetInnerHTML={{ __html: transformedMessage }}\n          />\n        )}\n      </InstanceMessage>\n\n      <CodeSnippet isOneLine={props.os === 'win'} render={renderCommand} snippet={command} />\n\n      <p\n        className=\"big-spacer-top markdown\"\n        dangerouslySetInnerHTML={{ __html: translate('onboarding.analysis.standard.docs') }}\n      />\n\n      <div className=\"big-spacer-top\">\n        <Button className=\"js-continue\" onClick={props.onDone}>\n          {translate('onboarding.finish')}\n        </Button>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { quote } from '../../../utils';\nimport SQScanner from '../SQScanner';\nimport BuildWrapper from '../BuildWrapper';\nimport { translate } from '../../../../../helpers/l10n';\nimport CodeSnippet from '../../../../../components/common/CodeSnippet';\nimport { EditButton } from '../../../../../components/ui/buttons';\nimport { ClangGCCCommon } from '../Custom/ClangGCCCustom';\n\nexport interface Props {\n  host: string;\n  onDone: VoidFunction;\n  os: string;\n  organization?: string;\n  projectKey: string;\n  small?: boolean;\n  toggleModal: VoidFunction;\n  token: string;\n}\n\nconst executables: T.Dict<string> = {\n  linux: 'build-wrapper-linux-x86-64',\n  win: 'build-wrapper-win-x86-64.exe',\n  mac: 'build-wrapper-macosx-x86'\n};\n\nexport default function ClangGCCOtherCI(props: Props) {\n  const command1 = `${executables[props.os]} --out-dir bw-output make clean all`;\n\n  const q = quote(props.os);\n  const command2 = [\n    props.os === 'win' ? 'sonar-scanner.bat' : 'sonar-scanner',\n    '-D' + q(`sonar.projectKey=${props.projectKey}`),\n    props.organization && '-D' + q(`sonar.organization=${props.organization}`),\n    '-D' + q('sonar.sources=.'),\n    '-D' + q('sonar.cfamily.build-wrapper-output=bw-output'),\n    '-D' + q(`sonar.host.url=${props.host}`),\n    '-D' + q(`sonar.login=${props.token}`)\n  ];\n\n  const renderCommand2 = () => (\n    <>\n      {command2.join(' \\\\\\n  ')}{' '}\n      <EditButton className=\"edit-token spacer-left\" onClick={props.toggleModal} />\n    </>\n  );\n\n  const commandLinuxMac = `\nlocal SONAR_SCANNER_VERSION=${translate('onboarding.analysis.sonar_scanner_version')}\nexport SONAR_SCANNER_HOME=$HOME/.sonar/sonar-scanner-$SONAR_SCANNER_VERSION\nrm -rf $SONAR_SCANNER_HOME\nmkdir -p $SONAR_SCANNER_HOME\ncurl -sSLo $HOME/.sonar/sonar-scanner.zip http://repo1.maven.org/maven2/org/sonarsource/scanner/cli/sonar-scanner-cli/$SONAR_SCANNER_VERSION/sonar-scanner-cli-$SONAR_SCANNER_VERSION.zip\nunzip $HOME/.sonar/sonar-scanner.zip -d $HOME/.sonar/\nrm $HOME/.sonar/sonar-scanner.zip\nexport PATH=$SONAR_SCANNER_HOME/bin:$PATH\nexport SONAR_SCANNER_OPTS=\"-server\"\n\ncurl -LsS https://sonarcloud.io/static/cpp/build-wrapper-linux-x86.zip > build-wrapper-linux-x86.zip\nunzip build-wrapper-linux-x86.zip`;\n\n  return (\n    <div className=\"huge-spacer-top\">\n      {props.os === 'win' ? (\n        <>\n          <SQScanner os={'ci'} />\n\n          <BuildWrapper className=\"huge-spacer-top\" os={'ci'} />\n        </>\n      ) : (\n        <>\n          <h4 className=\"huge-spacer-top spacer-bottom\">\n            {translate('onboarding.analysis.sq_scanner.header.ci')}\n          </h4>\n\n          <CodeSnippet snippet={commandLinuxMac} />\n        </>\n      )}\n\n      <ClangGCCCommon\n        command1={command1}\n        command2={command2}\n        renderCommand2={renderCommand2}\n        onDone={props.onDone}\n        os={props.os}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OtherOtherCI from './OtherCI/OtherOtherCI';\nimport ClangGCCOtherCI from './OtherCI/ClangGCCOtherCI';\nimport { AnalysisCommandProps, AnalysisCommandRenderProps } from './utils';\nimport { RenderCommandForGradle, RenderCommandForMaven } from './AnalysisCommandCustom';\nimport { getHostUrl } from '../../../../helpers/urls';\nimport { getProjectKey } from '../ProjectAnalysisStep';\nimport { RenderOS, RenderOSProps } from '../LanguageForm';\nimport { ProjectAnalysisModes } from '../ProjectAnalysisStepFromBuildTool';\nimport EditTokenModal from '../../analyzeProject/steps/EditTokenModal';\n\nexport function RenderCommandForClangOrGCC({\n  component,\n  onDone,\n  organization,\n  os,\n  small,\n  toggleModal,\n  token\n}: AnalysisCommandRenderProps) {\n  const projectKey = getProjectKey(undefined, component);\n  if (!projectKey || !os || !token) {\n    return null;\n  }\n  return (\n    <ClangGCCOtherCI\n      host={getHostUrl()}\n      onDone={onDone}\n      organization={organization}\n      os={os}\n      projectKey={projectKey}\n      small={small}\n      toggleModal={toggleModal}\n      token={token}\n    />\n  );\n}\n\nexport function RenderCommandForOther({\n  component,\n  currentUser,\n  onDone,\n  organization,\n  os,\n  toggleModal,\n  token\n}: AnalysisCommandRenderProps) {\n  const projectKey = getProjectKey(undefined, component);\n  if (!component || !projectKey || !os || !token) {\n    return null;\n  }\n  return (\n    <OtherOtherCI\n      component={component}\n      currentUser={currentUser}\n      host={getHostUrl()}\n      onDone={onDone}\n      organization={organization}\n      os={os}\n      projectKey={projectKey}\n      toggleModal={toggleModal}\n      token={token}\n    />\n  );\n}\n\nfunction getBuildOptions({\n  os,\n  setOS\n}: RenderOSProps): { [k: string]: (props: AnalysisCommandRenderProps) => JSX.Element | null } {\n  return {\n    gradle: RenderCommandForGradle,\n    make: function make(props) {\n      return (\n        <>\n          <RenderOS os={os} setOS={setOS} />\n          <RenderCommandForClangOrGCC {...props} />\n        </>\n      );\n    },\n    maven: RenderCommandForMaven,\n    other: function other(props) {\n      return (\n        <>\n          <RenderOS os={os} setOS={setOS} />\n          <RenderCommandForOther {...props} />\n        </>\n      );\n    }\n  };\n}\n\ninterface AnalysisCommandExtraProps {\n  mode: ProjectAnalysisModes;\n  getBuildOptions: (\n    props: RenderOSProps\n  ) => { [k: string]: (props: AnalysisCommandRenderProps) => JSX.Element | null };\n}\n\nexport function AnalysisCommandCommon(props: AnalysisCommandProps & AnalysisCommandExtraProps) {\n  const [os, setOS] = React.useState<string | undefined>(undefined);\n  const [isModalVisible, toggleModal] = React.useState<boolean>(false);\n  const { buildType } = props;\n\n  if (!os && props.os) {\n    setOS(props.os);\n  }\n\n  const toggleTokenModal = () => toggleModal(!isModalVisible);\n\n  const close = () => toggleModal(false);\n\n  const save = (t: string) => {\n    props.setToken(t);\n    close();\n  };\n\n  const callOnDone = () => {\n    props.onDone({ os });\n  };\n\n  const Build = (buildType && props.getBuildOptions({ os, setOS })[buildType]) || undefined;\n\n  return Build ? (\n    <>\n      {isModalVisible && (\n        <EditTokenModal\n          component={props.component}\n          currentUser={props.currentUser}\n          onClose={close}\n          onSave={save}\n        />\n      )}\n\n      <Build\n        {...props}\n        mode={props.mode}\n        onDone={callOnDone}\n        os={os}\n        toggleModal={toggleTokenModal}\n        token={props.token}\n      />\n    </>\n  ) : null;\n}\n\nexport default function AnalysisCommandOtherCI(props: AnalysisCommandProps) {\n  return (\n    <AnalysisCommandCommon\n      {...props}\n      getBuildOptions={getBuildOptions}\n      mode={ProjectAnalysisModes.CI}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport JavaMavenCustom from './Custom/JavaMavenCustom';\nimport JavaGradleCustom from './Custom/JavaGradleCustom';\nimport ClangGCCCustom from './Custom/ClangGCCCustom';\nimport OtherCustom from './Custom/OtherCustom';\nimport { AnalysisCommandProps, AnalysisCommandRenderProps } from './utils';\nimport { AnalysisCommandCommon } from './AnalysisCommandOtherCI';\nimport { getHostUrl } from '../../../../helpers/urls';\nimport { getProjectKey } from '../ProjectAnalysisStep';\nimport { ProjectAnalysisModes } from '../ProjectAnalysisStepFromBuildTool';\nimport { RenderOS, RenderOSProps } from '../LanguageForm';\n\nexport function RenderCommandForMaven({\n  component,\n  mode,\n  onDone,\n  organization,\n  toggleModal,\n  token\n}: AnalysisCommandRenderProps) {\n  if (!token) {\n    return null;\n  }\n\n  return (\n    <JavaMavenCustom\n      host={getHostUrl()}\n      mode={mode}\n      onDone={onDone}\n      organization={organization}\n      projectKey={component && component.key}\n      toggleModal={toggleModal}\n      token={token}\n    />\n  );\n}\n\nexport function RenderCommandForGradle({\n  component,\n  mode,\n  onDone,\n  organization,\n  toggleModal,\n  token\n}: AnalysisCommandRenderProps) {\n  if (!token) {\n    return null;\n  }\n\n  return (\n    <JavaGradleCustom\n      host={getHostUrl()}\n      mode={mode}\n      onDone={onDone}\n      organization={organization}\n      projectKey={component && component.key}\n      toggleModal={toggleModal}\n      token={token}\n    />\n  );\n}\n\nexport function RenderCommandForClangOrGCC({\n  component,\n  mode,\n  onDone,\n  organization,\n  os,\n  small,\n  toggleModal,\n  token\n}: AnalysisCommandRenderProps) {\n  const projectKey = getProjectKey(undefined, component);\n  if (!projectKey || !os || !token) {\n    return null;\n  }\n  return (\n    <ClangGCCCustom\n      host={getHostUrl()}\n      mode={mode}\n      onDone={onDone}\n      organization={organization}\n      os={os}\n      projectKey={projectKey}\n      small={small}\n      toggleModal={toggleModal}\n      token={token}\n    />\n  );\n}\n\nexport function RenderCommandForOther({\n  component,\n  currentUser,\n  mode,\n  onDone,\n  organization,\n  os,\n  toggleModal,\n  token\n}: AnalysisCommandRenderProps) {\n  const projectKey = getProjectKey(undefined, component);\n  if (!component || !projectKey || !os || !token) {\n    return null;\n  }\n  return (\n    <OtherCustom\n      component={component}\n      currentUser={currentUser}\n      host={getHostUrl()}\n      mode={mode}\n      onDone={onDone}\n      organization={organization}\n      os={os}\n      projectKey={projectKey}\n      toggleModal={toggleModal}\n      token={token}\n    />\n  );\n}\n\nfunction getBuildOptions({\n  os,\n  setOS\n}: RenderOSProps): { [k: string]: (props: AnalysisCommandRenderProps) => JSX.Element | null } {\n  return {\n    gradle: RenderCommandForGradle,\n    make: function make(props: AnalysisCommandRenderProps) {\n      return (\n        <>\n          <RenderOS os={os} setOS={setOS} />\n          <RenderCommandForClangOrGCC {...props} />\n        </>\n      );\n    },\n    maven: RenderCommandForMaven,\n    other: function other(props: AnalysisCommandRenderProps) {\n      return (\n        <>\n          <RenderOS os={os} setOS={setOS} />\n          <RenderCommandForOther {...props} />\n        </>\n      );\n    }\n  };\n}\n\nexport default function AnalysisCommandCustom(props: AnalysisCommandProps) {\n  return (\n    <AnalysisCommandCommon\n      {...props}\n      getBuildOptions={getBuildOptions}\n      mode={ProjectAnalysisModes.Custom}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Step from './Step';\nimport BuildSystemForm from './BuildSystemForm';\nimport AnalysisCommandCustom from './commands/AnalysisCommandCustom';\nimport AnalysisCommandOtherCI from './commands/AnalysisCommandOtherCI';\nimport { translate } from '../../../helpers/l10n';\nimport { get, save } from '../../../helpers/storage';\nimport { PROJECT_STEP_PROGRESS } from '../analyzeProject/utils';\n\nexport enum ProjectAnalysisModes {\n  CI = 'CI',\n  Custom = 'Custom'\n}\n\nexport interface Props {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n  displayRowLayout?: boolean;\n  mode: ProjectAnalysisModes;\n  onDone: VoidFunction;\n  onReset?: VoidFunction;\n  open: boolean;\n  organization?: string;\n  setToken: (token: string) => void;\n  stepNumber: number;\n  token?: string;\n}\n\nexport default function ProjectAnalysisStepFromBuildTool({\n  component,\n  currentUser,\n  displayRowLayout,\n  mode,\n  onDone,\n  open,\n  organization,\n  setToken,\n  stepNumber,\n  token\n}: Props) {\n  const [build, setBuild] = React.useState<string | undefined>(undefined);\n  const [os, setOS] = React.useState<string | undefined>(undefined);\n\n  React.useEffect(() => {\n    const value = get(PROJECT_STEP_PROGRESS, component.key);\n    if (value) {\n      try {\n        const data = JSON.parse(value);\n        setBuild(data.build);\n        setOS(data.os);\n      } catch (e) {\n        // Let's start from scratch\n      }\n    }\n  }, [component.key]);\n\n  const saveAndFinish = (data: object) => {\n    save(\n      PROJECT_STEP_PROGRESS,\n      JSON.stringify({\n        ...data,\n        build\n      }),\n      component.key\n    );\n\n    onDone();\n  };\n\n  const renderForm = () => {\n    const languageComponent = <BuildSystemForm build={build} setBuild={setBuild} />;\n\n    let AnalysisComponent = null;\n\n    if (mode === ProjectAnalysisModes.Custom) {\n      AnalysisComponent = AnalysisCommandCustom;\n    } else if (mode === ProjectAnalysisModes.CI) {\n      AnalysisComponent = AnalysisCommandOtherCI;\n    }\n\n    if (displayRowLayout) {\n      return (\n        <div className=\"boxed-group-inner\">\n          <div className=\"display-flex-column\">\n            {languageComponent}\n            {AnalysisComponent && (\n              <div className=\"huge-spacer-top\">\n                <AnalysisComponent\n                  buildType={build}\n                  component={component}\n                  currentUser={currentUser}\n                  onDone={saveAndFinish}\n                  organization={organization}\n                  os={os}\n                  setToken={setToken}\n                  small={true}\n                  token={token}\n                />\n              </div>\n            )}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"boxed-group-inner\">\n        <div className=\"flex-columns\">\n          <div className=\"flex-column flex-column-half bordered-right\">{languageComponent}</div>\n          <div className=\"flex-column flex-column-half\">{AnalysisComponent}</div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderResult = () => null;\n\n  return (\n    <Step\n      finished={false}\n      onOpen={() => {}}\n      open={open}\n      renderForm={renderForm}\n      renderResult={renderResult}\n      stepNumber={stepNumber}\n      stepTitle={translate('onboarding.analysis.header')}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getBaseUrl } from '../../../helpers/urls';\nimport { translate } from '../../../helpers/l10n';\nimport BackButton from '../../../components/controls/BackButton';\n\ninterface Props {\n  setTutorialDone: (done: boolean) => void;\n}\n\nexport default function AnalyzeTutorialDone({ setTutorialDone }: Props) {\n  return (\n    <div className=\"page-analysis-container page-analysis-container-sonarcloud\">\n      <BackButton\n        onClick={() => setTutorialDone(false)}\n        tooltip={translate('onboarding.tutorial.return_to_tutorial')}>\n        {translate('back')}\n      </BackButton>\n      <div className=\"page-analysis page-analysis-waiting huge-spacer-top huge-spacer-bottom\">\n        <img\n          alt=\"SonarCloud\"\n          src={`${getBaseUrl()}/images/sonarcloud/analysis/Waiting-for-analysis.svg`}\n        />\n        <h1 className=\"big-spacer-bottom huge-spacer-top\">\n          {translate('onboarding.finished.title')}\n        </h1>\n        <p>{translate('onboarding.finished.text')}</p>\n\n        <div className=\"links huge-spacer-top huge-spacer-bottom\">\n          <h2 className=\"huge-spacer-bottom\">{translate('onboarding.finished.links.title')}</h2>\n          <ul>\n            <li className=\"big-spacer-bottom\">\n              <a\n                href=\"https://sonarcloud.io/documentation/user-guide/quality-gates/\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\">\n                What is a Quality Gate?\n              </a>\n            </li>\n            <li className=\"big-spacer-bottom\">\n              <a\n                href=\"https://sonarcloud.io/documentation/instance-administration/quality-profiles/\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\">\n                Configure your Quality Profiles\n              </a>\n              .\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classnames from 'classnames';\nimport * as React from 'react';\nimport ConfigureWithAutoScan from './configurations/ConfigureWithAutoScan';\nimport ConfigureWithTravis from './configurations/ConfigureWithTravis';\nimport ConfigureWithLocalScanner from './configurations/ConfigureWithLocalScanner';\nimport ConfigureOtherCI from './configurations/ConfigureWithOtherCI';\nimport { TutorialSuggestionBitbucket, TutorialSuggestionVSTS } from './AnalyzeTutorialSuggestion';\nimport {\n  Alm,\n  ALM_KEYS,\n  AlmLanguagesStats,\n  alms,\n  AnalysisMode,\n  autoScanMode,\n  isAutoScannable,\n  modes,\n  PROJECT_ONBOARDING_DONE,\n  PROJECT_ONBOARDING_MODE_ID,\n  PROJECT_STEP_PROGRESS,\n  TutorialProps\n} from './utils';\nimport { getUniqueTokenName } from '../utils';\nimport AnalyzeTutorialDone from '../components/AnalyzeTutorialDone';\nimport InstanceMessage from '../../../components/common/InstanceMessage';\nimport BackButton from '../../../components/controls/BackButton';\nimport TokenStep from '../components/TokenStep';\nimport ProjectAnalysisStep from '../components/ProjectAnalysisStep';\nimport { generateToken, getTokens } from '../../../api/user-tokens';\nimport { getGithubLanguages } from '../../../api/alm-integration';\nimport { isBitbucket, isGithub, isVSTS } from '../../../helpers/almIntegrations';\nimport { translate } from '../../../helpers/l10n';\nimport { get, remove, save } from '../../../helpers/storage';\nimport { isSonarCloud } from '../../../helpers/system';\nimport '../styles.css';\nimport './AnalyzeTutorialSonarCloud.css';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n}\n\nconst tutorials: {\n  [k: string]: (props: Props & TutorialProps) => JSX.Element;\n} = {\n  autoscan: ConfigureWithAutoScan,\n  manual: ConfigureWithLocalScanner,\n  other: ConfigureOtherCI,\n  travis: ConfigureWithTravis\n};\n\nenum Steps {\n  ANALYSIS = 'ANALYSIS',\n  TOKEN = 'TOKEN'\n}\n\ninterface State {\n  alm?: Alm;\n  almLanguageStats?: AlmLanguagesStats;\n  isTutorialDone: boolean;\n  mode?: AnalysisMode;\n  loading: boolean;\n  step: Steps;\n  token?: string;\n}\n\nexport default class AnalyzeTutorialSonarCloud extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      loading: true,\n      isTutorialDone: get(PROJECT_ONBOARDING_DONE, props.component.key) === 'true',\n      step: Steps.TOKEN\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    const { component, currentUser } = this.props;\n\n    const almKey = (component.alm && component.alm.key) || currentUser.externalProvider;\n\n    if (!almKey) {\n      return;\n    }\n\n    if (isBitbucket(almKey)) {\n      this.configureBitbucket();\n    } else if (isGithub(almKey)) {\n      this.configureGithub();\n    } else if (isVSTS(almKey)) {\n      this.configureMicrosoft();\n    }\n\n    if (currentUser) {\n      getTokens(currentUser.login).then(\n        t => {\n          this.getNewToken(getUniqueTokenName(t, `Analyze \"${component.name}\"`));\n        },\n        () => {}\n      );\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  configureBitbucket = () => {\n    this.setState({ alm: alms[ALM_KEYS.BITBUCKET], loading: false });\n  };\n\n  configureGithub = () => {\n    const { component } = this.props;\n\n    this.setState({\n      alm: alms[ALM_KEYS.GITHUB]\n    });\n\n    const savedModeId = get(PROJECT_ONBOARDING_MODE_ID, component.key);\n    const mode =\n      autoScanMode.id === savedModeId ? autoScanMode : modes.find(m => m.id === savedModeId);\n    if (mode) {\n      this.setState({ mode });\n    }\n\n    if (!component.alm) {\n      return;\n    }\n\n    const { url } = component.alm;\n\n    if (!url) {\n      return;\n    }\n\n    getGithubLanguages(url).then(\n      almLanguagesStats => {\n        if (this.mounted) {\n          this.setState({\n            almLanguageStats: almLanguagesStats,\n            loading: false\n          });\n        }\n      },\n      () => {\n        this.setState({ loading: false });\n      }\n    );\n  };\n\n  configureMicrosoft = () => {\n    this.setState({ alm: alms[ALM_KEYS.MICROSOFT], loading: false });\n  };\n\n  getNewToken = (tokenName: string) => {\n    generateToken({ name: tokenName }).then(\n      ({ token }: { token: string }) => {\n        this.setToken(token);\n      },\n      () => {}\n    );\n  };\n\n  setToken = (token: string) => {\n    if (this.mounted) {\n      this.setState({ token });\n    }\n  };\n\n  setTutorialDone = (value: boolean) => {\n    save(PROJECT_ONBOARDING_DONE, String(value), this.props.component.key);\n    this.setState({ isTutorialDone: value });\n  };\n\n  spinner = () => (\n    <div className=\"display-flex-justify-center spinner-margin\">\n      <i className=\"spinner global-loading-spinner\" />\n    </div>\n  );\n\n  renderBitbucket = () => {\n    const { component, currentUser } = this.props;\n    const { step, token } = this.state;\n\n    const handleTokenDone = (t: string) => {\n      if (this.mounted) {\n        this.setState({\n          step: Steps.ANALYSIS,\n          token: t\n        });\n      }\n    };\n\n    const handleTokenOpen = () => {\n      this.setState({ step: Steps.TOKEN });\n    };\n\n    return (\n      <>\n        <TutorialSuggestionBitbucket />\n\n        <TokenStep\n          currentUser={currentUser}\n          finished={Boolean(token)}\n          initialTokenName={`Analyze \"${component.name}\"`}\n          onContinue={handleTokenDone}\n          onOpen={handleTokenOpen}\n          open={step === Steps.TOKEN}\n          stepNumber={1}\n        />\n\n        <ProjectAnalysisStep\n          component={component}\n          displayRowLayout={true}\n          open={step === Steps.ANALYSIS}\n          organization={isSonarCloud() ? component.organization : undefined}\n          stepNumber={2}\n          token={token}\n        />\n      </>\n    );\n  };\n\n  renderGithub = () => {\n    const { almLanguageStats, isTutorialDone, mode, token } = this.state;\n\n    if (isTutorialDone) {\n      return <AnalyzeTutorialDone setTutorialDone={this.setTutorialDone} />;\n    }\n\n    const { component, currentUser } = this.props;\n    const Tutorial = mode && tutorials[mode.id];\n\n    const getClassnames = (item: AnalysisMode) =>\n      classnames(`mode-type mode-type-${item.id}`, {\n        [`mode-type-selected`]: mode && mode.id === item.id\n      });\n\n    const isAutoScanEnabled =\n      almLanguageStats && isAutoScannable(almLanguageStats).withAllowedLanguages;\n\n    const setMode = (mode: AnalysisMode | undefined) => {\n      if (mode) {\n        save(PROJECT_ONBOARDING_MODE_ID, mode.id, component.key);\n        remove(PROJECT_STEP_PROGRESS, component.key);\n      } else {\n        remove(PROJECT_ONBOARDING_MODE_ID, component.key);\n      }\n\n      this.setState({ mode });\n    };\n\n    if (!mode || !Tutorial) {\n      return (\n        <div className=\"page-analysis-container page-analysis-container-sonarcloud\">\n          <div className=\"page-analysis big-spacer-top big-spacer-bottom huge-spacer-left huge-spacer-right\">\n            <div className=\"page-header big-spacer-bottom\">\n              <h1 className=\"big-spacer-bottom\">\n                {translate('onboarding.project_analysis.header')}\n              </h1>\n              <p>\n                <InstanceMessage message={translate('onboarding.project_analysis.description')} />\n              </p>\n            </div>\n\n            {isAutoScanEnabled && (\n              <div className={`${getClassnames(autoScanMode)} huge-spacer-top huge-spacer-bottom`}>\n                <div className=\"icon\">\n                  <div className=\"badge badge-new\">BETA</div>\n                </div>\n                <p>{autoScanMode.name}</p>\n                <button\n                  className=\"button big-spacer-top big-spacer-bottom\"\n                  onClick={() => setMode(autoScanMode)}\n                  type=\"button\">\n                  {translate('projects.configure_analysis')}\n                </button>\n              </div>\n            )}\n\n            <div className=\"analysis-modes\">\n              {modes.map(el => (\n                <div className={getClassnames(el)} key={el.id}>\n                  <div className=\"icon\" />\n                  <div className=\"name\">{el.name}</div>\n                  <button\n                    className=\"button big-spacer-top big-spacer-bottom\"\n                    onClick={() => setMode(el)}\n                    type=\"button\">\n                    {translate('projects.configure_analysis')}\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"page-analysis-container page-analysis-container-sonarcloud\">\n        <BackButton\n          onClick={() => setMode(undefined)}\n          tooltip={translate('onboarding.tutorial.return_to_list')}>\n          {translate('back')}\n        </BackButton>\n\n        <Tutorial\n          component={component}\n          currentUser={currentUser}\n          onDone={() => this.setTutorialDone(true)}\n          setToken={this.setToken}\n          token={token}\n        />\n      </div>\n    );\n  };\n\n  renderMicrosoft = () => {\n    return <TutorialSuggestionVSTS />;\n  };\n\n  render() {\n    const { alm, loading } = this.state;\n\n    if (!alm) {\n      return null;\n    }\n\n    return (\n      <DeferredSpinner customSpinner={<this.spinner />} loading={loading}>\n        {!loading && (\n          <>\n            {alm.id === ALM_KEYS.BITBUCKET && this.renderBitbucket()}\n            {alm.id === ALM_KEYS.GITHUB && this.renderGithub()}\n            {alm.id === ALM_KEYS.MICROSOFT && this.renderMicrosoft()}\n          </>\n        )}\n      </DeferredSpinner>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { AutoScanAlert } from './AutoScanAlert';\nimport CodeSnippet from '../../../../components/common/CodeSnippet';\nimport { translate } from '../../../../helpers/l10n';\nimport { Button, ResetButtonLink } from '../../../../components/ui/buttons';\nimport Step from '../../components/Step';\nimport DropdownIcon from '../../../../components/icons-components/DropdownIcon';\nimport { TutorialProps } from '../utils';\n\nexport default function ConfigureWithAutoScan({ onDone }: TutorialProps) {\n  const [showCustomizationOptions, setCustomizationOptions] = React.useState<boolean>(false);\n\n  const command = `# Path to sources\n#sonar.sources=.\n#sonar.exclusions=\n#sonar.inclusions=\n\n# Path to tests\n#sonar.tests=\n#sonar.test.exclusions=\n#sonar.test.inclusions=\n\n# Source encoding\n#sonar.sourceEncoding=UTF-8\n\n# Exclusions for copy-paste detection\n#sonar.cpd.exclusions=`;\n\n  const renderForm = () => (\n    <div className=\"boxed-group-inner\">\n      <div className=\"flex-columns\">\n        <div className=\"flex-column-full\">\n          <p className=\"spacer-bottom\">\n            Add this file in the base directory of your default branch or on a PR.\n          </p>\n          <p className=\"spacer-bottom\">\n            You can push an empty <code>.sonarcloud.properties</code> file, this will work fine. In\n            this case, every file in the repository will be considered as a source file.\n          </p>\n\n          <ResetButtonLink onClick={() => setCustomizationOptions(!showCustomizationOptions)}>\n            {showCustomizationOptions ? 'Hide customization options' : 'Show customization options'}\n            <DropdownIcon className=\"little-spacer-left\" turned={showCustomizationOptions} />\n          </ResetButtonLink>\n\n          <div hidden={!showCustomizationOptions}>\n            <p>\n              Here are the supported optional settings for the <code>.sonarcloud.properties</code>{' '}\n              file:\n            </p>\n\n            <CodeSnippet snippet={command} />\n\n            <p>\n              Please refer to the{' '}\n              <a\n                href=\"https://sieg.eu.ngrok.io/documentation/autoscan/\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\">\n                documentation\n              </a>{' '}\n              for more details.\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"big-spacer-top\">\n        <Button className=\"js-continue\" onClick={onDone}>\n          {translate('onboarding.finish')}\n        </Button>\n      </div>\n    </div>\n  );\n\n  const renderResult = () => null;\n\n  return (\n    <>\n      <h1 className=\"spacer-bottom spacer-top\">\n        {translate('onboarding.analysis.with.autoscan.title')}\n      </h1>\n\n      <p className=\"spacer-bottom\">{translate('onboarding.analysis.with.autoscan.text')}</p>\n\n      <AutoScanAlert />\n\n      <Step\n        finished={false}\n        onOpen={() => {}}\n        open={true}\n        renderForm={renderForm}\n        renderResult={renderResult}\n        stepNumber={1}\n        stepTitle={\n          <FormattedMessage\n            defaultMessage={translate('onboarding.analysis.with.autoscan.filename')}\n            id=\"onboarding.analysis.with.autoscan.filename\"\n            values={{\n              filename: <code className=\"rule\">.sonarcloud.properties</code>\n            }}\n          />\n        }\n      />\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ProjectAnalysisStepFromBuildTool, {\n  ProjectAnalysisModes\n} from '../../components/ProjectAnalysisStepFromBuildTool';\nimport { TutorialProps } from '../utils';\nimport { translate } from '../../../../helpers/l10n';\n\nexport default function ConfigureWithLocalScanner({\n  component,\n  currentUser,\n  onDone,\n  setToken,\n  token\n}: TutorialProps) {\n  return (\n    <>\n      <h1 className=\"spacer-bottom spacer-top\">\n        {translate('onboarding.analysis.with.local.title')}\n      </h1>\n\n      <ProjectAnalysisStepFromBuildTool\n        component={component}\n        currentUser={currentUser}\n        displayRowLayout={true}\n        mode={ProjectAnalysisModes.Custom}\n        onDone={onDone}\n        open={true}\n        organization={component.organization}\n        setToken={setToken}\n        stepNumber={1}\n        token={token}\n      />\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ProjectAnalysisStepFromBuildTool, {\n  ProjectAnalysisModes\n} from '../../components/ProjectAnalysisStepFromBuildTool';\nimport { TutorialProps } from '../utils';\nimport { translate } from '../../../../helpers/l10n';\n\nexport default function ConfigureWithOtherCI({\n  component,\n  currentUser,\n  onDone,\n  setToken,\n  token\n}: TutorialProps) {\n  return (\n    <>\n      <h1 className=\"spacer-bottom spacer-top\">\n        {translate('onboarding.analysis.with.yourci.title')}\n      </h1>\n\n      <ProjectAnalysisStepFromBuildTool\n        component={component}\n        currentUser={currentUser}\n        displayRowLayout={true}\n        mode={ProjectAnalysisModes.CI}\n        onDone={onDone}\n        open={true}\n        organization={component.organization}\n        setToken={setToken}\n        stepNumber={1}\n        token={token}\n      />\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { FormattedMessage } from 'react-intl';\nimport AnalyzeTutorial from '../../tutorials/analyzeProject/AnalyzeTutorial';\nimport AnalyzeTutorialSonarCloud from '../../tutorials/analyzeProject/AnalyzeTutorialSonarCloud';\nimport MetaContainer from '../meta/MetaContainer';\nimport { isLongLivingBranch, isBranch, isMainBranch } from '../../../helpers/branches';\nimport { translate } from '../../../helpers/l10n';\nimport { isLoggedIn } from '../../../helpers/users';\nimport { getCurrentUser, Store } from '../../../store/rootReducer';\nimport { Alert } from '../../../components/ui/Alert';\nimport { isSonarCloud } from '../../../helpers/system';\n\ninterface OwnProps {\n  branchLike?: T.BranchLike;\n  branchLikes: T.BranchLike[];\n  component: T.Component;\n  hasAnalyses?: boolean;\n  onComponentChange: (changes: {}) => void;\n}\n\ninterface StateProps {\n  currentUser: T.CurrentUser;\n}\n\ntype Props = OwnProps & StateProps;\n\nexport function EmptyOverview({\n  branchLike,\n  branchLikes,\n  component,\n  currentUser,\n  hasAnalyses,\n  onComponentChange\n}: Props) {\n  const hasBranches = branchLikes.length > 1;\n  const hasBadBranchConfig =\n    branchLikes.length > 2 ||\n    (branchLikes.length === 2 && branchLikes.some(branch => isLongLivingBranch(branch)));\n  return (\n    <div className=\"page page-limited\">\n      <div className=\"overview page-with-sidebar\">\n        <div className=\"overview-main page-main\">\n          {isLoggedIn(currentUser) && isMainBranch(branchLike) ? (\n            <>\n              {hasBranches && (\n                <WarningMessage\n                  branchLike={branchLike}\n                  message={\n                    hasBadBranchConfig\n                      ? translate('provisioning.no_analysis_on_main_branch.bad_configuration')\n                      : translate('provisioning.no_analysis_on_main_branch')\n                  }\n                />\n              )}\n              {!hasBranches &&\n                !hasAnalyses &&\n                (isSonarCloud() ? (\n                  <AnalyzeTutorialSonarCloud component={component} currentUser={currentUser} />\n                ) : (\n                  <AnalyzeTutorial component={component} currentUser={currentUser} />\n                ))}\n            </>\n          ) : (\n            <WarningMessage\n              branchLike={branchLike}\n              message={translate('provisioning.no_analysis_on_main_branch')}\n            />\n          )}\n        </div>\n\n        {!isSonarCloud() && (\n          <div className=\"overview-sidebar page-sidebar-fixed\">\n            <MetaContainer\n              branchLike={branchLike}\n              component={component}\n              onComponentChange={onComponentChange}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport function WarningMessage({\n  branchLike,\n  message\n}: {\n  branchLike?: T.BranchLike;\n  message: string;\n}) {\n  if (!isBranch(branchLike)) {\n    return null;\n  }\n  return (\n    <Alert variant=\"warning\">\n      <FormattedMessage\n        defaultMessage={message}\n        id={message}\n        values={{\n          branchName: branchLike.name,\n          branchType: translate('branches.main_branch')\n        }}\n      />\n    </Alert>\n  );\n}\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(EmptyOverview);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal, { ModalProps } from './Modal';\n\nexport interface ChildrenProps {\n  onCloseClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  onFormSubmit: (event: React.SyntheticEvent<HTMLFormElement>) => void;\n  onSubmitClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  submitting: boolean;\n}\n\ninterface Props extends ModalProps {\n  children: (props: ChildrenProps) => React.ReactNode;\n  header: string;\n  onClose: () => void;\n  onSubmit: () => void | Promise<void>;\n}\n\ninterface State {\n  submitting: boolean;\n}\n\nexport default class SimpleModal extends React.Component<Props, State> {\n  mounted = false;\n  state: State = { submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopSubmitting = () => {\n    if (this.mounted) {\n      this.setState({ submitting: false });\n    }\n  };\n\n  handleCloseClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.props.onClose();\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.submit();\n  };\n\n  handleSubmitClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.submit();\n  };\n\n  submit = () => {\n    const result = this.props.onSubmit();\n    if (result) {\n      this.setState({ submitting: true });\n      result.then(this.stopSubmitting, this.stopSubmitting);\n    }\n  };\n\n  render() {\n    const { children, header, onClose, onSubmit, ...modalProps } = this.props;\n    return (\n      <Modal contentLabel={header} onRequestClose={onClose} {...modalProps}>\n        {children({\n          onCloseClick: this.handleCloseClick,\n          onFormSubmit: this.handleFormSubmit,\n          onSubmitClick: this.handleSubmitClick,\n          submitting: this.state.submitting\n        })}\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ModalProps } from './Modal';\nimport SimpleModal, { ChildrenProps } from './SimpleModal';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { SubmitButton, ResetButtonLink } from '../ui/buttons';\nimport { translate } from '../../helpers/l10n';\n\nexport interface ConfirmModalProps<T> extends ModalProps {\n  cancelButtonText?: string;\n  confirmButtonText: string;\n  confirmData?: T;\n  confirmDisable?: boolean;\n  isDestructive?: boolean;\n  onConfirm: (data?: T) => void | Promise<void | Response>;\n}\n\ninterface Props<T> extends ConfirmModalProps<T> {\n  header: string;\n  headerDescription?: React.ReactNode;\n  onClose: () => void;\n}\n\nexport default class ConfirmModal<T = string> extends React.PureComponent<Props<T>> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleSubmit = () => {\n    const result = this.props.onConfirm(this.props.confirmData);\n    if (result) {\n      return result.then(this.props.onClose, () => {});\n    } else {\n      this.props.onClose();\n      return undefined;\n    }\n  };\n\n  renderModalContent = ({ onCloseClick, onFormSubmit, submitting }: ChildrenProps) => {\n    const {\n      children,\n      confirmButtonText,\n      confirmDisable,\n      header,\n      headerDescription,\n      isDestructive,\n      cancelButtonText = translate('cancel')\n    } = this.props;\n    return (\n      <form onSubmit={onFormSubmit}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n          {headerDescription}\n        </header>\n        <div className=\"modal-body\">{children}</div>\n        <footer className=\"modal-foot\">\n          <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n          <SubmitButton\n            autoFocus={true}\n            className={isDestructive ? 'button-red' : undefined}\n            disabled={submitting || confirmDisable}>\n            {confirmButtonText}\n          </SubmitButton>\n          <ResetButtonLink disabled={submitting} onClick={onCloseClick}>\n            {cancelButtonText}\n          </ResetButtonLink>\n        </footer>\n      </form>\n    );\n  };\n\n  render() {\n    const { header, onClose, noBackdrop, size } = this.props;\n    const modalProps = { header, onClose, noBackdrop, size };\n    return (\n      <SimpleModal onSubmit={this.handleSubmit} {...modalProps}>\n        {this.renderModalContent}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function getAlmMembersUrl(key: string, url: string): string {\n  if (!url.endsWith('/')) {\n    url += '/';\n  }\n  if (isGithub(key)) {\n    return url.replace('github.com/', 'github.com/orgs/') + 'people';\n  }\n  return url + 'profile/members';\n}\n\nexport function getUserAlmKey(user: T.CurrentUser) {\n  return isLoggedIn(user) && user.externalProvider\n    ? sanitizeAlmId(user.externalProvider)\n    : undefined;\n}\n\nexport function hasAdvancedALMIntegration(user: T.CurrentUser) {\n  return (\n    isLoggedIn(user) && (isBitbucket(user.externalProvider) || isGithub(user.externalProvider))\n  );\n}\n\nexport function isBitbucket(almKey?: string): boolean {\n  return almKey ? almKey.startsWith('bitbucket') : false;\n}\n\nexport function isGithub(almKey?: string): boolean {\n  return almKey === 'github';\n}\n\nexport function isVSTS(almKey?: string): boolean {\n  return almKey === 'microsoft';\n}\n\nexport function isPersonal(organization?: T.AlmOrganization) {\n  return Boolean(organization && organization.personal);\n}\n\nexport function sanitizeAlmId(almKey: string) {\n  if (isBitbucket(almKey)) {\n    return 'bitbucket';\n  }\n  return almKey;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from './Tooltip';\n\ninterface Option {\n  disabled?: boolean;\n  label: string;\n  tooltip?: string;\n  value: string;\n}\n\ninterface Props {\n  className?: string;\n  name: string;\n  onCheck: (value: string) => void;\n  options: Option[];\n  value?: string;\n}\n\nexport default class RadioToggle extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    value: null\n  };\n\n  handleChange = (e: React.SyntheticEvent<HTMLInputElement>) => {\n    const newValue = e.currentTarget.value;\n    this.props.onCheck(newValue);\n  };\n\n  renderOption = (option: Option) => {\n    const checked = option.value === this.props.value;\n    const htmlId = this.props.name + '__' + option.value;\n    return (\n      <li key={option.value}>\n        <input\n          checked={checked}\n          disabled={option.disabled}\n          id={htmlId}\n          name={this.props.name}\n          onChange={this.handleChange}\n          type=\"radio\"\n          value={option.value}\n        />\n        <Tooltip overlay={option.tooltip || undefined}>\n          <label htmlFor={htmlId}>{option.label}</label>\n        </Tooltip>\n      </li>\n    );\n  };\n\n  render() {\n    return (\n      <ul className={classNames('radio-toggle', this.props.className)}>\n        {this.props.options.map(this.renderOption)}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, postJSON, post, requestTryAndRepeatUntil, getCorsJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { AlmLanguagesStats } from '../apps/tutorials/analyzeProject/utils';\n\nexport function bindAlmOrganization(data: { installationId: string; organization: string }) {\n  return post('/api/alm_integration/bind_organization', data).catch(throwGlobalError);\n}\n\nexport function getAlmAppInfo(): Promise<{ application: T.AlmApplication }> {\n  return getJSON('/api/alm_integration/show_app_info').catch(throwGlobalError);\n}\n\nexport interface GetAlmOrganizationResponse {\n  almOrganization: T.AlmOrganization;\n  boundOrganization?: T.OrganizationBase;\n}\n\nexport function getAlmOrganization(data: {\n  installationId: string;\n}): Promise<GetAlmOrganizationResponse> {\n  return requestTryAndRepeatUntil(\n    () => getJSON('/api/alm_integration/show_organization', data),\n    { max: 25, slowThreshold: 20 },\n    () => true,\n    [404]\n  )\n    .catch(throwGlobalError)\n    .then(({ almOrganization, boundOrganization }) => ({\n      almOrganization: {\n        ...almOrganization,\n        name: almOrganization.name || almOrganization.key\n      },\n      boundOrganization\n    }));\n}\n\nexport function getRepositories(data: {\n  organization: string;\n}): Promise<{ repositories: T.AlmRepository[] }> {\n  return getJSON('/api/alm_integration/list_repositories', data).catch(throwGlobalError);\n}\n\nexport function listUnboundApplications(): Promise<T.AlmUnboundApplication[]> {\n  return getJSON('/api/alm_integration/list_unbound_applications').then(\n    ({ applications }) =>\n      applications.map((app: T.AlmUnboundApplication) => ({ ...app, name: app.name || app.key })),\n    throwGlobalError\n  );\n}\n\nexport function provisionProject(data: {\n  installationKeys: string[];\n  organization: string;\n}): Promise<{ projects: Array<{ projectKey: string }> }> {\n  return postJSON('/api/alm_integration/provision_projects', {\n    ...data,\n    installationKeys: data.installationKeys.join(',')\n  }).catch(throwGlobalError);\n}\n\nexport function getGithubLanguages(url: string): Promise<AlmLanguagesStats> {\n  // We don't want to throwGlobalError\n  const apiUrl = url.replace('https://github.com/', 'https://api.github.com/repos/');\n  return getCorsJSON(`${apiUrl}/languages`);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/* eslint-disable jsx-a11y/no-static-element-interactions, jsx-a11y/no-noninteractive-tabindex */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\ninterface Props {\n  finished?: boolean;\n  onOpen: VoidFunction;\n  open: boolean;\n  renderForm: () => React.ReactNode;\n  renderResult: () => React.ReactNode;\n  stepNumber: number;\n  stepTitle: React.ReactNode;\n}\n\nexport default function Step(props: Props) {\n  const className = classNames('boxed-group', 'onboarding-step', {\n    'is-open': props.open,\n    'is-finished': props.finished\n  });\n\n  const clickable = !props.open && props.finished;\n\n  const handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    props.onOpen();\n  };\n\n  return (\n    <div\n      className={className}\n      onClick={clickable ? handleClick : undefined}\n      role={clickable ? 'button' : undefined}\n      tabIndex={clickable ? 0 : undefined}>\n      <div className=\"onboarding-step-number\">{props.stepNumber}</div>\n      {!props.open && props.renderResult()}\n      <div className=\"boxed-group-header\">\n        <h2>{props.stepTitle}</h2>\n      </div>\n      {!props.open && <div className=\"boxed-group-inner\" />}\n      <div className={classNames({ hidden: !props.open })}>{props.renderForm()}</div>\n    </div>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".onboarding-step{position:relative;padding-left:34px}.onboarding-step:not(.is-open):not(.is-finished){opacity:.4}.onboarding-step .boxed-group-actions{height:24px;line-height:24px}.onboarding-step hr{margin-left:-54px}.onboarding-step-number{position:absolute;top:15px;left:15px;width:24px;height:24px;line-height:24px;border-radius:24px;background-color:#b9b9b9;color:#fff;font-size:14px;text-align:center}.onboarding-step.is-open .onboarding-step-number{background-color:#236a97}.onboarding-step.is-finished{cursor:pointer;outline:none}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, postJSON, post } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\n/** List tokens for given user login */\nexport function getTokens(login: string): Promise<T.UserToken[]> {\n  return getJSON('/api/user_tokens/search', { login }).then(r => r.userTokens, throwGlobalError);\n}\n\nexport function generateToken(data: { name: string; login?: string }): Promise<T.NewUserToken> {\n  return postJSON('/api/user_tokens/generate', data).catch(throwGlobalError);\n}\n\nexport function revokeToken(data: { name: string; login?: string }) {\n  return post('/api/user_tokens/revoke', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from './Tooltip';\nimport * as theme from '../../app/theme';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  disabled?: boolean;\n  onClick: () => void;\n  tooltip?: string;\n}\n\nexport default class BackButton extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (!this.props.disabled) {\n      this.props.onClick();\n    }\n  };\n\n  renderIcon = () => (\n    <svg height=\"24\" viewBox=\"0 0 21 24\" width=\"21\">\n      <path\n        d=\"M3.845 12.9992l5.993 5.993.052.056c.049.061.093.122.129.191.082.159.121.339.111.518-.006.102-.028.203-.064.298-.149.39-.537.652-.954.644-.102-.002-.204-.019-.301-.052-.148-.05-.273-.135-.387-.241l-8.407-8.407 8.407-8.407.056-.052c.061-.048.121-.092.19-.128.116-.06.237-.091.366-.108.076-.004.075-.004.153-.003.155.015.3.052.437.129.088.051.169.115.239.19.246.266.33.656.214.999-.051.149-.135.273-.241.387l-5.983 5.984c5.287-.044 10.577-.206 15.859.013.073.009.091.009.163.027.187.047.359.15.49.292.075.081.136.175.18.276.044.101.072.209.081.319.032.391-.175.775-.521.962-.097.052-.202.089-.311.107-.073.012-.091.01-.165.013H3.845z\"\n        fill={this.props.disabled ? theme.disableGrayText : theme.secondFontColor}\n      />\n    </svg>\n  );\n\n  render() {\n    const { tooltip = translate('issues.return_to_list') } = this.props;\n    return (\n      <Tooltip overlay={tooltip}>\n        <a\n          className={classNames(\n            'link-no-underline',\n            { 'cursor-not-allowed': this.props.disabled },\n            this.props.className\n          )}\n          href=\"#\"\n          onClick={this.handleClick}>\n          {this.renderIcon()}\n        </a>\n      </Tooltip>\n    );\n  }\n}\n"],"sourceRoot":""}