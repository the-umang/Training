{"version":3,"sources":["webpack:///./src/main/js/app/components/search/SearchShowMore.tsx","webpack:///./src/main/js/app/components/search/SearchResults.tsx"],"names":["_super","SearchShowMore","_this","apply","this","arguments","handleMoreClick","event","preventDefault","stopPropagation","currentTarget","blur","qualifier","dataset","props","onMoreClick","handleMoreMouseEnter","onSelect","__extends","prototype","render","_a","loadingMore","selected","index_js_exposed","className","classnames","active","key","DeferredSpinner","loading","cursor-not-allowed","allowMore","data-qualifier","href","onClick","onMouseEnter","index_es","defaultMessage","Object","l10n","id","values","SearchResults","qualifiers","keys","results","renderedComponents","utils","forEach","components","length","push","component","renderResult","more","undefined","search_SearchShowMore","renderNoResults","__webpack_require__","d","__webpack_exports__"],"mappings":"4cAkCA,SAAAA,GAAA,SAAAC,IAAA,IAAAC,EAAA,OAAAF,KAAAG,MAAAC,KAAAC,YAAAD,YACEF,EAAAI,gBAAkB,SAACC,GACjBA,EAAMC,iBACND,EAAME,kBACNF,EAAMG,cAAcC,OACZ,IAAAC,EAAAL,EAAAG,cAAAG,QAAAD,UACJA,GACFV,EAAKY,MAAMC,YAAYH,IAI3BV,EAAAc,qBAAuB,SAACT,GACd,IAAAK,EAAAL,EAAAG,cAAAG,QAAAD,UACJA,GACFV,EAAKY,MAAMG,SAAS,eAAeL,MA+BzC,OA7C4CM,EAAAjB,EAAAD,GAkB1CC,EAAAkB,UAAAC,OAAA,WACQ,IAAAC,EAAAjB,KAAAU,MAAEQ,EAAAD,EAAAC,YAAaV,EAAAS,EAAAT,UAAWW,EAAAF,EAAAE,SAEhC,OACEC,EAAA,oBAAIC,UAAWC,EAAW,cAAe,CAAEC,OAAQJ,IAAaK,IAAK,QAAQhB,GAC3EY,EAAA,cAACK,EAAA,EAAe,CAACJ,UAAU,qBAAqBK,QAASR,IAAgBV,GACvEY,EAAA,mBACEC,UAAWC,EAAW,CAAEK,sBAAuB3B,KAAKU,MAAMkB,YAAYC,iBACtDrB,EAChBsB,KAAK,IACLC,QAAS/B,KAAKE,gBACd8B,aAAchC,KAAKY,sBACnBQ,EAAA,qBAAKC,UAAU,4CACbD,EAAA,cAACa,EAAA,iBAAgB,CACfC,eAAgBC,OAAAC,EAAA,EAAAD,CAAU,yBAC1BE,GAAI,wBACJC,OAAQ,CACNd,IAAKJ,EAAA,sBAAMC,UAAU,yCAAuC,aAIlED,EAAA,0BAAOe,OAAAC,EAAA,EAAAD,CAAU,kBAM7BtC,EA7CA,CAA4CuB,EAAA,yBCE9B,SAAUmB,EAAc7B,GACpC,IAAM8B,EAAaL,OAAOM,KAAK/B,EAAMgC,SAC/BC,EAAwC,GAmC9C,OAjCAR,OAAAS,EAAA,EAAAT,CAAeK,GAAYK,QAAQ,SAAArC,GACjC,IAAMsC,EAAapC,EAAMgC,QAAQlC,GAE7BsC,EAAWC,OAAS,GAAKJ,EAAmBI,OAAS,GACvDJ,EAAmBK,KAAK5B,EAAA,oBAAIC,UAAU,UAAUG,IAAK,WAAWhB,KAG9DsC,EAAWC,OAAS,GACtBJ,EAAmBK,KACjB5B,EAAA,oBAAIC,UAAU,cAAcG,IAAK,UAAUhB,GACxC2B,OAAAC,EAAA,EAAAD,CAAU,aAAc3B,KAK/BsC,EAAWD,QAAQ,SAAAI,GAAa,OAAAN,EAAmBK,KAAKtC,EAAMwC,aAA9BD,MAEhC,IAAME,EAAOzC,EAAMyC,KAAK3C,QACX4C,IAATD,GAAsBA,EAAO,GAC/BR,EAAmBK,KACjB5B,EAAA,cAACiC,EAAc,CACbzB,UAAWlB,EAAMkB,UACjBJ,IAAK,QAAQhB,EACbU,YAAaR,EAAMQ,YACnBP,YAAaD,EAAMC,YACnBE,SAAUH,EAAMG,SAChBL,UAAWA,EACXW,SAAUT,EAAMS,WAAa,eAAeX,OAM7CmC,EAAmBI,OAAS,EACjC3B,EAAA,oBAAIC,UAAU,QAAQsB,GAEtBjC,EAAM4C,kBA5EVC,EAAAC,EAAAC,EAAA,4BAAAlB","file":"js/371.1562761687107.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport * as classNames from 'classnames';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  allowMore: boolean;\n  loadingMore?: string;\n  onMoreClick: (qualifier: string) => void;\n  onSelect: (qualifier: string) => void;\n  qualifier: string;\n  selected: boolean;\n}\n\nexport default class SearchShowMore extends React.PureComponent<Props> {\n  handleMoreClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n    const { qualifier } = event.currentTarget.dataset;\n    if (qualifier) {\n      this.props.onMoreClick(qualifier);\n    }\n  };\n\n  handleMoreMouseEnter = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    const { qualifier } = event.currentTarget.dataset;\n    if (qualifier) {\n      this.props.onSelect(`qualifier###${qualifier}`);\n    }\n  };\n\n  render() {\n    const { loadingMore, qualifier, selected } = this.props;\n\n    return (\n      <li className={classNames('menu-footer', { active: selected })} key={`more-${qualifier}`}>\n        <DeferredSpinner className=\"navbar-search-icon\" loading={loadingMore === qualifier}>\n          <a\n            className={classNames({ 'cursor-not-allowed': !this.props.allowMore })}\n            data-qualifier={qualifier}\n            href=\"#\"\n            onClick={this.handleMoreClick}\n            onMouseEnter={this.handleMoreMouseEnter}>\n            <div className=\"pull-right text-muted-2 menu-footer-note\">\n              <FormattedMessage\n                defaultMessage={translate('search.show_more.hint')}\n                id={'search.show_more.hint'}\n                values={{\n                  key: <span className=\"shortcut-button shortcut-button-small\">Enter</span>\n                }}\n              />\n            </div>\n            <span>{translate('show_more')}</span>\n          </a>\n        </DeferredSpinner>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SearchShowMore from './SearchShowMore';\nimport { sortQualifiers, More, ComponentResult, Results } from './utils';\nimport { translate } from '../../../helpers/l10n';\n\nexport interface Props {\n  allowMore: boolean;\n  loadingMore?: string;\n  more: More;\n  onMoreClick: (qualifier: string) => void;\n  onSelect: (componentKey: string) => void;\n  renderNoResults: () => React.ReactElement<any>;\n  renderResult: (component: ComponentResult) => React.ReactNode;\n  results: Results;\n  selected?: string;\n}\n\nexport default function SearchResults(props: Props): React.ReactElement<Props> {\n  const qualifiers = Object.keys(props.results);\n  const renderedComponents: React.ReactNode[] = [];\n\n  sortQualifiers(qualifiers).forEach(qualifier => {\n    const components = props.results[qualifier];\n\n    if (components.length > 0 && renderedComponents.length > 0) {\n      renderedComponents.push(<li className=\"divider\" key={`divider-${qualifier}`} />);\n    }\n\n    if (components.length > 0) {\n      renderedComponents.push(\n        <li className=\"menu-header\" key={`header-${qualifier}`}>\n          {translate('qualifiers', qualifier)}\n        </li>\n      );\n    }\n\n    components.forEach(component => renderedComponents.push(props.renderResult(component)));\n\n    const more = props.more[qualifier];\n    if (more !== undefined && more > 0) {\n      renderedComponents.push(\n        <SearchShowMore\n          allowMore={props.allowMore}\n          key={`more-${qualifier}`}\n          loadingMore={props.loadingMore}\n          onMoreClick={props.onMoreClick}\n          onSelect={props.onSelect}\n          qualifier={qualifier}\n          selected={props.selected === `qualifier###${qualifier}`}\n        />\n      );\n    }\n  });\n\n  return renderedComponents.length > 0 ? (\n    <ul className=\"menu\">{renderedComponents}</ul>\n  ) : (\n    props.renderNoResults()\n  );\n}\n"],"sourceRoot":""}