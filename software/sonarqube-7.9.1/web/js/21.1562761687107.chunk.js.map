{"version":3,"sources":["webpack:///./src/main/js/apps/permissions/global/components/PageHeader.tsx","webpack:///./src/main/js/apps/permissions/global/components/AllHoldersList.tsx","webpack:///./src/main/js/apps/permissions/global/components/App.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.css?558a","webpack:///./src/main/js/components/controls/HelpTooltip.css","webpack:///./src/main/js/components/controls/ListFooter.tsx"],"names":["_super","PageHeader","__extends","prototype","render","title","this","props","organization","Object","l10n","description","index_js_exposed","className","loading","AllHoldersList_AllHoldersList","AllHoldersList","_this","apply","arguments","handleToggleUser","user","permission","permissions","includes","revokePermissionFromUser","login","grantPermissionToUser","handleToggleGroup","group","revokePermissionFromGroup","name","grantPermissionToGroup","AllHoldersList_extends","_a","filter","groups","groupsPaging","users","usersPaging","l10nPrefix","governanceInstalled","appState","qualifiers","utils","count","total","length","HoldersList","onToggleGroup","onToggleUser","query","SearchForm","onFilter","onSearch","ListFooter","loadMore","onLoadMore","components_AllHoldersList","es","state","rootReducer","App_App","App","call","mounted","loadUsersAndGroups","userPage","groupsPage","getUsers","api_permissions","q","undefined","key","p","Promise","resolve","paging","getGroups","all","loadHolders","setState","then","usersResponse","groupsResponse","stopLoading","pageIndex","concat","addPermissionToGroup","map","candidate","__assign","addPermissionToUser","removePermissionFromGroup","without_default","removePermissionFromUser","groupName","App_extends","componentDidMount","componentWillUnmount","Suggestions","suggestions","Helmet_default","a","components_PageHeader","__webpack_require__","d","__webpack_exports__","HelpTooltip","react__WEBPACK_IMPORTED_MODULE_0__","classnames__WEBPACK_IMPORTED_MODULE_1__","_Tooltip__WEBPACK_IMPORTED_MODULE_2__","_icons_components_HelpIcon__WEBPACK_IMPORTED_MODULE_3__","_app_theme__WEBPACK_IMPORTED_MODULE_4__","children","fill","size","_b","tagName","mouseLeaveDelay","onShow","overlay","placement","_SuggestionsContext__WEBPACK_IMPORTED_MODULE_1__","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","componentDidUpdate","prevProps","content","module","i","options","hmr","transform","insertInto","locals","exports","push","link","ready","__rest","hasMore","loadMoreLink","href","onClick","event","preventDefault","currentTarget","blur","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","reloadLink","reload","new-loading","needReload","_helpers_measures__WEBPACK_IMPORTED_MODULE_4__","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__"],"mappings":"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","file":"js/21.1562761687107.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../../helpers/l10n';\n\ninterface Props {\n  loading?: boolean;\n  organization?: {};\n}\n\nexport default class PageHeader extends React.PureComponent<Props> {\n  render() {\n    const title = this.props.organization\n      ? translate('permissions.page')\n      : translate('global_permissions.page');\n\n    const description = this.props.organization\n      ? translate('organization_permissions.page.description')\n      : translate('global_permissions.page.description');\n\n    return (\n      <header className=\"page-header\">\n        <h1 className=\"page-title\">{title}</h1>\n\n        {this.props.loading && <i className=\"spinner\" />}\n\n        <div className=\"page-description\">{description}</div>\n      </header>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport SearchForm from '../../shared/components/SearchForm';\nimport HoldersList from '../../shared/components/HoldersList';\nimport ListFooter from '../../../../components/controls/ListFooter';\nimport {\n  PERMISSIONS_ORDER_GLOBAL,\n  convertToPermissionDefinitions,\n  PERMISSIONS_ORDER_GLOBAL_GOV\n} from '../../utils';\nimport { Store, getAppState } from '../../../../store/rootReducer';\n\ninterface StateProps {\n  appState: Pick<T.AppState, 'qualifiers'>;\n}\n\ninterface OwnProps {\n  filter: string;\n  grantPermissionToGroup: (groupName: string, permission: string) => Promise<void>;\n  grantPermissionToUser: (login: string, permission: string) => Promise<void>;\n  groups: T.PermissionGroup[];\n  groupsPaging?: T.Paging;\n  loadHolders: () => void;\n  loading?: boolean;\n  onLoadMore: () => void;\n  onFilter: (filter: string) => void;\n  onSearch: (query: string) => void;\n  organization?: T.Organization;\n  query: string;\n  revokePermissionFromGroup: (groupName: string, permission: string) => Promise<void>;\n  revokePermissionFromUser: (login: string, permission: string) => Promise<void>;\n  users: T.PermissionUser[];\n  usersPaging?: T.Paging;\n}\n\ntype Props = StateProps & OwnProps;\n\nexport class AllHoldersList extends React.PureComponent<Props> {\n  handleToggleUser = (user: T.PermissionUser, permission: string) => {\n    const hasPermission = user.permissions.includes(permission);\n    if (hasPermission) {\n      return this.props.revokePermissionFromUser(user.login, permission);\n    } else {\n      return this.props.grantPermissionToUser(user.login, permission);\n    }\n  };\n\n  handleToggleGroup = (group: T.PermissionGroup, permission: string) => {\n    const hasPermission = group.permissions.includes(permission);\n\n    if (hasPermission) {\n      return this.props.revokePermissionFromGroup(group.name, permission);\n    } else {\n      return this.props.grantPermissionToGroup(group.name, permission);\n    }\n  };\n\n  render() {\n    const { filter, groups, groupsPaging, users, usersPaging } = this.props;\n    const l10nPrefix = this.props.organization ? 'organizations_permissions' : 'global_permissions';\n    const governanceInstalled = this.props.appState.qualifiers.includes('VW');\n    const permissions = convertToPermissionDefinitions(\n      governanceInstalled ? PERMISSIONS_ORDER_GLOBAL_GOV : PERMISSIONS_ORDER_GLOBAL,\n      l10nPrefix\n    );\n\n    let count = 0;\n    let total = 0;\n    if (filter !== 'users') {\n      count += groups.length;\n      total += groupsPaging ? groupsPaging.total : groups.length;\n    }\n    if (filter !== 'groups') {\n      count += users.length;\n      total += usersPaging ? usersPaging.total : users.length;\n    }\n\n    return (\n      <>\n        <HoldersList\n          filter={this.props.filter}\n          groups={this.props.groups}\n          loading={this.props.loading}\n          onToggleGroup={this.handleToggleGroup}\n          onToggleUser={this.handleToggleUser}\n          permissions={permissions}\n          query={this.props.query}\n          users={this.props.users}>\n          <SearchForm\n            filter={this.props.filter}\n            onFilter={this.props.onFilter}\n            onSearch={this.props.onSearch}\n            query={this.props.query}\n          />\n        </HoldersList>\n        <ListFooter count={count} loadMore={this.props.onLoadMore} total={total} />\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  appState: getAppState(state)\n});\n\nexport default connect(mapStateToProps)(AllHoldersList);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport { without } from 'lodash';\nimport PageHeader from './PageHeader';\nimport AllHoldersList from './AllHoldersList';\nimport * as api from '../../../../api/permissions';\nimport Suggestions from '../../../../app/components/embed-docs-modal/Suggestions';\nimport { translate } from '../../../../helpers/l10n';\nimport '../../styles.css';\n\ninterface Props {\n  organization?: T.Organization;\n}\n\ninterface State {\n  filter: 'all' | 'groups' | 'users';\n  groups: T.PermissionGroup[];\n  groupsPaging?: T.Paging;\n  loading: boolean;\n  query: string;\n  users: T.PermissionUser[];\n  usersPaging?: T.Paging;\n}\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      filter: 'all',\n      groups: [],\n      loading: true,\n      query: '',\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadHolders();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadUsersAndGroups = (userPage?: number, groupsPage?: number) => {\n    const { organization } = this.props;\n    const { filter, query } = this.state;\n\n    const getUsers: Promise<{ paging?: T.Paging; users: T.PermissionUser[] }> =\n      filter !== 'groups'\n        ? api.getGlobalPermissionsUsers({\n            q: query || undefined,\n            organization: organization && organization.key,\n            p: userPage\n          })\n        : Promise.resolve({ paging: undefined, users: [] });\n\n    const getGroups: Promise<{ paging?: T.Paging; groups: T.PermissionGroup[] }> =\n      filter !== 'users'\n        ? api.getGlobalPermissionsGroups({\n            q: query || undefined,\n            organization: organization && organization.key,\n            p: groupsPage\n          })\n        : Promise.resolve({ paging: undefined, groups: [] });\n\n    return Promise.all([getUsers, getGroups]);\n  };\n\n  loadHolders = () => {\n    this.setState({ loading: true });\n    return this.loadUsersAndGroups().then(([usersResponse, groupsResponse]) => {\n      if (this.mounted) {\n        this.setState({\n          groups: groupsResponse.groups,\n          groupsPaging: groupsResponse.paging,\n          loading: false,\n          users: usersResponse.users,\n          usersPaging: usersResponse.paging\n        });\n      }\n    }, this.stopLoading);\n  };\n\n  onLoadMore = () => {\n    const { usersPaging, groupsPaging } = this.state;\n    this.setState({ loading: true });\n    return this.loadUsersAndGroups(\n      usersPaging ? usersPaging.pageIndex + 1 : 1,\n      groupsPaging ? groupsPaging.pageIndex + 1 : 1\n    ).then(([usersResponse, groupsResponse]) => {\n      if (this.mounted) {\n        this.setState(({ groups, users }) => ({\n          groups: [...groups, ...groupsResponse.groups],\n          groupsPaging: groupsResponse.paging,\n          loading: false,\n          users: [...users, ...usersResponse.users],\n          usersPaging: usersResponse.paging\n        }));\n      }\n    }, this.stopLoading);\n  };\n\n  onFilter = (filter: 'all' | 'groups' | 'users') => {\n    this.setState({ filter }, this.loadHolders);\n  };\n\n  onSearch = (query: string) => {\n    this.setState({ query }, this.loadHolders);\n  };\n\n  addPermissionToGroup = (groups: T.PermissionGroup[], group: string, permission: string) => {\n    return groups.map(candidate =>\n      candidate.name === group\n        ? { ...candidate, permissions: [...candidate.permissions, permission] }\n        : candidate\n    );\n  };\n\n  addPermissionToUser = (users: T.PermissionUser[], user: string, permission: string) => {\n    return users.map(candidate =>\n      candidate.login === user\n        ? { ...candidate, permissions: [...candidate.permissions, permission] }\n        : candidate\n    );\n  };\n\n  removePermissionFromGroup = (groups: T.PermissionGroup[], group: string, permission: string) => {\n    return groups.map(candidate =>\n      candidate.name === group\n        ? { ...candidate, permissions: without(candidate.permissions, permission) }\n        : candidate\n    );\n  };\n\n  removePermissionFromUser = (users: T.PermissionUser[], user: string, permission: string) => {\n    return users.map(candidate =>\n      candidate.login === user\n        ? { ...candidate, permissions: without(candidate.permissions, permission) }\n        : candidate\n    );\n  };\n\n  grantPermissionToGroup = (group: string, permission: string) => {\n    if (this.mounted) {\n      this.setState(({ groups }) => ({\n        groups: this.addPermissionToGroup(groups, group, permission)\n      }));\n      return api\n        .grantPermissionToGroup({\n          groupName: group,\n          permission,\n          organization: this.props.organization && this.props.organization.key\n        })\n        .then(\n          () => {},\n          () => {\n            if (this.mounted) {\n              this.setState(({ groups }) => ({\n                groups: this.removePermissionFromGroup(groups, group, permission)\n              }));\n            }\n          }\n        );\n    }\n    return Promise.resolve();\n  };\n\n  grantPermissionToUser = (user: string, permission: string) => {\n    if (this.mounted) {\n      this.setState(({ users }) => ({\n        users: this.addPermissionToUser(users, user, permission)\n      }));\n      return api\n        .grantPermissionToUser({\n          login: user,\n          permission,\n          organization: this.props.organization && this.props.organization.key\n        })\n        .then(\n          () => {},\n          () => {\n            if (this.mounted) {\n              this.setState(({ users }) => ({\n                users: this.removePermissionFromUser(users, user, permission)\n              }));\n            }\n          }\n        );\n    }\n    return Promise.resolve();\n  };\n\n  revokePermissionFromGroup = (group: string, permission: string) => {\n    if (this.mounted) {\n      this.setState(({ groups }) => ({\n        groups: this.removePermissionFromGroup(groups, group, permission)\n      }));\n      return api\n        .revokePermissionFromGroup({\n          groupName: group,\n          permission,\n          organization: this.props.organization && this.props.organization.key\n        })\n        .then(\n          () => {},\n          () => {\n            if (this.mounted) {\n              this.setState(({ groups }) => ({\n                groups: this.addPermissionToGroup(groups, group, permission)\n              }));\n            }\n          }\n        );\n    }\n    return Promise.resolve();\n  };\n\n  revokePermissionFromUser = (user: string, permission: string) => {\n    if (this.mounted) {\n      this.setState(({ users }) => ({\n        users: this.removePermissionFromUser(users, user, permission)\n      }));\n      return api\n        .revokePermissionFromUser({\n          login: user,\n          permission,\n          organization: this.props.organization && this.props.organization.key\n        })\n        .then(\n          () => {},\n          () => {\n            if (this.mounted) {\n              this.setState(({ users }) => ({\n                users: this.addPermissionToUser(users, user, permission)\n              }));\n            }\n          }\n        );\n    }\n    return Promise.resolve();\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"page page-limited\">\n        <Suggestions suggestions=\"global_permissions\" />\n        <Helmet title={translate('global_permissions.permission')} />\n        <PageHeader loading={this.state.loading} organization={this.props.organization} />\n        <AllHoldersList\n          filter={this.state.filter}\n          grantPermissionToGroup={this.grantPermissionToGroup}\n          grantPermissionToUser={this.grantPermissionToUser}\n          groups={this.state.groups}\n          groupsPaging={this.state.groupsPaging}\n          loadHolders={this.loadHolders}\n          loading={this.state.loading}\n          onFilter={this.onFilter}\n          onLoadMore={this.onLoadMore}\n          onSearch={this.onSearch}\n          query={this.state.query}\n          revokePermissionFromGroup={this.revokePermissionFromGroup}\n          revokePermissionFromUser={this.revokePermissionFromUser}\n          users={this.state.users}\n          usersPaging={this.state.usersPaging}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip, { Placement } from './Tooltip';\nimport HelpIcon from '../icons-components/HelpIcon';\nimport * as theme from '../../app/theme';\nimport './HelpTooltip.css';\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  onShow?: () => void;\n  overlay: React.ReactNode;\n  placement?: Placement;\n  tagName?: string;\n}\n\nexport default function HelpTooltip(props: Props) {\n  const { children = <HelpIcon fill={theme.gray71} size={12} />, tagName = 'div' } = props;\n\n  return React.createElement(\n    tagName,\n    { className: classNames('help-tooltip', props.className) },\n    <Tooltip\n      mouseLeaveDelay={0.25}\n      onShow={props.onShow}\n      overlay={props.overlay}\n      placement={props.placement}>\n      <span className=\"display-inline-flex-center\">{children}</span>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./HelpTooltip.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./HelpTooltip.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./HelpTooltip.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\nexport interface Props {\n  count: number;\n  className?: string;\n  loading?: boolean;\n  loadMore?: () => void;\n  needReload?: boolean;\n  reload?: () => void;\n  ready?: boolean;\n  total?: number;\n}\n\nexport default function ListFooter({ ready = true, ...props }: Props) {\n  const handleLoadMore = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (props.loadMore) {\n      props.loadMore();\n    }\n  };\n\n  const handleReload = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (props.reload) {\n      props.reload();\n    }\n  };\n\n  const hasMore = props.total && props.total > props.count;\n\n  const loadMoreLink = (\n    <a className=\"spacer-left\" href=\"#\" onClick={handleLoadMore}>\n      {translate('show_more')}\n    </a>\n  );\n\n  const reloadLink = (\n    <a className=\"spacer-left\" href=\"#\" onClick={handleReload}>\n      {translate('reload')}\n    </a>\n  );\n\n  const className = classNames(\n    'spacer-top note text-center',\n    { 'new-loading': !ready },\n    props.className\n  );\n\n  let link;\n\n  if (props.needReload && props.reload) {\n    link = reloadLink;\n  } else if (hasMore && props.loadMore) {\n    link = loadMoreLink;\n  }\n\n  return (\n    <footer className={className}>\n      {translateWithParameters(\n        'x_of_y_shown',\n        formatMeasure(props.count, 'INT', null),\n        formatMeasure(props.total, 'INT', null)\n      )}\n      {link}\n      {props.loading && <DeferredSpinner className=\"text-bottom spacer-left position-absolute\" />}\n    </footer>\n  );\n}\n"],"sourceRoot":""}